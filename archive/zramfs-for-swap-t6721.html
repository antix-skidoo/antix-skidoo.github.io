<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>zramfs for swap - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./zramfs-for-swap-t6721.html">zramfs for swap</a></div>
<div class="pagination">
4 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_49236" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile49236">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content49236">
<time datetime="2016-11-27T13:06">posted: 2016-11-27 &nbsp; 13:06</time>
<span class="permalink"><a href="./zramfs-for-swap-t6721.html#p49236" title="permalink">#1</a></span>

<div class="content"><span style="font-size: 85%; line-height: normal">Opening new thread per SamK's gracious suggestion:</span><br>
Sam, you wrote you have been using a compressed memory swapfile on a <br>
laptop with as little as 384 MB memory. While i understand the argument <br>
about belating the use of swap to hard disk - and associated thrashing - <br>
yet it would seem disadvantageous, having already a small total of RAM, <br>
to reduce the size available for processes even more. In addition, <br>
the operation of zram compression/decompression would be taxing <br>
a slow CPU, hence reducing the performance overall, wouldn't it ?<br>
I might as well do so expermineting of my own...<br>
How many kilobytes had you allocated for that <em>zram</em>'d swap area, please ?</div>
</div>
</div>

</div>
</div>
<div id="p_49272" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile49272">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
 <div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content49272">

<time datetime="2016-11-28T19:48">posted: 2016-11-28 &nbsp; 19:48</time>
<span class="permalink"><a href="./zramfs-for-swap-t6721.html#p49272" title="permalink">#2</a></span>

<div class="content"><blockquote><div><cite>Ninho wrote:</cite>...it would seem disadvantageous, having already a small total of RAM,<br>
to reduce the size available for processes even more. In addition,<br>
the operation of zram compression/decompression would be taxing<br>
a slow CPU, hence reducing the performance overall, wouldn't it ?</div></blockquote>These are reasonable questions that are I have seen asked by others when first thinking of using zram. You went on to answer your own questions when you went on to say<blockquote><div><cite>Ninho wrote:</cite>I might as well do so expermineting of my own...</div></blockquote>In the end it is the only way you will reach a decision.<br>
<blockquote><div><cite>Ninho wrote:</cite>...it would seem disadvantageous, having already a small total of RAM,<br>
to reduce the size available for processes even more.</div></blockquote>Presumably your view extends to the use of compressed files like zip or tgz or 7z files using up some disk space that could be used for other files or even allocating a swap partition means there is less overall disk space available.
<blockquote><div><cite>Ninho wrote:</cite>In addition,<br>
the operation of zram compression/decompression would be taxing<br>
a slow CPU, hence reducing the performance overall...</div></blockquote>This is understandable speculation. Try it for yourself then decide. I have never noticed the effect you describe even on the least powerful kit.<br>
<br>
Re-read the original linked post post46641.html#p46641<br>
its basic thrust is about ways to optimise performance on ancient kit. Often such kit has a low spec. Trying to use that kit in the same way you might use modern high spec kit is a fruitless exercise. So if you intend to use zram to achieve that be prepared for a disappointment. The post covers a range of ideas, any one of which may not produce a big gain. The right combination of them (which might include the use of zram) is much more likely to produce worthwhile results. One of the ways to obtain the most noticeable improvements is to choose appropriate apps and use them in a sensible way. If you want to use any form of swap space to compensate for a lack of physical RAM in old kit in order to employ demanding modern apps you are again likely to be disappointed. You will get much more performance from your old system by slightly modifying the way you perform your daily tasks and using other lightweight apps to do them. By giving up a small amount of convenience it is possible to obtain large gains.<br>
<br>
On old resource limited kit, trying to view zram in isolation is not helpful. It is more beneficial to look at it in the context of your overall system which in essence means the capability of your hardware, the apps you intend to use, and the way you use them.<br>
<br>
I'm not advocating in favour or against the use of zram. It is your system and in the end you will make your own choice. When building a system I use guidelines and a form of flowchart for swap space that I prepared some years back. I never published them because swap space is one of those contentious areas where people tend to aggressively defend their own preferences. All I will say is they have served me well and whenever I use zram (often in conjunction with a disk based swap space) I am happy with the outcome.</div>
</div>
</div>

</div>
</div>
<div id="p_49279" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile49279">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content49279">

<time datetime="2016-11-29T14:43">posted: 2016-11-29 &nbsp; 14:43</time>
<span class="permalink"><a href="./zramfs-for-swap-t6721.html#p49279" title="permalink">#3</a></span>

<div class="content">Well, thanks for sharing your reasoned thoughts - though you haven't answered re: how much for a start you allocated to the virtual-memory-in-zRAM from 384 MBytes total ? -<br>
Still not convinced there could be <em>any</em> circumstances to make such an arrangement beneficial, but let's agree to disagree here ;=)<br>
The other suggestions and general philosophy of your posts in thread very much appreciated and agreed with !</div>
</div>
</div>

</div>
</div>
<div id="p_49284" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile49284">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content49284">

<time datetime="2016-11-29T18:36">posted: 2016-11-29 &nbsp; 18:36</time>
<span class="permalink"><a href="./zramfs-for-swap-t6721.html#p49284" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>Ninho wrote:</cite>Still not convinced there could be <em>any</em> circumstances to make such an arrangement beneficial...</div></blockquote>That's OK, as I said previously I'm not trying to convince you or anyone else, though your comment has a tang of having done little before making such an observation.<br>
<br>
A few thoughts off-the-top-of-my-head
<ul>
<li>It seems unlikely that zram would be merged into the Linux kernel if there was no benefit to it</li>
<li>Running in RAM is inherently faster than running from disk; that includes swap</li>
<li>Using antiX in live nomadic mode on modern highly spec'd kit that you do not administrate and therby cannot be certain a disk based swap area is available or accessible</li>
<li>Potentially extending the life of a USB stick running antiX in live mode when a swap space is wanted on the stick</li></ul>
Some quotes from 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://en.wikipedia.org/wiki/Zram"<br>linktext was:"https://en.wikipedia.org/wiki/Zram"<br>====================================<br>

<blockquote><div><cite>wikipedia wrote:</cite>
zram was merged into the Linux kernel mainline in kernel version 3.14...<br>
[...]<br>
Since using zram is an alternative way to provide swapping on RAM, zram allows Linux to make a better use of RAM when swapping/paging is required, especially on older computers with less RAM installed.<br>
[...]<br>
Google uses zram in Chrome OS since 2013[7] and in Android since its version 4.4.[8] Lubuntu also started using zram in its version 13.10.[9] As of December 2012,[needs update?] Ubuntu has considered enabling zram by default on computers with small amounts of installed RAM</div></blockquote></div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
4 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
