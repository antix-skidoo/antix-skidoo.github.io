<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Devmon in a Multi-User Environment - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-m11-jayaben-desai-f43/index.html"><span>antiX-M11 Jayaben Desai</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./devmon-in-a-multi-user-environment-t3380.html">Devmon in a Multi-User Environment</a></div>
<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_22350" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile22350">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content22350">
<time datetime="2011-10-16T10:19">posted: 2011-10-16 &nbsp; 10:19</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22350" title="permalink">#1</a></span>

<div class="content">I would like to have external storage devices be automatically mounted when they are attached to the local machine. Devmon seems to work fine for this when tested for a single user account.<br>
<br>
In antiX, what is the recommended way to start Devmon in a multi-user set-up so that automatic mounting occurs for all user accounts?</div>
</div>
</div>

</div>
</div>
<div id="p_22351" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile22351">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content22351">

<time datetime="2011-10-16T11:18">posted: 2011-10-16 &nbsp; 11:18</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22351" title="permalink">#2</a></span>

<div class="content">Does adding devmon to each users startup file work? eg for icewm/startup<br>
<br>
( sleep 5 &amp;&amp; devmon [OPTIONS] ) &amp;<br>
<br>
Alternatively you could add devmon to ~/.xinitrc<br>
<br>
exec ck-launch-session bash -c"devmon [OPTIONS] &amp; icewm-session"</div>
</div>
</div>

</div>
</div>
<div id="p_22352" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile22352">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content22352">

<time datetime="2011-10-16T13:30">posted: 2011-10-16 &nbsp; 13:30</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22352" title="permalink">#3</a></span>

<div class="content">Thanks for those suggestions...<br>
<br>
Rather than repeating the set-up for each individual user account, what I was hoping to find was a way of having a single (global) start of devmon that is applicable to all accounts. <br>
<br>
Perhaps it might be possible to start it earlier, during the boot-up or login routines?</div>
<div class="notice">
Last edited by <b>SamK</b> on 16 Oct 2011, 13:38, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_22353" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile22353">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content22353">

<time datetime="2011-10-16T13:37">posted: 2011-10-16 &nbsp; 13:37</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22353" title="permalink">#4</a></span>

<div class="content">The ~/.xinitrc is global for all users</div>
</div>
</div>

</div>
</div>
<div id="p_22354" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile22354">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content22354">

<time datetime="2011-10-16T13:48">posted: 2011-10-16 &nbsp; 13:48</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22354" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>The ~/.xinitrc is global for all users</div></blockquote>I tried to ask in shoutbox but you had left...<br>
<br>
Is it recreated from a master when new user account is added? or is a single copy shared by all accounts? If I edit ~/.xinitrc for user"A" how does this propagate to ~ for user"B"? Or have I missed your point?<br>
<br>
<br>
Edit by SamK<br>
Is the master file /etc/skel/.xinitrc? If so this might be the place to create a single entry for all new accounts.</div>
</div>
</div>

</div>
</div>
<div id="p_22356" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile22356">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content22356">

<time datetime="2011-10-16T14:42">posted: 2011-10-16 &nbsp; 14:42</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22356" title="permalink">#6</a></span>

<div class="content">Brain dead here, sorry. .xinitrc is user specific.</div>
</div>
</div>

</div>
</div>
<div id="p_22357" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile22357">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 609</span></div>

</div>
</div>
<span class="username">dark-D</span>
</dt>
<dd class="profile-joined">Joined: 02 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content22357">

<time datetime="2011-10-16T14:51">posted: 2011-10-16 &nbsp; 14:51</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22357" title="permalink">#7</a></span>

<div class="content">you could add it to /etc/init.d/rc.local</div>
</div>
</div>

</div>
</div>
<div id="p_22364" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile22364">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 173</span></div>

</div>
</div>
<span class="username">DeepDayze</span>
</dt>
<dd class="profile-joined">Joined: 09 Sep 2011</dd>
</dl>
<div class="postbody">
<div id="post_content22364">

<time datetime="2011-10-16T16:18">posted: 2011-10-16 &nbsp; 16:18</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22364" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>The ~/.xinitrc is global for all users</div></blockquote>
I think its /etc/.xinitrc that's global as ~/.xinitrc is generally in a user's home folder.</div>
</div>
</div>

</div>
</div>
<div id="p_22377" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile22377">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content22377">

<time datetime="2011-10-17T11:21">posted: 2011-10-17 &nbsp; 11:21</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22377" title="permalink">#9</a></span>

<div class="content">From the results of experimentation, it seems that a single (global) start of devmon is not practical. It is possible to start it early in the boot-up process and have it automatically mount removable devices. The downside of this approach is that the resulting mount point is only usable via the root account.<br>
<br>
As indicated here:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://igurublog.wordpress.com/downloads/script-devmon"<br>linktext was:"http://igurublog.wordpress.com/downloads/script-devmon"<br>====================================<br>
<br>
devmon is best started after the display manager SLiM. Again from experiments, starting devmon via SLiM does not work. It is only usable by an unprivileged user when started after a successful login.<br>
<br>
The earliest point in the chain appears to be xinitrc. Adding the following towards the head of ~/.xinitrc displays a notification that automatic mounting has been conducted.<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>...
# Uncomment to report and automatically mount removable drives upon plugging in
devmon --info-on-mount &amp;
# The following line gets changed by antiX-init.sh...</code></pre></div>
For a single user account this can be done via antiX Control Center-&gt;Login Options.<br>
<br>
For a multi-user scenario adding the entry to /etc/skel/.xinitrc will ensure each subsequently created account contains the entry within ~/.xinitrc of each user.<br>
<br>
Using both devmon and unplugdrive.sh provides auto-mounting and unmounting in simple manner for all users, via the GUI. It might add an extra layer of appeal to non technical users or to those that simply prefer convenience.<br>
<br>
As a footnote, might this be worth considering as a standard entry for antiX?</div>
</div>
</div>

</div>
</div>
<div id="p_22378" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile22378">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content22378">

<time datetime="2011-10-17T18:55">posted: 2011-10-17 &nbsp; 18:55</time>
<span class="permalink"><a href="./devmon-in-a-multi-user-environment-t3380.html#p22378" title="permalink">#10</a></span>

<div class="content"><blockquote class="uncited"><div>As a footnote, might this be worth considering as a standard entry for antiX?</div></blockquote>
I hate auto-mounting. When I have many partitions on external devices, it makes my life MUCH more difficult. OTOH, I can see that it makes things a little easier for people with very simple systems.<br>
<br>
One compromise solution would be to have a simple way to turn auto-mounting on and off from the GUI. For example, instead of calling devmon directly from .xinitrc, we could call a helper script that calls devmon (or not) based on a value in a configuration file.<br>
<br>
<strong>Edit:</strong> Oops. I just noticed your"uncomment" comment. I would suggest the following changes so devmon is only called if it exists and if the udisks program exists:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Uncomment to report and automatically mount removable drives upon plugging in
# which devmon &amp;&gt;/dev/null &amp;&amp; which udisks &amp;&gt;/dev/null &amp;&amp; devmon --info-on-mount &amp;</code></pre></div></div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
