<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Conky doesn't appear to recognise my AC adapter - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html">Conky doesn't appear to recognise my AC adapter</a></div>
<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_26689" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile26689">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 137</span></div>

</div>
</div>
<span class="username">duncan_mk</span>
</dt>
<dd class="profile-joined">Joined: 19 Sep 2012</dd>
</dl>
<div class="postbody">
<div id="post_content26689">
<time datetime="2012-11-03T00:55">posted: 2012-11-03 &nbsp; 00:55</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26689" title="permalink">#1</a></span>

<div class="content">Part of my conky setup looks like this:<br>
<br>
${color}battery: ${battery_percent BAT1}%<br>
${color}AC adapter: ${color}$acpiacadapter<br>
<br>
The battery shows up OK but the on-screen message about the adapter is"no ac_adapters?"<br>
<br>
another slight problem may be that:<br>
<br>
$ acpi -bai<br>
<br>
shows the following:<br>
<br>
Battery 0: Charging, 74%, 01:22:25 until charged<br>
Battery 0: design capacity 4726 mAh, last full capacity 4231 mAh = 89%<br>
Adapter 0: on-line<br>
<br>
I've tried using BAT0 in conky but conky doesn't recognise it &amp; it makes no difference to the status of the adapter.<br>
<br>
I can't help thinking I'm missing something obvious. Any ideas?<br>
<br>
dmk</div>
</div>
</div>

</div>
</div>
<div id="p_26690" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile26690">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content26690">

<time datetime="2012-11-03T13:03">posted: 2012-11-03 &nbsp; 13:03</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26690" title="permalink">#2</a></span>

<div class="content">My 3 conky lines in my EEEPC for battery are as follows<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>${color}Bat:${battery BAT0}
${alignr}${battery_bar 6,200 BAT0}
${battery_time BAT0}</code></pre></div>
That works for me but I am using AntiX 8.5 still on that EEEPC 701SD netbook.<br>
<br>
My conky thread : 701sd-conky-with-temps-fanspeed-battery-link-strength-t2618.html<br>
<br>
I would go to the second page because my conkyrc file has evolved since initial install.</div>
</div>
</div>

</div>
</div>
<div id="p_26691" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile26691">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 279</span></div>

</div>
</div>
<span class="username">afab4</span>
</dt>
<dd class="profile-joined">Joined: 17 Oct 2009</dd>
</dl>
<div class="postbody">
<div id="post_content26691">

<time datetime="2012-11-03T13:15">posted: 2012-11-03 &nbsp; 13:15</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26691" title="permalink">#3</a></span>

<div class="content">Also check out this old post.<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"antix.freeforu ms.org/post16119.html"<br>linktext was:"antix.freeforu ms.org/post16119.html"<br>====================================<br>
</div>
</div>
</div>

</div>
</div>
<div id="p_26695" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile26695">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 137</span></div>

</div>
</div>
<span class="username">duncan_mk</span>
</dt>
<dd class="profile-joined">Joined: 19 Sep 2012</dd>
</dl>
<div class="postbody">
<div id="post_content26695">

<time datetime="2012-11-03T16:19">posted: 2012-11-03 &nbsp; 16:19</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26695" title="permalink">#4</a></span>

<div class="content">Thanks, I'll have a look - and Roky, I'm running antiX on a (by now) venerable, 3/4(?) yr old Dell netbook. What you have to say is probably right up my street!<br>
<br>
dmk</div>
</div>
</div>

</div>
</div>
<div id="p_26702" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile26702">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 137</span></div>

</div>
</div>
<span class="username">duncan_mk</span>
</dt>
<dd class="profile-joined">Joined: 19 Sep 2012</dd>
</dl>
<div class="postbody">
<div id="post_content26702">

<time datetime="2012-11-03T21:01">posted: 2012-11-03 &nbsp; 21:01</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26702" title="permalink">#5</a></span>

<div class="content">Ah! Actually these are all about the battery - the reports from that are fine. The problem is with the AC adapter. Because I have the habit of a) plugging the adapter into the mains and forgetting to turn the mains 'on' or b) attaching the cable to the netbook but neglecting to plug it into the wall - an on-screen indication of what I'm doing would be useful.</div>
</div>
</div>

</div>
</div>
<div id="p_26749" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile26749">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 137</span></div>

</div>
</div>
<span class="username">duncan_mk</span>
</dt>
<dd class="profile-joined">Joined: 19 Sep 2012</dd>
</dl>
<div class="postbody">
<div id="post_content26749">

<time datetime="2012-11-07T13:38">posted: 2012-11-07 &nbsp; 13:38</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26749" title="permalink">#6</a></span>

<div class="content">Still struggling with this! Trawled WWW, found a lot of stuff on Linux Questions but nothing relevant (someone called rokytnji seems to be the King of Conk there - sounds familiar?), tried acpi=force - nbg (no bloody good) but dug up a couple of ref's in antiX<br>
<br>
1) $ acpi --help<br>
-p, --proc use old proc interface instead of new sys interface<br>
<br>
so ran (with acpi=force):<br>
<br>
$ acpi -baip # and got:<br>
No support for device type: battery<br>
No support for device type: ac_adapter<br>
<br>
Off to /proc to see what I could find:<br>
<br>
root@antiX1:/home/dmk-antiX<br>
# alf /proc/acpi<br>
total 0<br>
dr-xr-xr-x 3 root root 0 Nov 7 09:54 button/<br>
-rw-r--r-- 1 root root 0 Nov 7 09:54 wakeup<br>
<br>
root@antiX1:/home/dmk-antiX<br>
# cat /proc/acpi/wakeup<br>
Device    S-state Status Sysfs node<br>
LID0 S3    *enabled <br>
HDEF S4    *disabled pci:0000:00:1b.0<br>
PXS1 S4    *disabled <br>
PXS2 S4    *disabled pci:0000:03:00.0<br>
PXS3 S3    *enabled pci:0000:04:00.0<br>
PXS4 S4    *disabled <br>
PXS5 S4    *disabled <br>
PXS6 S4    *disabled <br>
USB1 S0    *enabled pci:0000:00:1d.0<br>
USB2 S0    *enabled pci:0000:00:1d.1<br>
USB3 S0    *enabled pci:0000:00:1d.2<br>
USB4 S0    *enabled pci:0000:00:1d.3<br>
USB7 S0    *enabled pci:0000:00:1d.7<br>
SLT0 S4    *disabled <br>
SLT1 S4    *disabled <br>
SLT2 S4    *disabled <br>
SLT3 S4    *disabled <br>
SLT6 S4    *disabled <br>
<br>
root@antiX1:/home/dmk-antiX<br>
# alf /proc/acpi/button<br>
total 0<br>
dr-xr-xr-x 3 root root 0 Nov 7 09:55 lid/<br>
root@antiX1:/home/dmk-antiX<br>
# alf /proc/acpi/button/lid<br>
total 0<br>
dr-xr-xr-x 2 root root 0 Nov 7 09:55 LID0/<br>
root@antiX1:/home/dmk-antiX<br>
# alf /proc/acpi/button/lid/LID0/<br>
total 0<br>
-r--r--r-- 1 root root 0 Nov 7 09:55 state<br>
<br>
root@antiX1:/home/dmk-antiX<br>
# cat /proc/acpi/button/lid/LID0/state<br>
state: open<br>
<br>
All of which means nothing to me - and, anyway, being a modernista I would prefer the 'new' interface.<br>
<br>
???????????????????????????????????????<br>
<br>
2) /usr/share/doc/acpi/README: <br>
please include a tar file of /proc/acpi or /sys/class depending on the<br>
interface you used.<br>
<br>
And that led to:<br>
<br>
$ alf /sys/class/power_supply/<br>
total 0<br>
lrwxrwxrwx 1 root root 0 Nov 4 08:40 ACAD -&gt; ../../devices/LNXSYSTM:00/device:00/PNP0A08:00/device:2f/ACPI0003:00/power_supply/ACAD/<br>
lrwxrwxrwx 1 root root 0 Nov 4 08:40 BAT1 -&gt; ../../devices/LNXSYSTM:00/device:00/PNP0A08:00/device:2f/PNP0C0A:00/power_supply/BAT1/<br>
<br>
and, eventually, here:<br>
<br>
# alf /sys/devices/LNXSYSTM\:00/device:00/PNP0A08\:00/device:2f/ACPI0003\:00/power_supply/ACAD/<br>
total 0<br>
drwxr-xr-x 2 root root 0 Nov 7 09:15 power/<br>
lrwxrwxrwx 1 root root 0 Nov 7 09:15 device -&gt; ../../../ACPI0003:00/<br>
-r--r--r-- 1 root root 4.0K Nov 7 09:00 online<br>
lrwxrwxrwx 1 root root 0 Nov 7 09:15 subsystem -&gt; ../../../../../../../../class/power_supply/<br>
-r--r--r-- 1 root root 4.0K Nov 7 09:00 type<br>
-rw-r--r-- 1 root root 4.0K Nov 7 09:15 uevent<br>
<br>
<br>
I can't help thinking that the answer's in here somewhere but - no Indiana Jones me - I confess to being cold, lonely, hungry &amp; discouraged. It would be nice if someone (preferably a beautiful young woman) would arrive &amp; give me a hand out of here.<br>
<br>
dmk<br>
<br>
antiX on a Dell Inspiron 1011 netbook</div>
</div>
</div>

</div>
</div>
<div id="p_26751" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile26751">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content26751">

<time datetime="2012-11-07T14:00">posted: 2012-11-07 &nbsp; 14:00</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26751" title="permalink">#7</a></span>

<div class="content"><blockquote class="uncited"><div>
I can't help thinking that the answer's in here somewhere but - no Indiana Jones me - I confess to being cold, lonely, hungry &amp; discouraged. It would be nice if someone (preferably a beautiful young woman) would arrive &amp; give me a hand out of here</div></blockquote>
<img src="http://gifs.gifbin.com/1232469418_spinning.gif" class="postimage" alt="Image"><br>
<br>
<span class="emoticon"> __{{emoticon}}__ </span> Sorry bro. All ya got is me. Do you have lm-sensors and run sensors detect yet. acpitool was another I needed installed.<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://packages.debian.org/stable/acpitool"<br>linktext was:"http://packages.debian.org/stable/acpitool"<br>====================================<br>
<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ apt-cache policy lm-sensors
lm-sensors:
  Installed: 1:3.3.2-2
  Candidate: 1:3.3.2-2
  Version table:
 *** 1:3.3.2-2 0
        100 /var/lib/dpkg/status
</code></pre></div>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://wiki.debian.org/ACPI"<br>linktext was:"http://wiki.debian.org/ACPI"<br>====================================<br>
<br>
<br>
Looks like BAT1 is in there somewhere.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$alf /sys/class/power_supply/
lrwxrwxrwx 1 root root 0 Nov 4 08:40 BAT1 -&gt; ../../devices/LNXSYSTM:00/device:00/PNP0A08:00/device:2f/PNP0C0A:00/power_supply/BAT1</code></pre></div>
<blockquote class="uncited"><div>Ah! Actually these are all about the battery - the reports from that are fine. The problem is with the AC adapter. Because I have the habit of a) plugging the adapter into the mains and forgetting to turn the mains 'on' or b) attaching the cable to the netbook but neglecting to plug it into the wall - an on-screen indication of what I'm doing would be useful.</div></blockquote>
post26691.html#p26691<br>
<br>
That covers whether I have the charger unplugged or not. The Battery time remaining line covers that. You might want to use BAT1 instead of Bat0 though. Good luck <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_26781" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile26781">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 137</span></div>

</div>
</div>
<span class="username">duncan_mk</span>
</dt>
<dd class="profile-joined">Joined: 19 Sep 2012</dd>
</dl>
<div class="postbody">
<div id="post_content26781">

<time datetime="2012-11-08T23:48">posted: 2012-11-08 &nbsp; 23:48</time>
<span class="permalink"><a href="./conky-doesn-t-appear-to-recognise-my-ac-adapter-t3989.html#p26781" title="permalink">#8</a></span>

<div class="content">I'm giving up on this. Having done a thoro' trawl this is not a problem unique to me. As Roky says, the most important thing is the report on the battery level which is fine.<br>
<br>
It just bugs me that the $acpiacadapter doesn't work - altho' I can get the information thru' acpi -a on the terminal.<br>
<br>
dmk<br>
<br>
PS. Roky, thanks for your help and for my lovely assistant.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
