<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>[SOLVED] Flaw in TCP (qv links) Temp fix until kernel repair - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html">[SOLVED] Flaw in TCP (qv links) Temp fix until kernel repair</a></div>
<div class="pagination">
15 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_47859" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47859">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47859">
<time datetime="2016-08-13T09:44">posted: 2016-08-13 &nbsp; 09:44</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47859" title="permalink">#1</a></span>

<div class="content">Hello, All...<br>
<br>
<br>
Am I right, that the"fix" shown within the discussion (at the following link) about <strong>the substantial flaw inherent in Linux TCP</strong> is a <strong><em>systemd</em></strong> fix?<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.zdnet.com/article/linux-tcp-flaw-lets-anyone-hijack-internet-traffic/"<br>linktext was:"http://www.zdnet.com/article/linux-tcp- ... t-traffic/"<br>====================================<br>
<br>
<br>
If that be the case, then can someone please explain, precisely, how I can do this <em>right</em> in Antix (<span style="text-decoration: underline">ie <em>non-systemd</em></span>)?<br>
<br>
<br>
Regards,<br>
aka boombaby</div>
<div class="notice">
Last edited by <b>boombaby</b> on 18 Aug 2016, 09:00, edited 5 times in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_47861" class="post has-profile bg1">
 <div class="inner">
<dl class="postprofile" id="profile47861">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content47861">

<time datetime="2016-08-13T15:55">posted: 2016-08-13 &nbsp; 15:55</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47861" title="permalink">#2</a></span>

<div class="content">Go to<em> /</em>etc/apt/preferences.d<br>
<br>
comment out oosystemd lines<br>
to look like mine<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#Package: *systemd*
#Pin: origin""
#Pin-Priority: -1</code></pre></div>
save it. Then in terminal<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo apt-get update</code></pre></div>
Then do the zdnet dance if you wish. I won't touch it with a 10 foot pole because I own a Iphone so it does not relate to me.<br>
<blockquote class="uncited"><div>it can be used to break or even hijack internet connections between Linux and Android systems.</div></blockquote>
If your system breaks. Not my fault<br>
<br>
Don't forget to change back your changes to stock and do a sudo apt-get update again to bring your install back to stock.<br>
<br>
Good luck with it.<br>
<br>
But if you are patient.<br>
<blockquote class="uncited"><div>First, Linux itself is being patched to stop the attack vector in its track</div></blockquote>
The article is dated<br>
<blockquote class="uncited"><div>August 11, 2016</div></blockquote>
Personally. I'd wait for a Debian fix myself. Because my experiments with systmctl installed broke everything I had in /usr/local/bin</div>
</div>
</div>

</div>
</div>
<div id="p_47862" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47862">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content47862">

<time datetime="2016-08-13T16:38">posted: 2016-08-13 &nbsp; 16:38</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47862" title="permalink">#3</a></span>

<div class="content">Have you read this yet?<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://forum.mepiscommunity.org/viewtopic.php?f=94&amp;t=40336"<br>linktext was:"http://forum.mepiscommunity.org/viewtop ... 94&amp;t=40336"<br>====================================<br>
</div>
</div>
</div>

</div>
</div>
<div id="p_47863" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47863">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 88</span></div>

</div>
</div>
<span class="username">kmathern</span>
</dt>
<dd class="profile-joined">Joined: 25 Aug 2012</dd>
</dl>
<div class="postbody">
<div id="post_content47863">

<time datetime="2016-08-13T16:51">posted: 2016-08-13 &nbsp; 16:51</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47863" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>rokytnji wrote:</cite>...Personally. I'd wait for a Debian fix myself. Because my experiments with <span style="color: #BF0000">systmctl</span> installed broke everything I had in /usr/local/bin</div></blockquote>
The various fixes I've seen use the 'sysctl' utility, which I think you might be confusing with the systemd 'systemctl' utility <em>(though you typed it systmctl)</em>.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ man sysctl | head
SYSCTL(8)                                                         System Administration                                                         SYSCTL(8)
NAME
       sysctl - configure kernel parameters at runtime

SYNOPSIS
       sysctl [options] [variable[=value]] [...]
       sysctl -p [file or regexp] [...]</code></pre></div>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ man systemctl | head
SYSTEMCTL(1)                                                            systemctl                                                            SYSTEMCTL(1)
NAME
       systemctl - Control the systemd system and service manager

SYNOPSIS
       systemctl [OPTIONS...] COMMAND [NAME...]</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_47864" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47864">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content47864">

<time datetime="2016-08-13T19:23">posted: 2016-08-13 &nbsp; 19:23</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47864" title="permalink">#5</a></span>

<div class="content">Thanks for clearing up my snafu kmathern. I am a bit rusty with all the meds pumped into my body.</div>
</div>
</div>

</div>
</div>
<div id="p_47868" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47868">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<table>
<tr>
<td valign="top" class="detail-title"><a><span>Posts</span></a></td>
<td valign="top" class="detail-value"><a href="#"> <span>119</span></a></td>
</tr>
</table>

</div>
</div>
<span class="username">wildstar84</span>
</dt>
<dd class="profile-joined">Joined: 31 May 2014</dd>
</dl>
<div class="postbody">
<div id="post_content47868">

<time datetime="2016-08-14T04:15">posted: 2016-08-14 &nbsp; 04:15</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47868" title="permalink">#6</a></span>

<div class="content">I added this to (slash) etc (slash) sysctl.conf and did: sudo sysctl -p:<br>
<br>
#TEMP. FIX FOR TCP VULNORABILITY: (
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://blogs.akamai.com/2016/08/vulnerability-in-the-linux-kernels-tcp-stack-implementation.html"<br>linktext was:"https://blogs.akamai.com/2016/08/vulner ... ation.html"<br>====================================<br>
)<br>
#AND 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.zdnet.com/article/linux-tcp-flaw-lets-anyone-hijack-internet-traffic/"<br>linktext was:"http://www.zdnet.com/article/linux-tcp- ... t-traffic/"<br>====================================<br>
:<br>
net.ipv4.tcp_challenge_ack_limit= 1073741823</div>
</div>
</div>

</div>
</div>
<div id="p_47870" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47870">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47870">

<time datetime="2016-08-14T07:37">posted: 2016-08-14 &nbsp; 07:37</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47870" title="permalink">#7</a></span>

<div class="content">Hello, Each Respondent...<br>
<br>
I tried: <br>
<br>
sudo...blah...blah...blah <br>
<br>
but it appears sudo doesn't appear to be installed on Antix. <br>
<br>
So I tried: <br>
<br>
su...blah...blah...blah...blah <br>
<br>
but it didn't work. (Permission denied)<br>
<br>
.<br>
So to stop my f'n around I: <br>
<br>
<em>opened a Root-Terminal</em> (which, strangely, only asked for the admin password, not root's) <br>
<br>
and typed:<br>
<br>
<em>EDIT <strong>/ etc/sysctl.conf</strong></em><br>
<br>
&lt; where:"EDIT" represents <em>my/your</em> favourite Editor &gt;<br>
&lt; where: in this forum, in that command, the space between .../ etc... should be removed first, else it won't work &gt;<br>
<br>
which took me to the <em>sysctl.conf</em> file. <br>
<br>
At the bottom of the sysctl.conf file I appended the line:<br>
<br>
<em><strong>net.ipv4.tcp_challenge_ack_limit=</strong>a_10_digit_number</em><br>
<br>
&lt; where:"a_10_digit_number" represents: a random 10-digit number (which was concocted, but has no leading zeros) &gt;<br>
&lt; where: a random 10 digit number might actually be a random 9 digit number (any later post might clarify it &gt; <br>
<br>
Then <em>saved</em> it, and <em>re-booted</em> my system.<br>
<br>
After reboot I opened a plain terminal and typed: <br>
<br>
<strong><em>cat /proc/sys/net/ipv4/tcp_challenge_ack_limit</em></strong><br>
<br>
which produced an output of the very high number previously entered, <span style="text-decoration: underline">which is the desired result</span>.<br>
<br>
<strong>NOTE</strong><br>
I said"10-digit number", but posts (across all links) have used numbers with 8, 9 and 10 digits - so that will need more, final clarity. <br>
<br>
.<br>
.<br>
<strong>NOTE WELL</strong><br>
<br>
1. <span style="text-decoration: underline">Of course I did <strong>not</strong> come up with those commands myself,</span> nor could I have done that by myself in the next 50 to a_random_10_digit_number years (no leading zeros).<br>
<br>
I could only have done it after reading all info and posts - especially with consideration to kmathern's fantastic input in this thread and in other links mentioned. <br>
<br>
In particular, kmathern, I liked the distinction and clarity you produced about the two separate commands: <strong><em>sysctl</em></strong> and <em>systemctl</em> . (I did not know about <em>sysctl</em> before.)<br>
<br>
2. I was unsure about meaning in wildstar84's details (ie between cmds and info) - or why the links were also included. I suspected he was indicating cmds to be used (ie the main part, which I emulated above), <span style="text-decoration: underline">and THAT was my lead</span> to give it a go.<br>
<br>
3. So, essentitally, in this post I have just"re-said" all the main stuff (TOGETHER) to try to"roundup" the finer details in a sequence, so that other newbs and pnewbs could get their head directly on THE WHOLE FIX/TEST. (The"problem" defined within/across all the links was discussed pretty well.)<br>
<br>
4. Also, rokytnji, thanks for the link to mepis community stuff. Not sure - exactly - why we (at Antix) keep referring back to mepis but that was <span style="text-decoration: underline">a good lead</span>.<br>
<br>
P.S. Here in Australia we have might have a different meaning to what you refer to as"meds". Why on Earth you would want to <em>"pump yourself full of meds"</em> sounds very painful, and remains a complete mystery to me! (But that's Linux Users, I guess.)<br>
<br>
5. Thanks also to Steven J. Vaughan-Nichols at the <strong><em>zdnet</em></strong> link, who WAS also pretty-well on the mark, I just combined stuff including the test/check.<br>
<br>
6. So, big THANKS to Each (sorry for the capitals there). I'll leave the thread open for now, for any last wise-man details (but I think you've all managed <em>that part</em> already).<br>
<br>
Regards,</div>
</div>
</div>

</div>
</div>
<div id="p_47871" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47871">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 850</span></div>

</div>
</div>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content47871">

<time datetime="2016-08-14T10:04">posted: 2016-08-14 &nbsp; 10:04</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47871" title="permalink">#8</a></span>

<div class="content">meds = medicines = prescribed drugs <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_47872" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47872">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 452</span></div>

</div>
</div>
<span class="username">Jerry</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content47872">

<time datetime="2016-08-14T10:39">posted: 2016-08-14 &nbsp; 10:39</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47872" title="permalink">#9</a></span>

<div class="content"><blockquote class="uncited"><div>Not sure - exactly - why we (at Antix) keep referring back to mepis </div></blockquote>Because the two communities share the same code base and many resources, and thus work together on many issues. The old"Mepis" is gone, but antiX MX (=MX Linux) is alive and well, and represents a unique symbiosis in the Linux world.</div>
</div>
</div>

</div>
</div>
<div id="p_47874" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47874">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content47874">

<time datetime="2016-08-14T16:36">posted: 2016-08-14 &nbsp; 16:36</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47874" title="permalink">#10</a></span>

<div class="content">As far as me personally. I have been a sick puppy for about a couple of weeks and we are trying to fix it.<br>
<br>
Hence. Meds.</div>
</div>
</div>

</div>
</div>
<div id="p_47879" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47879">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47879">

<time datetime="2016-08-15T08:36">posted: 2016-08-15 &nbsp; 08:36</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47879" title="permalink">#11</a></span>

<div class="content">Hello again...<br>
<br>
And the 8, 9 or 10 digit number? I am only guessing that some"upper limit" should not be breached (as a step to ensure"security")? What is it? Would it matter? <em>Really</em> matter?<br>
<br>
Regards,</div>
</div>
</div>

</div>
</div>
<div id="p_47880" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47880">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content47880">

<time datetime="2016-08-15T15:26">posted: 2016-08-15 &nbsp; 15:26</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47880" title="permalink">#12</a></span>

<div class="content"><strong>tcp_challenge_ack_limit</strong> specifies the maximum"challenge acks" <strong>per second</strong> limit.<br>
The behavior of the"challenge ack" mechanism is detailed here: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://tools.ietf.org/html/rfc5961"<br>linktext was:"https://tools.ietf.org/html/rfc5961"<br>====================================<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>If the RST bit is set and the sequence number does not exactly
      match the next expected sequence value, yet is within the current
      receive window (RCV.NXT &lt; SEG.SEQ &lt; RCV.NXT+RCV.WND), TCP MUST
      send an acknowledgment (challenge ACK):

      &lt;SEQ=SND.NXT&gt;&lt;ACK=RCV.NXT&gt;&lt;CTL=ACK&gt;

      After sending the challenge ACK, TCP MUST drop the unacceptable
      segment and stop processing the incoming packet further.</code></pre></div>
When the limit is low, say 100, an attacker can easily flood/surpass that limit; after emitting 100 challenge acks, victim is resigned to<br>
"shrugging, and allowing the (spoofed, injected by attacker) incoming packets"
<blockquote class="uncited"><div>And the 8, 9 or 10 digit number? ...What is it? Would it matter? Really matter?</div></blockquote>The high limit is necessary (really matters) to ensure that a sufficiently high threshhold is enforced.<br>
Consider how many rcv/ack transactions can occur <strong>per second</strong> via broadband (er gigbit/s) connection.</div>
</div>
</div>

</div>
</div>
<div id="p_47881" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47881">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47881">

<time datetime="2016-08-15T16:44">posted: 2016-08-15 &nbsp; 16:44</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47881" title="permalink">#13</a></span>

<div class="content">No, skidoo, I guess I worded that badly. Sorry. Let me try this way...<br>
<br>
Across all links mentioned in this thread/topic there are incidences of 8, 9 or 10 digit numbers being used - EACH sort of giving/implying some kind of"maximum".<br>
<br>
If the number of digits was limited to (say) 9, but the highest allowable value was (say) <br>
<br>
189,012,345 <br>
<br>
then if I specified (say)<br>
<br>
403,567,890<br>
<br>
then my value would be <em>beyond</em> the actual limit. So, would that be a problem?<br>
<br>
<br>
So - and to try and simplify it - I guess I am asking...<br>
<br>
1.<br>
is there max num of digits,<br>
<br>
or <br>
<br>
2.<br>
is there a max value?<br>
<br>
<br>
<br>
Get the drift? Is there a maximum <em>something</em>, and - if so - what is it?<br>
<br>
<br>
I hope that is clearer.<br>
<br>
Regards,</div>
</div>
</div>

</div>
</div>
<div id="p_47882" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47882">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 88</span></div>

</div>
</div>
<span class="username">kmathern</span>
</dt>
<dd class="profile-joined">Joined: 25 Aug 2012</dd>
</dl>
<div class="postbody">
<div id="post_content47882">

<time datetime="2016-08-15T19:45">posted: 2016-08-15 &nbsp; 19:45</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47882" title="permalink">#14</a></span>

<div class="content"><blockquote><div><cite>boombaby wrote:</cite>... 2. is there a max value? ...</div></blockquote>
It looks like the maximum allowed value for tcp_challenge_ack_limit might be 2,147,483,647, it accepts that value when I try to set it to that.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ sudo sysctl net.ipv4.tcp_challenge_ack_limit=2147483647
net.ipv4.tcp_challenge_ack_limit = 2147483647</code></pre></div>
If I try setting it to 2,147,483,648 I get a 'Invalid argument' message.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ sudo sysctl net.ipv4.tcp_challenge_ack_limit=2147483648
sysctl: setting key"net.ipv4.tcp_challenge_ack_limit": Invalid argument
net.ipv4.tcp_challenge_ack_limit = 2147483648</code></pre></div>
And checking afterwards I see that it didn't get changed
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ sysctl net/ipv4/tcp_challenge_ack_limit
net.ipv4.tcp_challenge_ack_limit = 2147483647</code></pre></div>
2,147,483,647 (7FFFFFFF hex) <em>(or 2^31 - 1)</em> is the maximum positive value for a 32-bit signed binary integer.<br>
<br>
I wouldn't set it that high though, 999,999,999 or the 1,073,741,823 value I mentioned in the forum.mepiscommunity.org thread (
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://forum.mepiscommunity.org/viewtopic.php?f=94&amp;t=40336"<br>linktext was:"http://forum.mepiscommunity.org/viewtop ... 94&amp;t=40336"<br>====================================<br>
) are probably waaay more than enough.<br>
<br>
In the debian patch they're only changing the default from 100 to 1000, though they're also adding some randomization.
<blockquote class="uncited"><div>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://anonscm.debian.org/cgit/kernel/linux.git/commit/?h=jessie-security&amp;id=1bd5c3370523e5846019361b33a97c754db76f8d"<br>linktext was:"https://anonscm.debian.org/cgit/kernel/ ... 754db76f8d"<br>====================================<br>
<br>
+This patch increases the default limit from 100 to 1000, and adds<br>
+some randomization so that the attacker can no longer hijack<br>
+sessions without spending a considerable amount of probes.</div></blockquote></div>
</div>
</div>

</div>
</div>
<div id="p_47886" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47886">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47886">

<time datetime="2016-08-16T04:16">posted: 2016-08-16 &nbsp; 04:16</time>
<span class="permalink"><a href="./solved-flaw-in-tcp-qv-links-temp-fix-until-kernel--t6543.html#p47886" title="permalink">#15</a></span>

<div class="content">Thanks, kmathern. That great expansion (totally) completes answers to <em>my</em> last question. <br>
<br>
For me, that now completes the thread. Thanks, Everyone.<br>
<br>
Will leave link"open" for a day or two. Someone may have something to add (or remove).<br>
<br>
I will change the subject title to better reflect the"meaning" of this procedure. (I hope Members don't mind.)<br>
<br>
Regards,<br>
aka boombaby</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
15 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
