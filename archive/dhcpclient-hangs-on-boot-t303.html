<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>dhcpclient hangs on boot - antiX oldforums archive</title>
     

<link rel="stylesheet" href="../aaa_style.css">
</head>
<body>

<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">

<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX oldforumums archive</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./antix-m7-lysistrata-f11/index.html"><span>antiX-M7 Lysistrata</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<h2 class="topic-title" style="display: inline-block;"><a href="./dhcpclient-hangs-on-boot-t303.html">dhcpclient hangs on boot</a></h2>
<div class="pagination">
23 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./dhcpclient-hangs-on-boot-t303-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./dhcpclient-hangs-on-boot-t303-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_1561" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1561">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1561">

<time datetime="2007-12-21T18:28">posted: 2007-12-21  &nbsp; 18:28</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1561" title="permalink">#1</a></span>

<div class="content">In Lysistrata some users have found that there is a long delay when dhcpclient connects to the network, either using antiX as livecd or installed.<br>
<br>
Here are some solutions.<br>
<br>
1. For livecd and installed, use cheat code <strong>mean</strong>. This disables network connection on boot up and once at the desktop, <br>
Either a)<br>
open a terminal, su to root and type<br>
dhclient<br>
or <br>
dhclient [name of your connection point ie eth0]<br>
<br>
Or b)<br>
Menu&gt;Admin/tools&gt;Mepis Admin&gt;Network<br>
<br>
and set up from there.<br>
<br>
2. When you get to the dhcpclient part on boot, after it has clearly finished, press <strong>Ctrl c</strong>. This should continue the boot and network should work.<br>
<br>
3. For an installed antiX, add cheat code <strong>mean</strong> to the /boot/grub/menu.lst so it looks something like this<br>
<br>
title MEPIS at sda4, kernel 2.6.22-1-mepis-smp<br>
root (hd0,3)<br>
kernel /boot/vmlinuz-2.6.22-1-mepis-smp root=/dev/sda4 mean nomce quiet splash vga=791 <br>
boot<br>
<br>
and also add this line to the end of /etc/rc.local<br>
<br>
dhclient &amp;<br>
<br>
This connects you to the net after login.</div>

<div class="notice">
Last edited by <a href="#" class="username-coloured">anticapitalista</a> on 28 Dec 2007, 22:56, edited 1 time in total.
</div>

</div>
</div>

</div>
</div>
<div id="p_1568" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1568">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 41</dd>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1568">

<time datetime="2007-12-22T08:33">posted: 2007-12-22  &nbsp; 08:33</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1568" title="permalink">#2</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>add 'dhclient &amp;' to the end of /etc/rc.local</div></blockquote>
Since I'm not using DHCP, I'll have to guess - but would a cheatcode like 'mean dhcX' (similar to 'mean eth0'), resulting in the beforementioned edition getting done"automatically", be of avail?</div>

</div>
</div>

</div>
</div>
<div id="p_1572" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1572">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1572">

<time datetime="2007-12-22T12:27">posted: 2007-12-22  &nbsp; 12:27</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1572" title="permalink">#3</a></span>

<div class="content">We could give it a try UnicornRider.</div>

</div>
</div>

</div>
</div>
<div id="p_1574" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1574">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<table>
<tr>
<td valign="top" class="detail-title"><a><span>Posts</span></a></td>
<td valign="top" class="detail-value"><a href="#"><span>41</span></a></td>
</tr>
</table>
 
</div>
</div>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1574">

<time datetime="2007-12-22T14:37">posted: 2007-12-22  &nbsp; 14:37</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1574" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>give it a try</div></blockquote>
1st attempt (<em>to be tested ...</em>): 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://penguin.ch/plan_b/scripts/x_files/planb_rc-5.sh"<br>linktext was:"http://penguin.ch/plan_b/scripts/x_files/planb_rc-5.sh"<br>====================================<br>
 <span class="emoticon"> __{{emoticon}}__ </span> <br>
boot code: <span style="color: darkred">[mean] dhcX</span> (the latter to make sure we're not clashing with 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.mepis.org/docs/en/index.php/Cheatcodes"<br>linktext was:"these codes"<br>====================================<br>
).</div>

</div>
</div>

</div>
</div>
<div id="p_1575" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1575">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1575">

<time datetime="2007-12-22T15:45">posted: 2007-12-22  &nbsp; 15:45</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1575" title="permalink">#5</a></span>

<div class="content">Tested using mean dhcX cheatcode and it does stop dhcp. But at desktop, I had to manually add the dhclient&amp;<br>
to /etc/rc.local<br>
<br>
Once I had done this, rebooted and chose mean dhcX<br>
<br>
at desktop opening iceweasel takes me to a page <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
However, even without the dhcX part of the cheatcode and rc.local with dhclient&amp; added, works too. So the dhcX part isn't doing much extra, except it gives a nice message saying that dhclient is being delayed.<br>
<br>
Now is it a good idea if by adding the mean dhcX cheatcode, it also adds dhclient&amp; to /etc/rc.local ?</div>

</div>
</div>

</div>
</div>
<div id="p_1576" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1576">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 41</dd>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1576">

<time datetime="2007-12-22T16:12">posted: 2007-12-22  &nbsp; 16:12</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1576" title="permalink">#6</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>Now is it a good idea if by adding the mean dhcX cheatcode, it also adds dhclient&amp; to /etc/rc.local ?</div></blockquote>
Without this, the whole addition would be pointless - <span style="color: darkred">mean</span> already"kills" DHCP, and the <span style="color: darkred">dhcX</span> addition is meant to change this into a"mere delay" ...</div>

</div>
</div>

</div>
</div>
<div id="p_1577" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1577">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1577">

<time datetime="2007-12-22T16:20">posted: 2007-12-22  &nbsp; 16:20</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1577" title="permalink">#7</a></span>

<div class="content">I meant should there be another script or section of the script that automates this when dhcX is selected?</div>

</div>
</div>

</div>
</div>
<div id="p_1578" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1578">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 41</dd>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1578">

<time datetime="2007-12-22T16:29">posted: 2007-12-22  &nbsp; 16:29</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1578" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>should there be another script or section of the script that automates this</div></blockquote>
O.k., now I see ... the code you're looking for is to be found in line 54 et sqq. of the (updated) init script.</div>
<div class="notice">
Last edited by <b>UnicornRider</b> on 22 Dec 2007, 16:48, edited 2 times in total.
</div>

</div>
</div>

</div>
</div>
<div id="p_1579" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1579">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1579">

<time datetime="2007-12-22T16:44">posted: 2007-12-22  &nbsp; 16:44</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1579" title="permalink">#9</a></span>

<div class="content">Success!<br>
<br>
The present script does as it should and writes to /etc/rc.local the necessary line.<br>
Brilliant!<br>
<br>
Now the 'contra' is needed.<br>
<br>
Thanks</div>

</div>
</div>

</div>
</div>
<div id="p_1580" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1580">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 41</dd>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1580">

<time datetime="2007-12-22T16:52">posted: 2007-12-22  &nbsp; 16:52</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1580" title="permalink">#10</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>Brilliant!</div></blockquote>
I'm not really convinced: what should happen on reboot with no cheat code but DHCP still meant to be used? Removing the entry from rc.local would be consistent with the rest of my code - but obviously stupid <span class="emoticon"> __{{emoticon}}__ </span></div>

</div>
</div>

</div>
</div>
<div id="p_1581" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1581">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1581">

<time datetime="2007-12-22T17:17">posted: 2007-12-22  &nbsp; 17:17</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1581" title="permalink">#11</a></span>

<div class="content"><blockquote><div><cite>UnicornRider wrote:</cite>
<br>
I'm not really convinced: what should happen on reboot with no cheat code but DHCP still meant to be used? Removing the entry from rc.local would be consistent with the rest of my code - but obviously stupid <span class="emoticon"> __{{emoticon}}__ </span></div></blockquote>
Hmm, come to think of it, it does seem stupid to remove the entry from rc.local as this script is supposed to be a permanent solution for those having problems with dhcpclient at boot.<br>
For those that just need internet connection from livecd, the changes to rc.local get lost anyway in a new session.</div>

</div>
</div>

</div>
</div>
<div id="p_1597" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1597">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 41</dd>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1597">

<time datetime="2007-12-23T09:27">posted: 2007-12-23  &nbsp; 09:27</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1597" title="permalink">#12</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>this script is supposed to be a permanent solution for those having problems with dhcpclient at boot</div></blockquote>
If (similar to the <span style="color: darkred">kbd=</span>) people were willing to add <span style="color: darkred">mean dhcX</span> to their list of boot codes (read: menu.lst) <em>on a permanent base</em>, I could figure out a working script (read: update to the given ones).<br>
<br>
Does this sound like an acceptable compromise? (The actual code I would be able to write today if you want me to.)</div>

</div>
</div>

</div>
</div>
<div id="p_1601" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1601">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1601">

<time datetime="2007-12-23T14:38">posted: 2007-12-23  &nbsp; 14:38</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1601" title="permalink">#13</a></span>

<div class="content">I don't think it is necessary UnicornRider. The script works fine as it is and this dhcpclient issue doesn't effect everyone.</div>

</div>
</div>

</div>
</div>
<div id="p_1605" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile1605">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 41</dd>
<span class="username">UnicornRider</span>
</dt>
<dd class="profile-joined">Joined: 24 Oct 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1605">

<time datetime="2007-12-23T15:00">posted: 2007-12-23  &nbsp; 15:00</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1605" title="permalink">#14</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>The script works fine as it is</div></blockquote>
Actually, it's half-done at best (which is why it's not included in my official code): no checks for double entries, no option to automatically remove the addition, etc.</div>

</div>
</div>

</div>
</div>
<div id="p_1606" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile1606">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,959</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content1606">

<time datetime="2007-12-23T15:10">posted: 2007-12-23  &nbsp; 15:10</time>
<span class="permalink"><a href="./dhcpclient-hangs-on-boot-t303.html#p1606" title="permalink">#15</a></span>

<div class="content">You know best about the code. I'm hoping to upload antiX-M7.01.iso sometime after Xmas, but before the New Year with your code included.<br>
If you think it needs refinement and you can do so for then, fantastic. Otherwise I 'll include what you have done so far, ans the new changes will be added for antiX-M7.5.</div>

</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">
<div class="pagination">
23 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./dhcpclient-hangs-on-boot-t303-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./dhcpclient-hangs-on-boot-t303-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>

<div class="scrollToTopText"><a href="#top">Back to top</a></div> </div>
</div>

</div>
</body></html>
