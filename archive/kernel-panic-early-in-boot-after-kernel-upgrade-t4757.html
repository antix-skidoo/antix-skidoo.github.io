<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Kernel panic early in boot after kernel upgrade - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-13-luddite-f49/index.html"><span>antiX-13 Luddite</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html">Kernel panic early in boot after kernel upgrade</a></div>
<div class="pagination">
21 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_32500" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32500">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32500">
<time datetime="2013-12-24T16:51">posted: 2013-12-24 &nbsp; 16:51</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32500" title="permalink">#1</a></span>

<div class="content">I just upgraded the kernel on my laptop (Pentium II Mobile 300 MHz, 288 MiB RAM, antiX 13.2 Testing 32-bit) from the 3.7.10 that was included in the Testing repo upgrade to linux-image-3.12.5-antix.2-486-smp (and matching linux-headers), hand edited [/]boot/grub/menu.lst, and restarted, only to get a kernel panic very early in the boot. Restarting with the previous kernel (which I kept as a second GRUB entry) went right on through.<br>
<br>
This is a newer kernel than the one I got when I upgraded my Athlon XP system a couple days ago (that was 11.5.something); does anyone know of a problem with this kernel release, or can you suggest where I can look for the source of this problem?</div>
</div>
</div>

</div>
</div>
<div id="p_32501" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32501">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content32501">

<time datetime="2013-12-25T02:40">posted: 2013-12-25 &nbsp; 02:40</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32501" title="permalink">#2</a></span>

<div class="content">you say you hand edited the menu entry. did you change both the kernel line and the initrd line?</div>
</div>
</div>

</div>
</div>
<div id="p_32503" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32503">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32503">

<time datetime="2013-12-25T06:33">posted: 2013-12-25 &nbsp; 06:33</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32503" title="permalink">#3</a></span>

<div class="content">Yes, and that was the first thing I double checked when I got the failure (after making a minor typo when I upgraded the kernel on my Ahtlon XP system). I just did another hand edit this evening after installing antiX 13.2 64-bit (Wheezy, with the distro original kernel) as a dual boot with MEPIS 11 (so one of the users could get a current version of Pepper Flash for Facebook games -- Pepper Flash won't work in MEPIS 11 due to an old gconf); that one worked first time. Presently, I've got the laptop booting with symlinks (same setup MEPIS 11 uses by default) to the old kernel files, but I can't go test it right now (my lady's sleeping right next to the computer, and she's a light, jumpy sleeper); it just occurred to me that I'm not certain I've tried it with the symlinks pointing to the upgraded kernel, but I"ll try that in the morning.<br>
<br>
Edit: Okay, I verified that changing the symlinks to point to the 3.12.5 kernel files gives the same result as running directly with the GRUB entry for the new kernel, but the same GRUB entry for the symlinks works when the symlinks are pointed to the 3.7.10 kernel files. I can't copy in the error message, but it referred to"attempted to kill init!" -- I suppose I could take a photo of the screen and attach it if needed.</div>
</div>
</div>

</div>
</div>
<div id="p_32527" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32527">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<span> <strong><span class="username">Alanarchy</span></strong> </span>
<div class="thread-user-detail">
<table>
<tr>
<td valign="top" class="detail-title"><a><span>Posts</span></a></td>
<td valign="top" class="detail-value"><span>0</span></td>
</tr>
</table>

</div>
</div>
<section class="desktop-hide">

<strong><span class="username">Alanarchy</span></strong> </section>
</dt>
</dl>
<div class="postbody">
<div id="post_content32527">

<time datetime="2013-12-26T13:27">posted: 2013-12-26 &nbsp; 13:27</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32527" title="permalink">#4</a></span>

<div class="content">Have you removed oss-compat?</div>
</div>
</div>

</div>
</div>
<div id="p_32532" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32532">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32532">

<time datetime="2013-12-26T16:29">posted: 2013-12-26 &nbsp; 16:29</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32532" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>Alanarchy wrote:</cite>Have you removed oss-compat?</div></blockquote>
No idea I needed to -- and I'd probably need to reinstall it after booting with the new kernel, to get my sound working again, right?</div>
</div>
</div>

</div>
</div>
<div id="p_32570" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32570">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32570">

<time datetime="2013-12-28T02:23">posted: 2013-12-28 &nbsp; 02:23</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32570" title="permalink">#6</a></span>

<div class="content">Well, an update on this -- I don't think oss-compat has anything to do with the problem; it's occurring far too early in the boot process for OSS to be loading; if the new kernels were loading without the OSS modules, they should start without sound, as happened with 3.7.10 before I got the USB sound working -- and that, I now know how to fix (at least until I requires a different fix from last time). The first difference I've noted between 3.12.5 (and 3.12.6, which came up in the interim and fails in a completely different appearing way) and the versions that boot successfully is that neither 3.12 kernel gives the"early console" message immediately after displaying the boot commands from GRUB, nor does either report"Decoding ELF", which normally comes right after the"early console" line.<br>
<br>
I installed 3.11.5 (same version that works on my Ahtlon XP system) and that boots and runs just fine on the laptop, but I'd seen a report that 3.12.x was supposed to make better use of memory, and with only 288 MiB RAM installed in the laptop, that looked like something worth trying, so when I saw 3.12.5-antix in the repo, I grabbed it (and the matching headers, of course). I've since noticed there's a 3.12.1 and 3.12.3 as well as the 3.12.5 and 3.12.6 that I've found not working -- are those intended for the antiX 13.5 alpha, rather than as upgrades to 13.1 or 13.2?</div>
</div>
</div>

</div>
</div>
<div id="p_32575" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32575">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content32575">

<time datetime="2013-12-28T05:21">posted: 2013-12-28 &nbsp; 05:21</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32575" title="permalink">#7</a></span>

<div class="content">Buy a newer laptop/netbook or live with the older kernel. I ran into your problems with some of my older gear and <br>
tried liqourix, same problem, aptosid, same problem. Before you bite my head off about money and hard times about newer gear. I feel ya already. <br>
<blockquote class="uncited"><div>I usually have trouble installing liqourix kernels with a invalid ext2 file system error on booting with seperate / and /home partitions like I have on my IBM T23 laptop and my EEEPC 900 with / on 4 gig solid state drive and /home on 16 gig separate secondary solid state drive.<br>
That is why I run a Stevo kernel on the IBM T23 and just use the stock AntiX 2.6.36 mepis kernel on the EEEPC 900</div></blockquote>
post23457.html<br>
<blockquote class="uncited"><div>On this Emachine Desktop. I could never get past booting 2.6.38 kernel.</div></blockquote>
post28377.html<br>
<br>
<br>
Some stuff gets left out because the kernels are getting so big that outdated modules are left out for older gear. It is just the nature of the beast sometimes. So sometimes you are the wind-shield. Sometimes you are the bug. It is the nature of being a tester.</div>
</div>
</div>

</div>
</div>
<div id="p_32577" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32577">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 850</span></div>

</div>
</div>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32577">

<time datetime="2013-12-28T10:50">posted: 2013-12-28 &nbsp; 10:50</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32577" title="permalink">#8</a></span>

<div class="content">Did you run <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo update-grub</code></pre></div> when you installed your new kernel.</div>
</div>
</div>

</div>
</div>
<div id="p_32595" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32595">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32595">

<time datetime="2013-12-30T01:48">posted: 2013-12-30 &nbsp; 01:48</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32595" title="permalink">#9</a></span>

<div class="content">In fact, I did issue"update-grub" as su after getting the 12.6 and that failing; the only difference between the"automagic" entries and my hand edited ones was use of UUID instead of drive names, and lack of the"acpi=off" that this laptop requires to avoid a false report of 145 C core temperature during start (leading to a system halt). I also tried symlinks (created with rox) in a known good symlink boot command, for both 3.12.5 and 3.12.6 kernels.<br>
<br>
FWIW, Roky, this laptop has PCI bus insternally, two USB ports, and IDE drive controller; it was pretty close to bleeding edge when it was made in 1997-1998, and works fine with the 3.11.5 antiX kernel; when I get some more time I might check if the 3.12.1 or 3.12.3 kernels versions I see in the repo work. I suspect something did get changed in the 3.12 kernel compile -- my question is whether it was intentional, since this machine <em>shouldn't</em> require much in the way of accommodation that wouldn't also go for most other machines that need a 32-bit kernel.</div>
</div>
</div>

</div>
</div>
<div id="p_32663" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32663">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<span> <strong><span class="username">Alanarchy</span></strong> </span>
<div class="thread-user-detail">
<table>
<tr>
<td valign="top" class="detail-title"><a><span>Posts</span></a></td>
<td valign="top" class="detail-value"><span>0</span></td>
</tr>
</table>

</div>
</div>
<section class="desktop-hide">

<strong><span class="username">Alanarchy</span></strong> </section>
</dt>
</dl>
<div class="postbody">
<div id="post_content32663">

<time datetime="2014-01-02 &nbsp; 08:21">posted: 2014-01-02 &nbsp; 08:21</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32663" title="permalink">#10</a></span>

<div class="content"><blockquote class="uncited"><div>No idea I needed to -- and I'd probably need to reinstall it after booting with the new kernel, to get my sound working again, right?</div></blockquote>
I had this similar problem which I put under a thread which became"LM sensors breaks stuff". As I remember it took a long time to boot and after many trials removing oss-compat stopped the problem.</div>
</div>
</div>

</div>
</div>
<div id="p_32711" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32711">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32711">

<time datetime="2014-01-03T21:58">posted: 2014-01-03 &nbsp; 21:58</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p32711" title="permalink">#11</a></span>

<div class="content"><blockquote><div><cite>Alanarchy wrote:</cite><blockquote class="uncited"><div>No idea I needed to -- and I'd probably need to reinstall it after booting with the new kernel, to get my sound working again, right?</div></blockquote>
I had this similar problem which I put under a thread which became"LM sensors breaks stuff". As I remember it took a long time to boot and after many trials removing oss-compat stopped the problem.</div></blockquote>
I should have time to give it a try this weekend.</div>
</div>
</div>

</div>
</div>
<div id="p_33250" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile33250">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content33250">

<time datetime="2014-02-04T19:32">posted: 2014-02-04 &nbsp; 19:32</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p33250" title="permalink">#12</a></span>

<div class="content">Well, that took longer than expected, but I just verified, Synaptic doesn't show oss-compat installed on the laptop. I thought I'd try just removing those two kernel packages, perhaps to reinstall different minor versions or via a different method -- but although Synaptic shows them with green block ("installed") it won't let me mark them for removal. I'd try using command line apt-get to do the job, but I'm concerned about mistyping something and removing the working kernel (which seem like it'd be a PITA to get back, and which I'm not sure Linux would prevent me from doing).<br>
<br>
Edit: not sure what changed, but a half hour after I posted this, Synaptic started behaving and let me remove the two each 3.12.* kernel image and header packages.</div>
<div class="notice">
Last edited by <b>Silent Observer</b> on 07 Feb 2014, 16:50, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_33268" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile33268">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content33268">

<time datetime="2014-02-07T01:10">posted: 2014-02-07 &nbsp; 01:10</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p33268" title="permalink">#13</a></span>

<div class="content">Okay, just to try to verify that I'm not assuming something is a lot simpler than it is (or making it more complicated than it needs to be):<br>
<br>
if I see something in Synaptic that looks like linux-image-3.12.5-antix.7-i486-smp -- installing that package (along with the matching linux-headers) should give me a usable kernel image? It seems to have worked that way when I installed 3.11.5 on my Ahtlon XP and on the laptop, but that failed on 3.12.5 on the laptop. Is there another, preferred way to get an upgraded antiX kernel? I've recently seen mention of using smxi to install upgraded kernels, but the only options I saw when I ran that were to change to sid repos (I'll stick with Jessie, for now) and to install liquorix kernels -- is the latter desirable in preference over an antix kernel?</div>
</div>
</div>

</div>
</div>
<div id="p_33269" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile33269">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content33269">

<time datetime="2014-02-07T02:40">posted: 2014-02-07 &nbsp; 02:40</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p33269" title="permalink">#14</a></span>

<div class="content">I usually install from synaptic, when I bother to upgrade them at all. I only do it when I have too.</div>
</div>
</div>

</div>
</div>
<div id="p_33272" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile33272">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 347</span></div>

</div>
</div>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content33272">

<time datetime="2014-02-07T16:42">posted: 2014-02-07 &nbsp; 16:42</time>
<span class="permalink"><a href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757.html#p33272" title="permalink">#15</a></span>

<div class="content">My reason for wanting to upgrade the kernel on my laptop is that, with only 288 MiB RAM, that machine can use all the help it can get, and I read that the 3.12 family kernels have better RAM usage than the 3.10.7 that comes with antiX 13.2 or the 3.11.5 that I'm currently running on my two antiX systems.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
21 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./kernel-panic-early-in-boot-after-kernel-upgrade-t4757-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
