<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>AntiX 15 b3-V - Page 14 - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./development-old-f39/index.html"><span>Development (Old)</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./antix-15-b3-v-t5637-s195.html">AntiX 15 b3-V</a></div>
<div class="pagination">
215 posts
<ul>

<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./antix-15-b3-v-t5637-s180.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./antix-15-b3-v-t5637.html" role="button">1</a></li>
<li class="ellipsis" role="separator"><span>…</span></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s150.html" role="button">11</a></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s165.html" role="button">12</a></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s180.html" role="button">13</a></li>
<li class="active"><span>14</span></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s210.html" role="button">15</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./antix-15-b3-v-t5637-s210.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_41241" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41241">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content41241">
<time datetime="2015-06-16T06:01">posted: 2015-06-16 &nbsp; 06:01</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41241" title="permalink">#196</a></span>

<div class="content"><strong>Re: Clock in Taskbar IceWM</strong><br>
<blockquote><div><cite>anticapitalista wrote:</cite>Maybe it is due to the (old) hardware needing a longer sleep time to start the wm and desktop apps.</div></blockquote>I'm doubtful about the age of the hardware being the cause.<br>
<br>
The symptoms are <ul>
<li>not present when the WM is either Fluxbox or JWM</li>
<li>present when using IceWM</li></ul>
If the age of the hardware was the deciding factor, one would expect to see evidence of it across all WMs rather than be observed in only one of them.</div>
</div>
</div>

</div>
</div>
<div id="p_41242" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41242">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content41242">

<time datetime="2015-06-16T08:37">posted: 2015-06-16 &nbsp; 08:37</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41242" title="permalink">#197</a></span>

<div class="content"><span style="color: silver"> TAGGED: low priority, until an updated version of the iso-snapshot package is released</span><br>
The <strong>iso-snapshot</strong> package ships (installs) <strong><em>/</em>usr/local/share/excludes/iso-snapshot-exclude.list</strong><br>
problem:<br>
Because the"conffiles" section of the .deb packagefile does not specify it as a configuration file, <br>
the installed copy is not preserved when the package is upgraded or reinstalled.<br>
Ouch ~~ user's customized exclude file winds up deleted (or overwritten).<br>
How many (few) users will actually bother to edit that file... is beside the point.<br>
<br>
Even if iso-snapshot-exclude.list becomes recognized as a"conffile", is it reasonable to hope / expect (ASS+U+ME) that the installed copy <br>
will survive, undisturbed, in all apt operations other than"purge"?<br>
<br>
Above, I mentioned iso-snapshot-exclude.list as an example.<br>
ALL of the various *-exclude.list files (snapshot, remaster) are similarly"at risk".<br>
<br>
A workaround (if not a full"solution") could be achieved by packaging *-exclude.list<strong>_ORIG</strong> .<br>
At runtime, if a script's expected".list" is file is absent, create it on-the-fly by renaming the"_ORIG" file.<br>
-=-<br>
When an expected *-exclude.list file _is_ present, AND a same-named _ORIG file is present, the script would<br>
recognize that scenario as a"first-run, following package upgrade" situation and proceed accordingly.<br>
Merge (append) _ORIG content into .list, then delete _ORIG ~~ not ideal, but that's the best automated way I've envisioned to handle this.<br>
(result: The scripts already perform <strong>sort -u</strong> when parsing the lists; redundant entries won't"break" anything...<br>
...and the content of users' existing customized/commented lists are preserved. Manually paring reduntant entries would be a quick, infrequent chore.)<br>
<span style="color: green"> (edit) Okay, I just discovered ~~ {blush} *.orig is already being used, at least for one of the lists</span></div>
<div class="notice">
Last edited by <b>skidoo</b> on 18 Jun 2015, 21:48, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_41252" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41252">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content41252">

<time datetime="2015-06-16T20:48">posted: 2015-06-16 &nbsp; 20:48</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41252" title="permalink">#198</a></span>

<div class="content"><blockquote><div><cite>SamK wrote:</cite><strong>Re SIS Video Driver</strong><br>
...<br>
Booting with parameter xorg=sisimedia<br>
produces a working desktop via the sismedia driver</div></blockquote>
<strong>@SamK,</strong> what happens when you use the"noxorg" boot parameter on the Live system (without persistence or a remaster)? Does X start? If so, which driver does"inxi -G" say you are using?</div>
</div>
</div>

</div>
</div>
<div id="p_41259" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41259">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content41259">

<time datetime="2015-06-17T07:59">posted: 2015-06-17 &nbsp; 07:59</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41259" title="permalink">#199</a></span>

<div class="content"><strong>Re SIS Video Driver</strong><br>
<blockquote><div><cite>BitJam wrote:</cite>...what happens when you use the"noxorg" boot parameter on the Live system (without persistence or a remaster)? Does X start? If so, which driver does"inxi -G" say you are using?</div></blockquote>Yes X starts.<br>
<br>
Report as requested
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cat /proc/cmdline
vga=788 lang=en_GB quiet splash=off disable_srv=LX noxorg</code></pre></div><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>inxi -c 0 -G
Graphics:  Card: Silicon Integrated Systems [SiS] 65x/M650/740 PCI/AGP VGA Display Adapter
           Display Server: X.Org 1.16.4 drivers: fbdev (unloaded: vesa)
           Resolution: 800x600@75.00hz
           GLX Renderer: Gallium 0.4 on llvmpipe (LLVM 3.5, 128 bits)
           GLX Version: 3.0 Mesa 10.3.2</code></pre></div>
<br>
<br>
Off Topic<br>
<span style="color: #BF0000">Remastering consistently fails with the message <em>Could not bind mount / /liveaufs to /live/ro-root</em></span></div>
</div>
</div>

</div>
</div>
<div id="p_41260" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41260">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content41260">

<time datetime="2015-06-17T09:20">posted: 2015-06-17 &nbsp; 09:20</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41260" title="permalink">#200</a></span>

<div class="content"><strong>Re: Clock in Taskbar IceWM</strong><br>
<br>
Summary of progess towards resoloution
<ul>
<li>Because the matter is present in IceWM but not present in Fluxbox or JWM, it eliminates the age of the hardware as the source of the problem</li>
<li>Placing a 20 second sleep command at the head of <em>/</em>etc/desktop-session/startup; the symptoms still present before the subsequent default commands in the file are executed. This eliminates any extra"heavyweight" Jessie element creating a delay being the source of the problem</li>
<li>Because the freeze occurs during the above 20 second sleep period, it is a good indication the source of the problem lies before <em>/</em>etc/desktop-session/startup is run. It is somewhere in the boot chain scripts including the session chain scripts</li>
<li>Because the fault condition is corrected by restarting IceWM it is a good indication the source of the issue in boot/session scripts is correctable</li></ul>
It is probable the cause the problem is also responsible for the reported freezing of the CPU and Network monitors in the IceWM taskbar. This is also corrected by restarting IceWM.</div>
</div>
</div>

</div>
</div>
<div id="p_41262" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41262">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content41262">

<time datetime="2015-06-17T16:05">posted: 2015-06-17 &nbsp; 16:05</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41262" title="permalink">#201</a></span>

<div class="content"><blockquote><div><cite>SamK wrote:</cite>Yes X starts [...] Display Server: X.Org 1.16.4 drivers: <strong>fbdev (unloaded: vesa)</strong> [...]</div></blockquote><strong>Thanks SamK!</strong> This means I can make a workaround and have live-init make an xorg.conf that loads the sisimedia driver when graphics using the sis and and/or the sis-agp kernel drivers are found. The initrd.log file you posted helped me figure this out. If you are running a LiveUSB, I'd like to send you an initrd.gz to test this (when it's done).
<blockquote class="uncited"><div>Remastering consistently fails with the message <em>Could not bind mount / /liveaufs to /live/ro-root</em></div></blockquote>Thanks! Beta3 shipped with a broken version of live-remaster. It will be fixed.</div>
</div>
</div>

</div>
</div>
<div id="p_41280" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41280">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content41280">

<time datetime="2015-06-18T22:18">posted: 2015-06-18 &nbsp; 22:18</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41280" title="permalink">#202</a></span>


<div class="content">(yeah, nitpicking. I'll understand if this report is ignored.)<br>
<br>
some .gitignore files got copied into the iso.<br>
<em>/</em>usr/src/linux-headers-4.0.0-antix.1-486-smp/...<br>
<em>/</em>usr/share/themes/Mediterranean...<br>
<br>
These can be targeted in delete-files.list during build process. Python will auto-regenerate these at runtime, as needed.<br>
<em>/</em>usr/share/system-config-printer/*.pyc<br>
<em>/</em>usr/share/system-config-printer/troubleshoot/*.pyc<br>
<em>/</em>usr/share/streamtuner2/channels/*.pyc<br>
<em>/</em>usr/lib/python3.4/email/__pycache__/*.pyc<br>
<em>/</em>usr/share/hplip/ui4/*.pyc<br>
<em>/</em>usr/share/hplip/fax/*.pyc<br>
<em>/</em>usr/share/hplip/base/*.pyc<br>
<em>/</em>usr/share/bleachbit/bleachbit/*.pyc<br>
This isn't a comprehensive list of *.pyc paths, just a selective hitlist (comprising @2.5Mb of binary files which can be omitted safely).</div>
</div>
</div>

</div>
</div>
<div id="p_41284" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41284">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content41284">

<time datetime="2015-06-19T00:04">posted: 2015-06-19 &nbsp; 00:04</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41284" title="permalink">#203</a></span>

<div class="content">tested from a non-persistent session
<blockquote class="uncited"><div><span style="color: red">root@antiX1:/home/demo#</span><strong> locate .debi</strong><br>
/usr/share/calendar/calendar.debian<br>
/usr/share/doc/libcompfaceg1/README.debian<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_InRelease<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_contrib_binary-i386_Packages<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_contrib_i18n_Translation-en<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_main_binary-i386_Packages<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_main_i18n_Translation-en<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_non-free_binary-i386_Packages<br>
/var/lib/apt/lists/ftp.gr.debian.org_debian_dists_jessie_non-free_i18n_Translation-en<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_InRelease<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_contrib_binary-i386_Packages<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_contrib_i18n_Translation-en<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_main_binary-i386_Packages<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_main_i18n_Translation-en<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_non-free_binary-i386_Packages<br>
/var/lib/apt/lists/security.debian.org_dists_jessie_updates_non-free_i18n_Translation-en</div></blockquote>
^---------- Note: during default non-persistent session, most of these files do not actually exist.<br>
<br>
In order for the iso to ship an accurate mlocate database, <strong>updatedb</strong> needs to be called LATE in the build process.</div>
</div>
</div>

</div>
</div>
<div id="p_41287" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41287">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,139</span></div>

</div>
</div>
<span class="username">masinick</span>
</dt>
<dd class="profile-joined">Joined: 26 Apr 2008</dd>
</dl>
<div class="postbody">
<div id="post_content41287">

<time datetime="2015-06-19T01:17">posted: 2015-06-19 &nbsp; 01:17</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41287" title="permalink">#204</a></span>

<div class="content">Running an"older" kernel n this particular instance: Note that this one was built from"Beta 1", but it's updated with the current Debian Testing packages on an antiX 15 infrastructure. This works fine.<br>
<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ inxi -Fxz
System:    Host: antix Kernel: 3.19.1-antix.1-486-smp i686 (32 bit gcc: 4.9.2)
           Desktop: IceWM 1.3.8+githubmod+20150412+960629d
           Distro: antiX-15-beta1-V_386-full Killah P 16 March 2015
Machine:   System: LENOVO product: LENOVO3000 Y410
           Mobo: LENOVO model: IGT30 v: REFERENCE
           Bios: LENOVO v: 05CN57WW(V3.02) date: 01/30/2008
CPU:       Dual core Intel Core2 Duo T5450 (-MCP-) cache: 2048 KB
           flags: (lm nx pae sse sse2 sse3 ssse3) bmips: 6650
           clock speeds: max: 1667 MHz 1: 1333 MHz 2: 1333 MHz
Graphics:  Card: Intel Mobile GM965/GL960 Integrated Graphics Controller (primary)
           bus-ID: 00:02.0
           Display Server: X.Org 1.17.1 drivers: intel (unloaded: fbdev,vesa)
           Resolution: 1280x800@60.00hz
           GLX Renderer: Mesa DRI Intel 965GM x86/MMX/SSE2
           GLX Version: 2.1 Mesa 10.5.5 Direct Rendering: Yes
Audio:     Card Intel 82801H (ICH8 Family) HD Audio Controller
           driver: snd_hda_intel bus-ID: 00:1b.0
           Sound: ALSA v: k3.19.1-antix.1-486-smp
Network:   Card-1: Intel PRO/Wireless 3945ABG [Golan] Network Connection
           driver: iwl3945 v: in-tree:s bus-ID: 04:00.0
           IF: wlan0 state: up mac: &lt;filter&gt;
           Card-2: Broadcom NetLink BCM5906M Fast Ethernet PCI Express
           driver: tg3 v: 3.137 bus-ID: 06:00.0
           IF: eth0 state: down mac: &lt;filter&gt;
Drives:    HDD Total Size: 160.0GB (5.3% used)
           ID-1: /dev/sda model: FUJITSU_MHY2160B size: 160.0GB
Partition: ID-1: / size: 9.3G used: 6.0G (69%) fs: ext4 dev: /dev/sda10
           ID-2: swap-1 size: 2.15GB used: 0.00GB (0%) fs: swap dev: /dev/sda7
Sensors:   System Temperatures: cpu: 55.0C mobo: N/A
           Fan Speeds (in rpm): cpu: N/A
Info:      Processes: 111 Uptime: 45 min Memory: 482.5/2011.3MB
           Init: SysVinit runlevel: 5 Gcc sys: 4.9.2
           Client: Shell (bash 4.3.331) inxi: 2.2.19 
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_41289" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41289">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content41289">

<time datetime="2015-06-19T01:53">posted: 2015-06-19 &nbsp; 01:53</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41289" title="permalink">#205</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>In order for the iso to ship an accurate mlocate database, <strong>updatedb</strong> needs to be called LATE in the build process.</div></blockquote>I agree. Thanks!</div>
</div>
</div>

</div>
</div>
<div id="p_41303" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41303">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content41303">

<time datetime="2015-06-19T16:52">posted: 2015-06-19 &nbsp; 16:52</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41303" title="permalink">#206</a></span>

<div class="content">bash (login shell?) stuck at 100% CPU usage<br>
I've encountered this intermittently across weeks/boots using this 15b3 build, but had refrained from reporting it b/c I can't reproduce it on demand.<br>
Today when it happened, I found"bash" was the 96--100% sustained CPU-hogging process; its pid is immediately after"policykitd", and before"slim".<br>
FWIW, autologin is set (same, unchanged across boots) and at boot I didn't touch/change any boot settings, compared to other previous sessions.<br>
-=-<br>
Attempting to"recover", by exiting the desktop session and reentering via slim login, didn't help.<br>
I found nothing remarkable in the logfiles and (same as in previous encounters) resorted to performing shudtown/reboot .</div>
</div>
</div>

</div>
</div>
<div id="p_41306" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41306">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content41306">

<ul class="post-buttons">
 </ul>
<time datetime="2015-06-19T17:35">posted: 2015-06-19 &nbsp; 17:35</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41306" title="permalink">#207</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>Today when it happened, I found"bash" was the 96--100% sustained CPU-hogging process; its pid is immediately after"policykitd", and before"slim".</div></blockquote>
If you know the pid then the output of"ps -axjf" might help track down what is happening. I suggest redirecting the output of the command to a file. Make sure to record the pid as well.</div>
</div>
</div>

</div>
</div>
<div id="p_41310" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41310">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content41310">

<time datetime="2015-06-19T22:56">posted: 2015-06-19 &nbsp; 22:56</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41310" title="permalink">#208</a></span>

<div class="content">I'm reporting the following as"an observation"; someone else can decide whether it represents a"bug".<br>
<br>
liveUSB boot screen<br>
During a prior session, F8 was used (persist=root, timezone=whatever, desktop=fluxbox) and a custom bootline currently exists.<br>
<br>
On a session-by-session basis, I can (via F5) opt persistence=none<br>
(specifically: when booscreeen loads, press F5, press up-arrow twice, press enter to select, press enter to proceed with the boot)<br>
<br>
What I cannot do, on a per-session basis, is opt for a different initial desktop... unless i ALSO set (via F5) persistence=none.<br>
Said differently, while persist=root is displayed @F5, desktop=whatever seems to be ignored.<br>
IIRC, I've unsuccessfully tried all these combinations:<br>
-- select different desktop via Fkey<br>
-- select different desktop by adding"desktop=rox-icewm" to the input displayed for custom boot line<br>
-- do both of the above, together<br>
-- highlight/select the first bootline entry (vs custom) along with each of, then both of, the above</div>
</div>
</div>

</div>
</div>
<div id="p_41318" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile41318">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content41318">

<time datetime="2015-06-20T10:47">posted: 2015-06-20 &nbsp; 10:47</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41318" title="permalink">#209</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>What I cannot do, on a per-session basis, is opt for a different initial desktop... unless i ALSO set (via F5) persistence=none.</div></blockquote>
This is interesting. In this situation there are 3 things that compete to set the initial desktop: root persistence, the live-usb-save script which saves the desktop on LiveUSBs even without persistence, and finally, the desktop= boot parameter. The boot parameter should take precedence.<br>
<br>
I can't replicate the problem here. While it is booting it should tell you"Setting desktop to XXXX" where XXXX is the selection from the F6-Desktop menu. You should also be able to see this in /var/log/live/live-init.log. If you want to see it while booting then use"bp=9" to set a breakpoint when the initrd is almost done. This is after the live-init script runs.<br>
<br>
Here, when I select a desktop from the F6-Desktop menu, it tells me during the boot it is"Setting desktop to XXXX" correctly. That line shows up in the log file; the contents of /home/demo/.desktop-session/default-desktop is set correctly and it starts the desktop I selected. This is all with root persistence enabled.<br>
<br>
Have you added other user accounts to the system? Have you edited <em>/</em>etc/slim.conf? Have you installed lightdm? Do you get the"Setting desktop to XXXX" message (either in the screen or in the log file)? Does the file /home/demo/.desktop-session/default-desktop reflect the choice you made in the F6-Desktop menu?<br>
<br>
Finally, what is the output of"cat /proc/cmdline"? Does desktop=xxxx show up more than once?<br>
<br>
We are now using the following code to try to figure out who the"default" user is. <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>find_def_user() {
    local user=$(sed -r -n 's/^\s*default_user\s+//p' / etc/slim.conf 2&gt;/dev/null)
    : ${user:=$(sed -r -n 's/^\s*autologin-user=//p' / etc/lightdm/lightdm.conf 2&gt;/dev/null)}
    : ${user:=$(getent passwd 1000 | cut -d: -f1)}
    : ${user:=demo}
    echo ${user%% *}
}</code></pre></div>
We first look for the"default_user" in slim.conf. Then we look for the"autologin-user" in lightdm. conf. Then we look for the user with UID 1000, and if all else fails, we use the user named"demo". If all of this fails then we issue a warning"No default user &lt;name&gt; found on the system". This should also show up on the screen and in the live-init.log file.</div>
</div>
</div>

</div>
</div>
<div id="p_41335" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile41335">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content41335">

<time datetime="2015-06-20T19:55">posted: 2015-06-20 &nbsp; 19:55</time>
<span class="permalink"><a href="./antix-15-b3-v-t5637-s195.html#p41335" title="permalink">#210</a></span>

<div class="content"><blockquote class="uncited"><div>Have you added other user accounts to the system? Have you edited <em>/</em>etc/slim.conf? Have you installed lightdm?</div></blockquote>"No" in response to each of these. As for the rest, I'll need to retest and check from within an affected session.<br>
I was reluctant to mention this so late in testing. The fact that neither I nor anyone else had noticed it earlier throughout testing suggests it's an"edge case".<br>
OTOH, prior to posting I thought"I'm now testing initrd-3 along with yesterday's dist-upgrade antix packages, so possibly a regression has been introduced..."<br>
<br>
I worded the post"observation or bug" because something has apparently changed ~~ something which necessitates adjusting my testing regimen/habits.<br>
Thinking aloud:<br>
All along, throughout testing previous builds, selecting the first boot entry produced a"bone stock" (factory fresh) nonpersistent liveUSB session, yes?<br>
Maybe a previously-stored timezone was detected/applied during nonpersistent boots (i can't recall),<br>
but every time I chose the first bootmenu entry, the bone-stock default (icewm) window manager was autoselected, yes?<br>
<br>
In usage, it's no big deal if I need to explicitly select (usually fluxbox) the desktop during each"first bootmenu line" boot.<br>
Alternatively, if the previously-stored preferred desktop is ignored during each"factory fresh bootmenu item" boot, that's understandable.<br>
<br>
In testing though, with a goal of trying to"be on the same page", I do need to repeatedly visit the"factory fresh" scenario...<br>
<br>
-------------------- saved a draft, rebooted --------------------------<br>
<br>
Broader than what I described in the earlier post (desktop choice being ignored) I now realize, and am reporting: <br>
<br>
"factory fresh" boot isn't attainable (by selecting the first bootmenu item) while previously-saved F8 prefs exist.<br>
When I highlight/select the first bootmenu item and press enter... I wind up with"root perisistence".<br>
<br>
If we are now expected to, required to,"perform an F8 reset" prior to attempting to use the #1 bootmenu entry, although I could adjust to that<br>
(first perform a"reset" boot run, shutdown, boot again and choose #1 bootmenu entry)<br>
ain't likely I would be able to convince a new user (or dodomodo reviewer) that"it's a feature, not a bug".</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
215 posts
<ul>

<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./antix-15-b3-v-t5637-s180.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./antix-15-b3-v-t5637.html" role="button">1</a></li>
<li class="ellipsis" role="separator"><span>…</span></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s150.html" role="button">11</a></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s165.html" role="button">12</a></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s180.html" role="button">13</a></li>
<li class="active"><span>14</span></li>
<li><a class="button" href="./antix-15-b3-v-t5637-s210.html" role="button">15</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./antix-15-b3-v-t5637-s210.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
