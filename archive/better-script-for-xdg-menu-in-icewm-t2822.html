<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Better script for xdg menu in IceWM. - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./development-old-f39/index.html"><span>Development (Old)</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html">Better script for xdg menu in IceWM.</a></div>
<div class="pagination">
11 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_18440" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18440">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18440">
<time datetime="2010-12-05T15:25">posted: 2010-12-05 &nbsp; 15:25</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18440" title="permalink">#1</a></span>

<div class="content">Ok, the section description says"News from upgrades" but I'll still post here because i think it's a proper place for suggestions regarding the next release.<br>
<br>
The current script that reads desktop files for icewm's menu (and fluxbox's too) is a bit weak. It only reads files from /usr/share/applications and doesn't work with files that have a more complex syntax than usual.<br>
<br>
I found a much better script in Connochaet OS. Actually the script is originally from Red-Hat, I think. It's the one RH, Fedora, Open SUSE and Mandriva use.<br>
<br>
It needs python-xdg as a dependency and for it to work it's necessary to symlink /etc/xdg/menus/applications.menu from /etc/xdg/menus/lxde-applications.menu (this latter file is created by lxmenu-data, which I believe antiX already has installed since it's a dependency of pcmanfm).<br>
<br>
I've attached the script here and a tiny video I made while testing it in an antiX 8.2 live-cd (the one I had left).<br>
Just to say, the command I used to generate the menu in antiX-8.2 was
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>icewm-xdg-menu --terminal"roxterm -e %s" --default-entry-icon /usr/share/icons/Buuf-Deuce/128x128/apps/alacarte.png --with-theme-paths --theme Buuf-Deuce --entire-menu &gt; ~/.icewm/menu</code></pre></div>
(actually the one in the video didn't have the --default-entry-icon option, which is used only for apps that don't have an icon)<br>
<br>
If this script is used in antiX (recommended), then adddesktop.sh could create files in /usr/local/share/applications instead of /usr/share/applications.</div>
</div>
</div>

</div>
</div>
<div id="p_18441" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18441">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18441">

<ul class="post-buttons">
 </ul>
<time datetime="2010-12-05T15:29">posted: 2010-12-05 &nbsp; 15:29</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18441" title="permalink">#2</a></span>

<div class="content">Image</div>
</div>
</div>

</div>
</div>
<div id="p_18451" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18451">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18451">

 <time datetime="2010-12-06T12:30">posted: 2010-12-06 &nbsp; 12:30</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18451" title="permalink">#3</a></span>

<div class="content">The example above generated the menu directly. But of course it can be used to generate a submenu.<br>
Like output the command to ~/.icewm/applications and use the line
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>menufile Title icon applications</code></pre></div>
in the menu.<br>
<br>
In IceWM's menu,<br>
<strong>prog</strong> - is a program you can run from your menu<br>
<strong>separator</strong> - is line between groups<br>
<strong>restart</strong> - restarts another window manager<br>
<strong>menu</strong> - defines a sub-menu group folder inline<br>
<strong>menufile</strong> - defines a sub-menu from another file, e.g. the shortcut names you placed in the toolbar<br>
<strong>menuprog</strong> - defines a sub-menu built by running a program<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://wiki.eeeuser.com/howto:icewmstartmenu"<br>linktext was:"http://wiki.eeeuser.com/howto:icewmstartmenu"<br>====================================<br>
</div>
<div class="notice">
Last edited by <b>secipolla</b> on 14 Apr 2011, 20:52, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_18652" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18652">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,081</span></div>

</div>
</div>
<span class="username">OU812</span>
</dt>
<dd class="profile-joined">Joined: 29 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content18652">

<time datetime="2010-12-18T14:26">posted: 2010-12-18 &nbsp; 14:26</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18652" title="permalink">#4</a></span>

<div class="content">I've been using the xdg script in arch linux. My only complaint is that it is coded to ignore apps in the"settings" category. How did you get your settings entry in the menu? <br>
<br>
Thanks.<br>
<br>
john</div>
</div>
</div>

</div>
</div>
<div id="p_18653" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18653">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18653">

<time datetime="2010-12-18T20:49">posted: 2010-12-18 &nbsp; 20:49</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18653" title="permalink">#5</a></span>

<div class="content">It uses (/etc/xdg/menus/)applications.menu<br>
The folks at Arch must be using gnome-menus which divides the menu in gnome-applications.menu and gnome-settings.menu and thus they must be leaving the latter out.<br>
antiX uses lxmenu-data which generates an all-inclusive lxde-applications.menu and links it to applications.menu</div>
</div>
</div>

</div>
</div>
<div id="p_18667" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18667">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,081</span></div>

</div>
</div>
<span class="username">OU812</span>
</dt>
<dd class="profile-joined">Joined: 29 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content18667">

<time datetime="2010-12-19T16:08">posted: 2010-12-19 &nbsp; 16:08</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18667" title="permalink">#6</a></span>

<div class="content">How about the icons in the menu? Is that custom? In the arch wiki there are no examples for setting icons - it defaults to the icewm theme folder.<br>
<br>
john</div>
</div>
</div>

</div>
</div>
<div id="p_18669" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18669">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<section class="desktop-hide">

<a href="#" class="username">secipolla</a> </section>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18669">

<time datetime="2010-12-19T17:10">posted: 2010-12-19 &nbsp; 17:10</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18669" title="permalink">#7</a></span>

<div class="content">Do you mean for the categories?<br>
They are set when you choose the option --with-theme-paths, I think.</div>
</div>
</div>

</div>
</div>
<div id="p_18682" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18682">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,081</span></div>

</div>
</div>
<span class="username">OU812</span>
</dt>
<dd class="profile-joined">Joined: 29 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content18682">

<time datetime="2010-12-20T16:17">posted: 2010-12-20 &nbsp; 16:17</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18682" title="permalink">#8</a></span>

<div class="content">Thanks. I'll compare the 2 scrips to see what's up. I really like this script.<br>
<br>
john</div>
</div>
</div>

</div>
</div>
<div id="p_18772" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18772">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content18772">

<time datetime="2010-12-28T02:32">posted: 2010-12-28 &nbsp; 02:32</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p18772" title="permalink">#9</a></span>

<div class="content">Here is a fluxbox version of the same script.</div>
</div>
</div>

</div>
</div>
<div id="p_21704" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile21704">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content21704">

<time datetime="2011-08-23T20:48">posted: 2011-08-23 &nbsp; 20:48</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p21704" title="permalink">#10</a></span>

<div class="content">
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://lxmed.sourceforge.net/"<br>linktext was:"There's an LXDE menu editor now, lxmed."<br>====================================<br>
<br>
Since antiX uses lxmenu-data for its menus (Fluxbox's and IceWM's), lxmed should work fine. Besides editing the menus it would also replace the antiX tool for creating desktop files.<br>
<br>
I didn't try it cos I don't have neither those winndow managers nor LXDE now, but there's a video of it (on Xfce, by the way) at <span data-s9e-mediaembed="youtube" style="display:inline-block;width:100%;max-width:640px"><span style="display:block;overflow:hidden;position:relative;padding-bottom:56.25%"><iframe allowfullscreen="" scrolling="no" style="background:url(https://i.ytimg.com/vi/OBjIbcwEd1U/hqdefault.jpg) 50% 50% / cover;border:0;height:100%;left:0;position:absolute;width:100%" src="https://www.youtube.com/embed/OBjIbcwEd1U"></iframe></span></span></div>
</div>
</div>

</div>
</div>
<div id="p_21706" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile21706">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content21706">

<time datetime="2011-08-24T01:30">posted: 2011-08-24 &nbsp; 01:30</time>
<span class="permalink"><a href="./better-script-for-xdg-menu-in-icewm-t2822.html#p21706" title="permalink">#11</a></span>

<div class="content">I have LXDE installed so lets give this a go in AntiX 11 core i686.<br>
<blockquote class="uncited"><div>
<br>
Make sure you have java installed. Then follow these steps:<br>
<br>
* To install lxmed, first download a .tar.gz file.<br>
* Unpack archive in your home or desktop folder.<br>
* In terminal, enter the lxmed folder and type chmod +x install.sh to make install script executable.<br>
* Install lxmed by typing sudo ./install.sh<br>
* Go to main menu -&gt; Preferences -&gt; Main Menu Editor<br>
<br>
How to uninstall lxmed?<br>
<br>
To uninstall lxmed, type in terminal<br>
sudo /opt/lxmed/uninstall.sh<br>
<br>
If you receive an error message like<br>
sudo: /opt/lxmed/./uninstall.sh: command not found<br>
try executing first<br>
sudo chmod +x /opt/lxmed/uninstall.sh<br>
and then running the uninstall command above.</div></blockquote>
Java installed<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root@Biker:/home/harry/lxmed# java -version
java version"1.6.0_26"
Java(TM) SE Runtime Environment (build 1.6.0_26-b03)
Java HotSpot(TM) Client VM (build 20.1-b02, mixed mode, sharing)
</code></pre></div>
Check. Install lxmed.<br>
<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root@Biker:/home/harry/lxmed# ./install.sh
Installing application...

Removing any previous installed files and folders...
rm: cannot remove `/usr/share/applications/lxmed.desktop': No such file or directory
rm: cannot remove `/bin/lxmed': No such file or directory
rm: cannot remove `/usr/bin/lxmed': No such file or directory
mkdir: created directory `/opt/lxmed'
`content/lxmed' -&gt; `/usr/bin/lxmed'
mode of `/usr/bin/lxmed' changed to 0755 (rwxr-xr-x)
`content/LXMenuEditor.jar' -&gt; `/opt/lxmed/LXMenuEditor.jar'
`content/uninstall.sh' -&gt; `/opt/lxmed/uninstall.sh'
mode of `/opt/lxmed/uninstall.sh' changed to 0755 (rwxr-xr-x)
`content/lxmed.png' -&gt; `/opt/lxmed/lxmed.png'
`content/lxmed.desktop' -&gt; `/usr/share/applications/lxmed.desktop'

Installation sucessfully completed. Enter lxmed to run application or check Preferences -&gt; Main Menu Editor in your main menu</code></pre></div>
<br>
<br>
Check and done. One needs to use your password to launch it (which is a good thing).<br>
<br>
Thanks secipolla for adding a new tool for my LXDE AntiX 11 i686 core install.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
11 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
