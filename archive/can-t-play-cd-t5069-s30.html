<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>can't play cd - Page 3 - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./can-t-play-cd-t5069-s30.html">can't play cd</a></div>
<div class="pagination">
40 posts
<ul>
<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./can-t-play-cd-t5069-s15.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./can-t-play-cd-t5069.html" role="button">1</a></li>
<li><a class="button" href="./can-t-play-cd-t5069-s15.html" role="button">2</a></li>
<li class="active"><span>3</span></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_35526" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile35526">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content35526">
<time datetime="2014-05-17T10:26">posted: 2014-05-17 &nbsp; 10:26</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35526" title="permalink">#31</a></span>

<div class="content"><blockquote><div><cite>BitJam wrote:</cite>Can you comment out those two lines in fstab and try again?</div></blockquote>
fstab<br>
[...]<br>
#/dev/cdrom /media/cdrom udf,iso9660 noauto,users,exec,ro 0 0<br>
#/dev/sr0 /media/cdrom udf,iso9660 noauto,users,exec,ro 0 0<br>
[...]<br>
<br>
<strong>Test Results 2 </strong><br>
<br>
Performed on hardware from different manufacturers<br>
Similar results obtained<br>
<br>
[...]<br>
[ 2.121080] sr 1:0:0:0: [sr0] <br>
[ 2.121084] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>
[ 2.121088] sr 1:0:0:0: [sr0] <br>
[ 2.121090] Sense Key : Illegal Request [current] <br>
[ 2.121095] sr 1:0:0:0: [sr0] <br>
[ 2.121101] Add. Sense: Illegal mode for this track<br>
[ 2.121105] sr 1:0:0:0: [sr0] CDB: <br>
[ 2.121107] Read(10): 28 00 00 00 00 20 00 00 02 00<br>
[ 2.121117] end_request: I/O error, dev sr0, sector 128<br>
[ 2.121275] Buffer I/O error on device sr0, logical block 32<br>
[ 2.121443] Buffer I/O error on device sr0, logical block 33<br>
[ 2.124357] sr 1:0:0:0: [sr0] <br>
[ 2.124360] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>
[ 2.124363] sr 1:0:0:0: [sr0] <br>
[ 2.124365] Sense Key : Illegal Request [current] <br>
[ 2.124369] sr 1:0:0:0: [sr0] <br>
[ 2.124373] Add. Sense: Illegal mode for this track<br>
[ 2.124376] sr 1:0:0:0: [sr0] CDB: <br>
[ 2.124378] Read(10): 28 00 00 00 00 20 00 00 01 00<br>
[ 2.124386] end_request: I/O error, dev sr0, sector 128<br>
[ 2.124542] Buffer I/O error on device sr0, logical block 32<br>
[ 2.127064] sr 1:0:0:0: [sr0] <br>
[ 2.127067] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>
[ 2.127070] sr 1:0:0:0: [sr0] <br>
[ 2.127072] Sense Key : Illegal Request [current] <br>
[ 2.127076] sr 1:0:0:0: [sr0] <br>
[ 2.127080] Add. Sense: Illegal mode for this track<br>
[ 2.127083] sr 1:0:0:0: [sr0] CDB: <br>
[ 2.127085] Read(10): 28 00 00 00 00 21 00 00 01 00<br>
[ 2.127093] end_request: I/O error, dev sr0, sector 132<br>
[ 2.127249] Buffer I/O error on device sr0, logical block 33<br>
[ 2.129829] sr 1:0:0:0: [sr0] <br>
[ 2.129832] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>
[ 2.129835] sr 1:0:0:0: [sr0] <br>
[ 2.129837] Sense Key : Illegal Request [current] <br>
[ 2.129841] sr 1:0:0:0: [sr0] <br>
[ 2.129845] Add. Sense: Illegal mode for this track<br>
[ 2.129848] sr 1:0:0:0: [sr0] CDB: <br>
[ 2.129850] Read(10): 28 00 00 00 80 00 00 00 04 00<br>
[ 2.129858] end_request: I/O error, dev sr0, sector 131072<br>
[ 2.130021] Buffer I/O error on device sr0, logical block 32768<br>
[ 2.130196] Buffer I/O error on device sr0, logical block 32769<br>
[ 2.130373] Buffer I/O error on device sr0, logical block 32770<br>
[ 2.130547] Buffer I/O error on device sr0, logical block 32771<br>
[ 2.133099] sr 1:0:0:0: [sr0] <br>
[ 2.133101] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>
[ 2.133104] sr 1:0:0:0: [sr0] <br>
[ 2.133106] Sense Key : Illegal Request [current] <br>
[ 2.133110] sr 1:0:0:0: [sr0] <br>
[ 2.133114] Add. Sense: Illegal mode for this track<br>
[ 2.133117] sr 1:0:0:0: [sr0] CDB: <br>
[ 2.133119] Read(10): 28 00 00 00 80 00 00 00 01 00<br>
[ 2.133127] end_request: I/O error, dev sr0, sector 131072<br>
[ 2.133291] Buffer I/O error on device sr0, logical block 32768<br>
[ 2.136570] sr 1:0:0:0: [sr0] <br>
[ 2.136573] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>
[ 2.136576] sr 1:0:0:0: [sr0] <br>
[ 2.136578] Sense Key : Illegal Request [current] <br>
[ 2.136582] sr 1:0:0:0: [sr0] <br>
[ 2.136586] Add. Sense: Illegal mode for this track<br>
[ 2.136589] sr 1:0:0:0: [sr0] CDB: <br>
[ 2.136590] Read(10): 28 00 00 00 80 01 00 00 01 00<br>
[ 2.136599] end_request: I/O error, dev sr0, sector 131076<br>
[...]<br>
<br>
<blockquote><div><cite>Bitjam wrote:</cite>Another approach would be to boot with a LiveUSB when an audio CD is inserted. Use"bp=8" and"from=usb" See if the error messages are in the dmesg output at the breakpoint.</div></blockquote>
<strong>Test Results 3</strong><br>
<br>
fstab<br>
[...]<br>
/dev/cdrom /media/cdrom udf,iso9660 noauto,users,exec,ro 0 0<br>
/dev/sr0 /media/cdrom udf,iso9660 noauto,users,exec,ro 0 0<br>
[...]<br>
<br>
At Break Point 8<br>
Error messages not present<br>
<br>
After Boot Up Completed<br>
Error messages present<br>
<br>
<blockquote><div><cite>Bitjam wrote:</cite>if you get a bunch of errors from a device then something eventually gives up and you lose the ability to eject.</div></blockquote>
It is not just that the ability to eject is eventually lost, it also happens immediately after a clean boot that it disables ejection of the tray via the physical button on the tray face.</div>
</div>
</div>

</div>
</div>
<div id="p_35529" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile35529">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content35529">

<time datetime="2014-05-17T12:31">posted: 2014-05-17 &nbsp; 12:31</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35529" title="permalink">#32</a></span>

<div class="content">FYI - these errors also show up on single drive systems with an audio CD in the drive. This is output from dmesg on a fresh antix 13.2 virtualbox with passthrough enabled on the host cd drive.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code> 0.609638] rtc_cmos rtc_cmos: setting system clock to 2014-05-17 12:25:07 UTC (1400329507)
[    0.664729] ata3.00: ATAPI: VBOX CD-ROM, 1.0, max UDMA/133
[    0.665201] ata3.00: configured for UDMA/33
[    0.824328] ata1: SATA link up 3.0 Gbps (SStatus 123 SControl 300)
[    0.824568] ata1.00: ATA-6: VBOX HARDDISK, 1.0, max UDMA/133
[    0.824578] ata1.00: 16777216 sectors, multi 128: LBA48 NCQ (depth 31/32)
[    0.824814] ata1.00: configured for UDMA/133
[    0.824902] scsi 0:0:0:0: Direct-Access     ATA      VBOX HARDDISK    1.0  PQ: 0 ANSI: 5
[    0.825220] sd 0:0:0:0: [sda] 16777216 512-byte logical blocks: (8.58 GB/8.00 GiB)
[    0.825249] sd 0:0:0:0: [sda] Write Protect is off
[    0.825251] sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
[    0.825264] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    0.827671] scsi 2:0:0:0: CD-ROM            VBOX     CD-ROM           1.0  PQ: 0 ANSI: 5
[    0.830501] sr0: scsi3-mmc drive: 20x/20x writer dvd-ram cd/rw xa/form2 cdda tray
[    0.830503] cdrom: Uniform CD-ROM driver Revision: 3.20
[    0.830603] sr 2:0:0:0: Attached scsi CD-ROM sr0
[    0.851808]  sda: sda1 sda2
[    0.852001] sd 0:0:0:0: [sda] Attached SCSI disk
[    0.852073] Freeing unused kernel memory: 420k freed
[    0.888240] udevd[65]: starting version 175
[    0.924141] e1000: Intel(R) PRO/1000 Network Driver - version 7.3.21-k8-NAPI
[    0.924144] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    0.924213] e1000 0000:00:03.0: setting latency timer to 64
[    1.259884] usb 2-1: new full-speed USB device number 2 using ohci_hcd
[    1.297684] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 08:00:27:98:e9:bc
[    1.297690] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    1.484202] tsc: Refined TSC clocksource calibration: 2269.542 MHz
[    1.484208] Switching to clocksource tsc
[    1.540136] usb 2-1: New USB device found, idVendor=80ee, idProduct=0021
[    1.540140] usb 2-1: New USB device strings: Mfr=1, Product=3, SerialNumber=0
[    1.540142] usb 2-1: Product: USB Tablet
[    1.540144] usb 2-1: Manufacturer: VirtualBox
[    1.551576] input: VirtualBox USB Tablet as /devices/pci0000:00/0000:00:06.0/usb2/2-1/2-1:1.0/input/input1
[    1.551636] hid-generic 0003:80EE:0021.0001: input,hidraw0: USB HID v1.10 Mouse [VirtualBox USB Tablet] on usb-0000:00:06.0-1/input0
[    1.563652] device-mapper: uevent: version 1.0.3
[    1.564050] device-mapper: ioctl: 4.23.0-ioctl (2012-07-25) initialised: dm-devel@redhat.com
[    1.578574] Btrfs loaded
[    1.654722] sr 2:0:0:0: [sr0]  
[    1.654726] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    1.654727] sr 2:0:0:0: [sr0]  
[    1.654728] Sense Key : Illegal Request [current] 
[    1.654731] sr 2:0:0:0: [sr0]  
[    1.654734] Add. Sense: Illegal mode for this track
[    1.654735] sr 2:0:0:0: [sr0] CDB: 
[    1.654736] Read(10): 28 00 00 00 00 20 00 00 02 00
[    1.654741] end_request: I/O error, dev sr0, sector 128
[    1.655161] Buffer I/O error on device sr0, logical block 32
[    1.655587] Buffer I/O error on device sr0, logical block 33
[    1.660027] sr 2:0:0:0: [sr0]  
[    1.660029] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    1.660031] sr 2:0:0:0: [sr0]  
[    1.660058] Sense Key : Illegal Request [current] 
[    1.660061] sr 2:0:0:0: [sr0]  
[    1.660063] Add. Sense: Illegal mode for this track
[    1.660064] sr 2:0:0:0: [sr0] CDB: 
[    1.660065] Read(10): 28 00 00 00 00 20 00 00 01 00
[    1.660069] end_request: I/O error, dev sr0, sector 128
[    1.660474] Buffer I/O error on device sr0, logical block 32
[    1.664896] sr 2:0:0:0: [sr0]  
[    1.664897] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    1.664899] sr 2:0:0:0: [sr0]  
[    1.664899] Sense Key : Illegal Request [current] 
[    1.664901] sr 2:0:0:0: [sr0]  
[    1.664903] Add. Sense: Illegal mode for this track
[    1.664905] sr 2:0:0:0: [sr0] CDB: 
[    1.664905] Read(10): 28 00 00 00 00 21 00 00 01 00
[    1.664909] end_request: I/O error, dev sr0, sector 132
[    1.665316] Buffer I/O error on device sr0, logical block 33
[    1.669858] sr 2:0:0:0: [sr0]  
[    1.669861] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    1.669863] sr 2:0:0:0: [sr0]  
[    1.669864] Sense Key : Illegal Request [current] 
[    1.669866] sr 2:0:0:0: [sr0]  
[    1.669869] Add. Sense: Illegal mode for this track
[    1.669871] sr 2:0:0:0: [sr0] CDB: 
[    1.669871] Read(10): 28 00 00 00 80 00 00 00 04 00
[    1.669876] end_request: I/O error, dev sr0, sector 131072
[    1.670214] Buffer I/O error on device sr0, logical block 32768
[    1.670558] Buffer I/O error on device sr0, logical block 32769
[    1.670900] Buffer I/O error on device sr0, logical block 32770
[    1.671797] Buffer I/O error on device sr0, logical block 32771
[    1.677009] sr 2:0:0:0: [sr0]  
[    1.677012] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    1.677013] sr 2:0:0:0: [sr0]  
[    1.677014] Sense Key : Illegal Request [current] 
[    1.677017] sr 2:0:0:0: [sr0]  
[    1.677020] Add. Sense: Illegal mode for this track
[    1.677021] sr 2:0:0:0: [sr0] CDB: 
[    1.677022] Read(10): 28 00 00 00 80 00 00 00 01 00
[    1.677027] end_request: I/O error, dev sr0, sector 131072
[    1.677715] Buffer I/O error on device sr0, logical block 32768
[    1.682500] sr 2:0:0:0: [sr0]  
[    1.682502] Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
[    1.682503] sr 2:0:0:0: [sr0]  
[    1.682504] Sense Key : Illegal Request [current] 
[    1.682506] sr 2:0:0:0: [sr0]  
[    1.682508] Add. Sense: Illegal mode for this track
[    1.682510] sr 2:0:0:0: [sr0] CDB: 
[    1.682510] Read(10): 28 00 00 00 80 01 00 00 01 00
[    1.682514] end_request: I/O error, dev sr0, sector 131076
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_35537" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile35537">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 156</span></div>

</div>
</div>
<span class="username">caprea</span>
</dt>
<dd class="profile-joined">Joined: 08 Jan 2014</dd>
</dl>
<div class="postbody">
<div id="post_content35537">

<time datetime="2014-05-17T15:32">posted: 2014-05-17 &nbsp; 15:32</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35537" title="permalink">#33</a></span>

<div class="content">Also having these problems with ejection by using the physical button.</div>
</div>
</div>

</div>
</div>
<div id="p_35541" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile35541">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 156</span></div>

</div>
</div>
<span class="username">caprea</span>
</dt>
<dd class="profile-joined">Joined: 08 Jan 2014</dd>
</dl>
<div class="postbody">
<div id="post_content35541">

<time datetime="2014-05-17T16:29">posted: 2014-05-17 &nbsp; 16:29</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35541" title="permalink">#34</a></span>

<div class="content">Even with the init3 option dmesg shows the messages before x starts</div>
</div>
</div>

</div>
</div>
<div id="p_35542" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile35542">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content35542">

<time datetime="2014-05-17T16:32">posted: 2014-05-17 &nbsp; 16:32</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35542" title="permalink">#35</a></span>

<div class="content"><blockquote><div><cite>SamK wrote:</cite>[...]<br>
At Break Point 8<br>
Error messages not present<br>
<br>
After Boot Up Completed<br>
Error messages present</div></blockquote>
This indicates udev is a possible culprit. We could probably further pin it down by logging the output of dmesg in a startup (<em>/</em>etc/init.d) script that runs shortly after the udev script runs. On a LiveUSB with persistence, the antiX-init script could be used for this purpose. If you know the order the scripts are run then it would be easy to do this test on an installed system. You need to identify the code in the script that runs at startup and add a line like:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>    dmesg &gt; /var/log/cdrom-problem.log</code></pre></div>
Other than that, I'm not sure where to go from here. Perhaps there is a udev rule somewhere (under /lib/udev/rules.d/ ?) that could be changed. The udev developers are 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.phoronix.com/scan.php?page=news_item&amp;px=MTY1MzA"<br>linktext was:"not known for being reasonable or responsive in a positive way"<br>====================================<br>
 when they make systems unusable but maybe it is something other than udev that is causing the problem.<br>
<br>
I'm not certain that fixing the flood of error messages will fix the other problems but I think it is the best place to start.</div>
</div>
</div>

</div>
</div>
<div id="p_35561" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile35561">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content35561">

<time datetime="2014-05-19T08:47">posted: 2014-05-19 &nbsp; 08:47</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35561" title="permalink">#36</a></span>

<div class="content"><blockquote><div><cite>Bitjam wrote:</cite>This indicates udev is a possible culprit<br>
[...]<br>
Other than that, I'm not sure where to go from here. Perhaps there is a udev rule somewhere (under /lib/udev/rules.d/ ?) that could be changed. The udev developers are not known for being reasonable or responsive in a positive way when they make systems unusable but maybe it is something other than udev that is causing the problem.</div></blockquote>The following implicates antiX configuration rather than udev. I have run a few superfical tests only in which an alternative consistently works OK.<br>
<br>
The research draws upon Finnix, which is a highly regarded, Debian based, console only, sysadmin distro.<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.finnix.org"<br>linktext was:"http://www.finnix.org"<br>====================================<br>
<br>
<br>
<br>
<strong>In antiX-13.2-Stable</strong>
<ul>
<li>Rename <em>/</em>etc/udev/rules.d/70-persistent-cd.rules 70-persistent-cd.rules.ORIGINAL</li>
<li>Copy from Finnix, 75-cd-aliases-generator.rules<br>
Note: this file is not present in antiX <em>/</em>etc/udev/rules.d/</li>
<li>Reboot</li></ul>
<strong>Results</strong>
<ul>
<li>70-persistent-cd.rules is recreated using the Finnix 75-cd-aliases-generator.rules</li>
<li>Eject operation now works as expected when tested on two particularly recalcitrant systems.</li>
<li>Eject via software command and physical button work consistently whether the tray is empty or has a CD in it.</li>
<li>A data CD can be mounted, accessed and unmounted</li>
<li>An audio CD can be played (via Gnome MPlayer and XMMS) then ejected, irrespective of whether the system was booted with the audio CD present in the tray.</li></ul>
<strong>Tentative Conclusion</strong><br>
It seems reasonable to infer that the antiX mechanism of creating 70-persistent-cd.rules is flawed.<br>
Additional evidence is obtained by comparing the rules files created by antiX and the Finnix methods. <br>
<br>
<br>
Example 1<br>
System has two optical drives<br>
antiX version<br>
cat <em>/</em>etc/udev/rules.d/70-persistent-cd.rules
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># This file was automatically generated by the /lib/udev/write_cd_rules
# program, run by the cd-aliases-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and set the $GENERATED variable.

# SAMSUNG_CD-R_RW_SW-216B_Q001_20010913 (pci-0000:00:04.0-scsi-0:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-0:0:0:0", SYMLINK+="cdrom", ENV{GENERATED}="1"

# SAMSUNG_DVD-ROM_SD-616F (pci-0000:00:04.0-scsi-0:0:1:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-0:0:1:0", SYMLINK+="cdrom1", ENV{GENERATED}="1"
</code></pre></div>
Finnix version<br>
cat <em>/</em>etc/udev/rules.d/70-persistent-cd.rules
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># This file was automatically generated by the /lib/udev/write_cd_rules
# program, run by the cd-aliases-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and set the $GENERATED variable.

# SAMSUNG_CD-R_RW_SW-216B_Q001_20010913 (pci-0000:00:04.0-scsi-0:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-0:0:0:0", SYMLINK+="cdrom", ENV{GENERATED}="1"
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-0:0:0:0", SYMLINK+="cdrw", ENV{GENERATED}="1"

# SAMSUNG_DVD-ROM_SD-616F (pci-0000:00:04.0-scsi-0:0:1:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-0:0:1:0", SYMLINK+="cdrom1", ENV{GENERATED}="1"
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-0:0:1:0", SYMLINK+="dvd1", ENV{GENERATED}="1"

# SAMSUNG_DVD-ROM_SD-616F (pci-0000:00:04.0-scsi-1:0:1:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-1:0:1:0", SYMLINK+="cdrom2", ENV{GENERATED}="1"
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-1:0:1:0", SYMLINK+="dvd2", ENV{GENERATED}="1"

# SAMSUNG_CD-R_RW_SW-216B_Q001_20010913 (pci-0000:00:04.0-scsi-1:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-1:0:0:0", SYMLINK+="cdrom3", ENV{GENERATED}="1"
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:04.0-scsi-1:0:0:0", SYMLINK+="cdrw3", ENV{GENERATED}="1"
</code></pre></div>
Example 2<br>
System has one optical drive<br>
antiX version<br>
cat <em>/</em>etc/udev/rules.d/70-persistent-cd.rules
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># This file was automatically generated by the /lib/udev/write_cd_rules
# program, run by the cd-aliases-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and set the $GENERATED variable.

# SAMSUNG_CD-ROM_SN-124 (pci-0000:00:00.1-scsi-1:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:00.1-scsi-1:0:0:0", SYMLINK+="cdrom", ENV{GENERATED}="1"

# SAMSUNG_CD-ROM_SN-124 (pci-0000:00:00.1-scsi-0:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:00.1-scsi-0:0:0:0", SYMLINK+="cdrom1", ENV{GENERATED}="1"
</code></pre></div>
Finnix version<br>
cat <em>/</em>etc/udev/rules.d/70-persistent-cd.rules
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># This file was automatically generated by the /lib/udev/write_cd_rules
# program, run by the cd-aliases-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and set the $GENERATED variable.

# SAMSUNG_CD-ROM_SN-124 (pci-0000:00:00.1-scsi-0:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:00.1-scsi-0:0:0:0", SYMLINK+="cdrom", ENV{GENERATED}="1"

# SAMSUNG_CD-ROM_SN-124 (pci-0000:00:00.1-scsi-1:0:0:0)
SUBSYSTEM=="block", ENV{ID_CDROM}=="?*", ENV{ID_PATH}=="pci-0000:00:00.1-scsi-1:0:0:0", SYMLINK+="cdrom1", ENV{GENERATED}="1"
</code></pre></div>
A copy of the Finnix file is in the attached zip.<span class="inline-attachment">
</span></div>
</div>
</div>

</div>
</div>
<div id="p_35562" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile35562">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content35562">

<time datetime="2014-05-19T09:43">posted: 2014-05-19 &nbsp; 09:43</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35562" title="permalink">#37</a></span>

<div class="content">Great work SamK!<br>
<br>
I'm pretty sure antiX uses stock udev rules file generators so I think this is still a Debian/udev bug. That does not diminish the great work you've done in tracking this down.<br>
<br>
Can you find out which version of udev Finnix is using that has the working generator? Maybe we can fix the problem by switching to that version. I think that would be a much better solution than trying to create our own patched version of udev.</div>
</div>
</div>

</div>
</div>
<div id="p_35563" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile35563">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content35563">

<time datetime="2014-05-19T12:14">posted: 2014-05-19 &nbsp; 12:14</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35563" title="permalink">#38</a></span>

<div class="content">"Finnix is a small, self-contained, bootable Linux CD distribution for system administrators, based on Debian testing."<br>
<br>
antiX-13.2 is based on Wheezy and the udev used is the same as the one used upstream in Debian. (version - 175-7.2 )<br>
<br>
Good tracking SamK.</div>
</div>
</div>

</div>
</div>
<div id="p_35565" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile35565">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content35565">

<time datetime="2014-05-19T15:17">posted: 2014-05-19 &nbsp; 15:17</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35565" title="permalink">#39</a></span>

<div class="content"><blockquote><div><cite>Bitjam wrote:</cite>Can you find out which version of udev Finnix is using that has the working generator?</div></blockquote>
Finnix<br>
apt-cache policy udev
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>udev:
  Installed: 204-5
  Candidate: 204-5
  Version table:
 *** 204-5 0
        100 /var/lib/dpkg/status</code></pre></div>
antiX 14R-alpha1<br>
apt-cache policy udev
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>udev:
  Installed: 204-8
  Candidate: 204-8
  Version table:
 *** 204-8 0
        100 /var/lib/dpkg/status</code></pre></div>
antiX 13.2-Stable (used for all the earlier diagnostic tests)<br>
apt-cache policy udev
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>udev:
  Installed: 175-7.2
  Candidate: 175-7.2
  Version table:
 *** 175-7.2 0
        500 http://ftp.uk.debian.org/debian/ wheezy/main i386 Packages
        100 /var/lib/dpkg/status</code></pre></div>
<blockquote><div><cite>Bitjam wrote:</cite>Maybe we can fix the problem by switching to that version.</div></blockquote>If it is simply the more recent udev version that provides the fix, then for antix-14R* it will be automatically incorporated.<br>
For antiX-Stable, I would be hesitant to move such a fundmental app to a newer version that is still undergoing testing. It seems that there are two clear options:
<ol style="list-style-type: decimal">
<li>Do nothing and simply accept that it is the cost of using the stable repo. After all, the primary goal of this repo is reliability with security. Inessential fixes and additional features are not even considered by Debian.</li>
<li>Make available to users of Stable, the single file (75-cd-aliases-generator.rules) from Finnix or Debian Testing. While this carries a minimal risk, the small sample of tests did not indicate any adverse affects. If any show up they will be limited to optical drives in the same way as is currently the case.</li></ol>
If option 1 is chosen, it is in line with Debian policy, but will mean some antiX users benefit (Testing) while others don't (Stable) even though the fix is te same in each case. <br>
<br>
If option 2 is chosen and there is subsequently a need to disable the fix, it is a case of renaming the one file <em>/</em>etc/udev/rules.d/75-cd-aliases-generator.rules and rebooting. If the updated udev makes it through into the next Debian Stable release, and includes the fix, for antiX it is just a case of ensuring the single file interim fix is removed.</div>
</div>
</div>

</div>
</div>
<div id="p_35566" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile35566">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 156</span></div>

</div>
</div>
<span class="username">caprea</span>
</dt>
<dd class="profile-joined">Joined: 08 Jan 2014</dd>
</dl>
<div class="postbody">
<div id="post_content35566">

<time datetime="2014-05-19T16:04">posted: 2014-05-19 &nbsp; 16:04</time>
<span class="permalink"><a href="./can-t-play-cd-t5069-s30.html#p35566" title="permalink">#40</a></span>

<div class="content">Sorry,as a linux-beginner who is still groping in the dark,I don't know now what really to do.<br>
<br>
I'm using debian testing<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>helga@freya:~
$ apt-cache policy udev
udev:
  Installiert:           204-8
  Installationskandidat: 204-8
  Versionstabelle:
 *** 204-8 0
        500 http://ftp.de.debian.org/debian/ testing/main i386 Packages
        100 /var/lib/dpkg/status
</code></pre></div>
Should I try this Samk wrote for antix stable.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>In antiX-13.2-Stable
Rename / etc/udev/rules.d/70-persistent-cd.rules 70-persistent-cd.rules.ORIGINAL
Copy from Finnix, 75-cd-aliases-generator.rules
Note: this file is not present in antiX / etc/udev/rules.d/
Reboot</code></pre></div>
<br>
Sorry i don't understand really.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
40 posts
<ul>
<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./can-t-play-cd-t5069-s15.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./can-t-play-cd-t5069.html" role="button">1</a></li>
<li><a class="button" href="./can-t-play-cd-t5069-s15.html" role="button">2</a></li>
<li class="active"><span>3</span></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
