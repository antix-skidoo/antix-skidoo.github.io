<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Need a programmer to tweak advert blocker. - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./development-old-f39/index.html"><span>Development (Old)</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html">Need a programmer to tweak advert blocker.</a></div>
<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_18588" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18588">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18588">
<time datetime="2010-12-14T10:46">posted: 2010-12-14 &nbsp; 10:46</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18588" title="permalink">#1</a></span>

<div class="content">Puppy has a nice little script called advert blocker, which downloads several hosts file lists, merges them and edits /etc/hosts.<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.murga-linux.com/puppy/viewtopic.php?t=59290"<br>linktext was:"http://www.murga-linux.com/puppy/viewtopic.php?t=59290"<br>====================================<br>
<br>
It's very simple and has a gtkdialog interface.<br>
gtkdialog is deprecated in Debian (uses zenity now) but even if it wasn't, for some reason the script as made for Puppy doesn't quite work with Debian (probably gtkdialog's differences).<br>
So maybe Yves/lagopus, John/OU812 or some programmer (can you do it anti?) could adapt it to zenity and then it could even be included in antiX.<br>
A plus would be make it with a dialog (the package) interface so it could be run from the command line.</div>
</div>
</div>

</div>
</div>
<div id="p_18626" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18626">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
 <div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 200</span></div>

</div>
</div>
<span class="username">lagopus</span>
</dt>
<dd class="profile-joined">Joined: 15 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18626">

<time datetime="2010-12-16T13:00">posted: 2010-12-16 &nbsp; 13:00</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18626" title="permalink">#2</a></span>

<div class="content">Tried to start the script<br>
Bad variable substitution in strings like:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&lt;window title="'$title' '$appver'"&gt;</code></pre></div>
then on clicking the Start button, the script cannot find and execute the functions defined into the file.<br>
The script allows to edit the /etc/hosts file without asking permission (that's puppy's world...)<br>
<br>
I will try to have a look at this, if I get some time.</div>
</div>
</div>

</div>
</div>
<div id="p_18635" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18635">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18635">

<time datetime="2010-12-16T20:37">posted: 2010-12-16 &nbsp; 20:37</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18635" title="permalink">#3</a></span>

<div class="content">Oh well, actually I did remove any Puppy specific things but gtkdialog wouldn't work properly.<br>
Regarding the /etc/hosts thing we just need to run it as root, of course.<br>
<br>
If someday you manage to make it work it can be a nice little app and quite useful for antiX too. I don't know if you have any knowledge on this but a truly fast graphical interface is fltk2, which antiX already has because of dillo.<br>
I've seen a guy at connochaet o.s. working on their tools with it.<br>
<br>
The advert blocker script just downloads one to four different hosts lists, gets rid of duplicates, removes comments (not really necessary) and offers to append the resulting list to the current hosts file (or to replace its own previously generated list).</div>
</div>
</div>
<div class="back2top">

</div>
</div>
</div>
<div id="p_18643" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18643">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 200</span></div>

</div>
</div>
<span class="username">lagopus</span>
</dt>
<dd class="profile-joined">Joined: 15 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18643">

<time datetime="2010-12-17T17:19">posted: 2010-12-17 &nbsp; 17:19</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18643" title="permalink">#4</a></span>

<div class="content">Half done, secipolla<br>
I will use zenity<br>
<br>
There are 2 versions of gtkdialog around, hence your problems. I hate gtkdialog: I do not understand how it interacts with the shell, escaping strings and variable names is a nightmare, no documentation and the source code doesn't help...<br>
Let's stay with zenity for simple interfaces; I use pygtk for more complex dialogs, without glade.<br>
Some guys try to develop alternatives to zenity/gdialog/gtkdialog: autoglade, yad... still work in progress.<br>
<br>
I never used fltk2, but I think it does not use native gtk widgets: I believe that consistency throughout the user interface is an essential goal.<br>
<br>
Stay tuned</div>
</div>
</div>

</div>
</div>
<div id="p_18656" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18656">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 200</span></div>

</div>
</div>
<span class="username">lagopus</span>
</dt>
<dd class="profile-joined">Joined: 15 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18656">

<time datetime="2010-12-18T21:46">posted: 2010-12-18 &nbsp; 21:46</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18656" title="permalink">#5</a></span>

<div class="content">Here is a candidate version of"antiX Advert Blocker"<br>
<br>
Please try it and catch some bugs...<br>
of course make a backup of your /etc/hosts file before<br>
<br>
The tar contains the bash script<br>
<br>
Update: flight deleted, updated</div>
<div class="notice">
Last edited by <b>lagopus</b> on 19 Dec 2010, 16:00, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_18657" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18657">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18657">

<time datetime="2010-12-18T22:35">posted: 2010-12-18 &nbsp; 22:35</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18657" title="permalink">#6</a></span>

<div class="content">Nice and quick. Thank you.<br>
Needs one little fix that I caught. It generates a blank line above"# pup-advert-blocker IPs below" so at every edition of the file it creates a new blank line. Example:<br>
Original file
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>127.0.0.1    localhost
127.0.1.1    debian.casa    debian

# The following lines are desirable for IPv6 capable hosts
::1     localhost ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
# pup-advert-blocker IPs below
{snip}</code></pre></div>
1st edition
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>127.0.0.1    localhost
127.0.1.1    debian.casa    debian

# The following lines are desirable for IPv6 capable hosts
::1     localhost ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters

# pup-advert-blocker IPs below
{snip}</code></pre></div>
2nd edition
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>127.0.0.1    localhost
127.0.1.1    debian.casa    debian

# The following lines are desirable for IPv6 capable hosts
::1     localhost ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
# pup-advert-blocker IPs below
{snip}</code></pre></div>
and so on.</div>
</div>
</div>

</div>
</div>
<div id="p_18658" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18658">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<section class="desktop-hide">
 <a href="#" class="username">secipolla</a> </section>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18658">

<time datetime="2010-12-18T23:18">posted: 2010-12-18 &nbsp; 23:18</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18658" title="permalink">#7</a></span>

<div class="content">Here's a sample advert-blocker.desktop file:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>[Desktop Entry]
Version=1.0
Name=Advert Blocker
Name[pt_BR]=Bloqueador de publicidade
GenericName=Advert Blocker
GenericName[pt_BR]=Bloqueador de publicidade
Comment=Save bandwidth and browse quicker by blocking ads from loading
Comment[pt_BR]=Navegue com mais rapidez e segurança bloqueando anúncios
TryExec=/usr/local/bin/block-advert.sh
Exec=block-advert.sh
Icon=dialog-error
Terminal=false
Type=Application
#StartupNotify=true
Categories=Utility;</code></pre></div>
-edit- removed 'gksu' from the Exec key as the script already calls it.</div>
</div>
</div>

</div>
</div>
<div id="p_18666" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18666">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 200</span></div>

</div>
</div>
<section class="desktop-hide">

<a href="#" class="username">lagopus</a> </section>
</dt>
<dd class="profile-joined">Joined: 15 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18666">

<time datetime="2010-12-19T16:05">posted: 2010-12-19 &nbsp; 16:05</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18666" title="permalink">#8</a></span>

<div class="content">Sergio:<br>
<br>
made two corrections:<br>
removed the empty line<br>
and some lines that were not filtered</div>
</div>
</div>

</div>
</div>
<div id="p_18668" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile18668">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18668">

<time datetime="2010-12-19T17:02">posted: 2010-12-19 &nbsp; 17:02</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18668" title="permalink">#9</a></span>

<div class="content">Thank you very much!<br>
Seems to be working fine.</div>
</div>
</div>

</div>
</div>
<div id="p_18675" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile18675">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content18675">

<time datetime="2010-12-19T22:46">posted: 2010-12-19 &nbsp; 22:46</time>
<span class="permalink"><a href="./need-a-programmer-to-tweak-advert-blocker-t2842.html#p18675" title="permalink">#10</a></span>

<div class="content">Here's the Brazilian Portuguese translation, in case anti wants to use it.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
