<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Video bug with Antix 16 386 full with a (very) old computer - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-16-berta-caceres-f58/index.html"><span>antiX-16 Berta CÃ¡ceres</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html">Video bug with Antix 16 386 full with a (very) old computer</a></div>
<div class="pagination">
17 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_47393" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47393">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47393">
<time datetime="2016-07-04T17:35">posted: 2016-07-04 &nbsp; 17:35</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47393" title="permalink">#1</a></span>

<div class="content">Hi,<br>
<br>
I tried to install Antix 16 on a very old computer (MSI-6215, P3, 512MB, with an onboard Intel graphic controller 82815), but the ISO (Antix_16_386_full) has a video bug.<br>
<br>
I can only see a screen during the Grub display and before Xserver start.<br>
<br>
Is there a missing video driver on the ISO ?<br>
<br>
Could you fix this bug ?<br>
<br>
Regards.<br>
<br>
NB : Antix 15 use to run fine on this computer.</div>
</div>
</div>

</div>
</div>
<div id="p_47395" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47395">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 99</span></div>

</div>
</div>
<span class="username">spaceman</span>
</dt>
<dd class="profile-joined">Joined: 07 Feb 2013</dd>
</dl>
<div class="postbody">
<div id="post_content47395">

<time datetime="2016-07-04T19:06">posted: 2016-07-04 &nbsp; 19:06</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47395" title="permalink">#2</a></span>

<div class="content">Can you drop to a command line? Ctrl + Alt + F2? Can you show us your <strong>etc/X11/xorg.conf</strong> file?<br>
<br>
What does <strong>inxi -Fxx</strong> output for you?</div>
</div>
</div>

</div>
</div>
<div id="p_47396" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47396">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content47396">

<time datetime="2016-07-04T20:52">posted: 2016-07-04 &nbsp; 20:52</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47396" title="permalink">#3</a></span>

<div class="content">it might not be the video. btw the driver is present.<br>
<br>
how long have you waited before giving up on the desktop coming up. <br>
<br>
and have you tried the safe or failsafe boot mode?<br>
<br>
there is a possibility that a new feature in 16 is creating an issue for you. for intel parts, the boot system on the live media creates a special xorg.conf file that sets the video acceration method for the intel part. this was intended for parts older than sandy bridge era to be set to"uxa" method rather than the current"sna" method. <br>
<br>
your chipset might be old enough that it doesn't support uxa, which might be causing a hiccup . If this is the case, you should boot with the"safe" mode,then remove the / etc/X11/xorg.conf file that was created. Then run the installer. On your reboot your intel driver should kick in.</div>
</div>
</div>

</div>
</div>
<div id="p_47399" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47399">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47399">

<time datetime="2016-07-05T03:29">posted: 2016-07-05 &nbsp; 03:29</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47399" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>spaceman wrote:</cite>Can you drop to a command line? Ctrl + Alt + F2? Can you show us your <strong>etc/X11/xorg.conf</strong> file?</div></blockquote>
With one of my monitors, I can drop to command line (not with another).<br>
<br>
Here is the transcript of the xorg.conf file (booting with CD) :<br>
<br>
******************<br>
Section"Monitor"<br>
Identifier"Monitor0"<br>
Option"DPMS""true"<br>
EndSection<br>
<br>
Section"Device"<br>
Identifier"Device0"<br>
Driver"vesa"<br>
EndSection<br>
<br>
Section"Screen"<br>
Identifer"Screen0"<br>
Monitor"Monitor0"<br>
Device"Device0"<br>
DefaultDepth 16<br>
SubSection"Display"<br>
Modes"1280x1024""1333x768""1024x768""800x600"<br>
EndSubSection<br>
EndSection<br>
<br>
<blockquote><div><cite>spaceman wrote:</cite>What does <strong>inxi -Fxx</strong> output for you?</div></blockquote>
Graphics : Card: Intel 82815 Graphics Controller (GCC)<br>
bus-ID : 00:02.0 chip-ID: 8086:1132<br>
Display Server : X.org 1.16.4 driver: vesa<br>
tty size: 80x25 Advanced Data: N/A for root out of X</div>
</div>
</div>

</div>
</div>
<div id="p_47400" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47400">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47400">

<time datetime="2016-07-05T03:42">posted: 2016-07-05 &nbsp; 03:42</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47400" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite>it might not be the video. btw the driver is present.</div></blockquote>
OK, thanks for the information.<br>
<blockquote><div><cite>dolphin_oracle wrote:</cite>how long have you waited before giving up on the desktop coming up. </div></blockquote>
a long time (&gt; 5 minutes with a scrambling screen)<br>
<blockquote><div><cite>dolphin_oracle wrote:</cite>and have you tried the safe or failsafe boot mode?</div></blockquote>
Yes. When booting, I get these messages :<br>
<br>
************************************<br>
undefined video mode number : 314<br>
press enter to see video mode available, space to continue or wait 30sec<br>
current boot codes :<br>
vga=788 quiet spalsh=v disable=lx nomodeset xorg=safe<br>
scaning for harware specific video modules<br>
Configuring etc/X/xorg.conf file with safe<br>
************************************<br>
<blockquote><div><cite>dolphin_oracle wrote:</cite>there is a possibility that a new feature in 16 is creating an issue for you. for intel parts, the boot system on the live media creates a special xorg.conf file that sets the video acceration method for the intel part. this was intended for parts older than sandy bridge era to be set to"uxa" method rather than the current"sna" method.<br>
your chipset might be old enough that it doesn't support uxa, which might be causing a hiccup .</div></blockquote>
That's possible ...<br>
<blockquote><div><cite>dolphin_oracle wrote:</cite>If this is the case, you should boot with the"safe" mode,then remove the / etc/X11/xorg.conf file that was created. Then run the installer. On your reboot your intel driver should kick in.</div></blockquote>
Even with safe mode, I can get video only if I drop to a command line (Ctrl + Alt + F2).<br>
<br>
Can I do these instructions with command line ?<br>
<br>
Regards</div>
</div>
</div>

</div>
</div>
<div id="p_47405" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47405">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content47405">

<time datetime="2016-07-05T14:04">posted: 2016-07-05 &nbsp; 14:04</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47405" title="permalink">#6</a></span>

<div class="content">Ok, let's try this.<br>
<br>
1. on the grub boot screen, choose the standard option, but add a"3" to the boot parameter line <br>
<br>
<br>
<br>
2. this should bring you to a command prompt and not start the X server. change directory to <em>/</em>etc/X11/ and remove xorg.conf (it hasn't been used yet).<br>
<br>
<br>
<br>
3. issue this command to start the display manager<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo service slim start</code></pre></div>
and see if anything is improved.</div>
</div>
</div>

</div>
</div>
<div id="p_47408" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47408">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47408">

<time datetime="2016-07-05T17:21">posted: 2016-07-05 &nbsp; 17:21</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47408" title="permalink">#7</a></span>

<div class="content">Hi dolphin,<br>
<br>
I followed your instructions and was able to install the system using GUI. Thank you very much.<br>
<br>
Now, the system boots but ends on a linux login prompt without GUI. The prompt indicates"Welcome to antiX. Power by Debian. (Name of Computer) login :" and the cursor is blinking.<br>
<br>
The problem is that the keyboard is not responding (whether USB or PS/2).<br>
<br>
FYI, at the very begining of boot, the system indicates :<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Loading Linux 4.4.10-antix.1-486-smp ...
vga=788 is deprecated. Use set gfxpayload=800x600x16, 800x600 before linux command instead.
Loading initial ramdisk ...</code></pre></div>
After, I also saw this :<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Setting preliminary keymap ... [] usb 1-1.4: 3:1: cannot get freq at ep 0x84</code></pre></div>
Can you help, or is this PC too old for Antix 16 ?<br>
<br>
Regards</div>
</div>
</div>

</div>
</div>
<div id="p_47432" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47432">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47432">

<time datetime="2016-07-06T22:29">posted: 2016-07-06 &nbsp; 22:29</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47432" title="permalink">#8</a></span>

<div class="content">Hi,<br>
<br>
I finally decided to open the PC and clear the CMOS (= reset the BIOS to default values).<br>
<br>
Now, I can use the mouse and keyboard.<br>
<br>
However, when I start the PC, I get a command line screen in antix (no X GUI).<br>
<br>
I have to select advanced options in GRUB windows and this second option to get a GUI :<br>
antix GNU/Linux, with Linux 4.4.10-antix.1-486-smp (sysvinit)<br>
<br>
Can you explain why I have to do this each time (select sysvinit) to get a GUI ?<br>
<br>
Is it normal I don't have a"xorg.conf" file in / etc / X11 directory ?<br>
<br>
Thank you very much for your help.</div>
</div>
</div>

</div>
</div>
<div id="p_47436" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47436">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content47436">

<time datetime="2016-07-06T23:39">posted: 2016-07-06 &nbsp; 23:39</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47436" title="permalink">#9</a></span>


<div class="content">It's normal to not have a xorg.conf. I'll look into the differences in the boot options. You might post your /boot/grub.cfg .</div>
</div>
</div>

</div>
</div>
<div id="p_47438" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47438">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47438">

<time datetime="2016-07-07T02:41">posted: 2016-07-07 &nbsp; 02:41</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47438" title="permalink">#10</a></span>

<div class="content">Hello, tahitibub...<br>
<br>
I am reluctant to butt-in, BUT, I hate to see others struggle - and I too have an old system (with an old graphics card, but not Intel).<br>
<br>
Since I am new at working down in the guts of Linux, I offer this help as"try" only. If it fails then change the modified settings back immediately (and wait for other help).<br>
<br>
Before continuing I am a little unclear if you have an Antix system installed onto HD, or if you are working from some"Live" system - or even something else. <br>
<br>
IF you are NOT working from HD install then none of the following applies.<br>
IF you ARE working from an Antix installed onto HD then perhaps the following might help...<br>
<br>
<br>
(A.) ATTEMPT <strong>WITH (ie USING)</strong> VESA DRIVER, PLUS MODIFIED KERNEL LINE ARGS<br>
<br>
I learned that I had to set or unset certain kernel args (ie on the kernel line in old grub-0.97) at boot time.<br>
<br>
My setup seemed to have a lot of trouble with VESA, so I tried to stay clear of it. <br>
<br>
1.<br>
If you keep the line &gt; <em>Driver"VESA"</em> &lt; in xorg.conf (as you had in an earlier post) then only do steps 2. and 3. below (and reboot). <br>
[However, if it doesn't work and you next try part (B.) - by commenting out VESA (as described later) - then you might do steps 2. and 3. anyway (just to see what happens). Perhaps not?]<br>
<br>
2.<br>
On the kernel line (in grub) I <span style="text-decoration: underline">remove</span>:- vga=788 <br>
[Advice somewhere in another forum said using it interfered with loading the VESA driver later in the boot.]<br>
<br>
3.<br>
On kernel line I included :- <strong>nosmp</strong> <br>
[Yes; I prevented usage even though the kernel <em>was</em> ---.smp because I discovered my CPU was not smp.]<br>
<br>
<br>
.<br>
(B.) ATTEMPT WITHOUT VESA, BUT WITH CORRECT VIDEO-CARD DRIVER<br>
<br>
If you find the right video card driver then include it in xorg.conf (as described below) and <span style="text-decoration: underline">comment out the VESA line with <strong>#</strong> at the start of line</span>, then do the following...<br>
<br>
4.<br>
At CLI (command line) inside the booted system, edit / etc/X11/xorg.conf file and setup loading of the right driver. <br>
(For you I don't know. Antix-16 does have"intel" in the /usr/lib/xorg/modules/drivers directory - or is it"nouveau" or some other thing for you. Others might help on that.) So in xorg.conf comment out the VESA line and add your driver (ie use the name of YOUR video-card driver, and included inside the double-quotes):-
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Load"right driver here"</code></pre></div>
5.<br>
You also might need to ensure your xorg.conf file has a modules section, which loads the right module (ie the module containing your driver, and include it inside the double-quotes):- <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Section"Module"
Load"right module here"
EndSection
</code></pre></div>
However it might also need the video-for-linux module, eg...<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Section"Module"
Load"v4l"
Load"right module here"
EndSection
</code></pre></div>
[Someone else might have to advise you on checking if the <em>v4l</em> module is installed/available on the system, or how to"apt-get" it first. I don't know how to do that exactly.]<br>
<br>
.<br>
.<br>
As I said before, if that doesn't work - sorry. It all worked for me.<br>
<br>
Regards,<br>
aka boombaby</div>
</div>
</div>

</div>
</div>
<div id="p_47449" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47449">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47449">

<time datetime="2016-07-08T01:23">posted: 2016-07-08 &nbsp; 01:23</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47449" title="permalink">#11</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite>It's normal to not have a xorg.conf. I'll look into the differences in the boot options. You might post your /boot/grub.cfg .</div></blockquote>
Hi,<br>
<br>
I don't manage to publish my grub.cfg here, I always get a"Forbidden - You don't have permission to access /posting.php on this server.".</div>
</div>
</div>

</div>
</div>
<div id="p_47450" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47450">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 521</span></div>

</div>
</div>
<span class="username">Shay</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47450">

<time datetime="2016-07-08T01:34">posted: 2016-07-08 &nbsp; 01:34</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47450" title="permalink">#12</a></span>

<div class="content">Put a space between the / and etc.</div>
</div>
</div>

</div>
</div>
<div id="p_47452" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47452">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 9</dd>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47452">

<time datetime="2016-07-08T02:04">posted: 2016-07-08 &nbsp; 02:04</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47452" title="permalink">#13</a></span>

<div class="content">@ boombaby<br>
<br>
Hi,<br>
<br>
I have no xorg.conf file, so I don't know how to specify the driver to use.<br>
<br>
However, I applied your advices 2 and 3 (remove"vga=788" and add"nosmp"), but without hyphen ("-").<br>
<br>
Regards</div>
</div>
</div>

</div>
</div>
<div id="p_47453" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47453">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">tahitibub</span>
</dt>
<dd class="profile-joined">Joined: 29 Jul 2015</dd>
</dl>
<div class="postbody">
<div id="post_content47453">

<time datetime="2016-07-08T02:05">posted: 2016-07-08 &nbsp; 02:05</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47453" title="permalink">#14</a></span>

<div class="content"><blockquote><div><cite>Shay wrote:</cite>Put a space between the / and etc.</div></blockquote>
Here is the initial grub.cfg (before removing"vga=788" and adding"nosmp" to lines 142, 160 and 177) :<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#
# DO NOT EDIT THIS FILE
#
# It is automatically generated by grub-mkconfig using templates
# from / etc/grub.d and settings from / etc/default/grub
#

### BEGIN / etc/grub.d/00_header ###
if [ -s $prefix/grubenv ]; then
  set have_grubenv=true
  load_env
fi
if ["${next_entry}" ] ; then
   set default="${next_entry}"
   set next_entry=
   save_env next_entry
   set boot_once=true
else
   set default="0"
fi

if [ x"${feature_menuentry_id}" = xy ]; then
  menuentry_id_option="--id"
else
  menuentry_id_option=""
fi

export menuentry_id_option

if ["${prev_saved_entry}" ]; then
  set saved_entry="${prev_saved_entry}"
  save_env saved_entry
  set prev_saved_entry=
  save_env prev_saved_entry
  set boot_once=true
fi

function savedefault {
  if [ -z"${boot_once}" ]; then
    saved_entry="${chosen}"
    save_env saved_entry
  fi
}
function load_video {
  if [ x$feature_all_video_module = xy ]; then
    insmod all_video
  else
    insmod efi_gop
    insmod efi_uga
    insmod ieee1275_fb
    insmod vbe
    insmod vga
    insmod video_bochs
    insmod video_cirrus
  fi
}

if [ x$feature_default_font_path = xy ] ; then
   font=unicode
else
insmod part_msdos
insmod ext2
set root='hd0,msdos1'
if [ x$feature_platform_search_hint = xy ]; then
  search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
else
  search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
fi
    font="/usr/share/grub/unicode.pf2"
fi

if loadfont $font ; then
  set gfxmode=auto
  load_video
  insmod gfxterm
  set locale_dir=$prefix/locale
  set lang=en_US
  insmod gettext
fi
terminal_output gfxterm
insmod part_msdos
insmod ext2
set root='hd0,msdos1'
if [ x$feature_platform_search_hint = xy ]; then
  search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
else
  search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
fi
insmod jpeg
background_image -m stretch /usr/share/wallpaper/back.jpg
if ["${recordfail}" = 1 ] ; then
  set timeout=-1
else
  if [ x$feature_timeout_style = xy ] ; then
    set timeout_style=menu
    set timeout=5
  # Fallback normal timeout code in case the timeout_style feature is
  # unavailable.
  else
    set timeout=5
  fi
fi
### END / etc/grub.d/00_header ###

### BEGIN / etc/grub.d/05_debian_theme ###
insmod part_msdos
insmod ext2
set root='hd0,msdos1'
if [ x$feature_platform_search_hint = xy ]; then
  search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
else
  search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
fi
insmod jpeg
if background_image /usr/share/wallpaper/back.jpg; then
  true
else
  set menu_color_normal=cyan/blue
  set menu_color_highlight=white/blue
fi
### END / etc/grub.d/05_debian_theme ###

### BEGIN / etc/grub.d/10_linux ###
function gfxmode {
    set gfxpayload="${1}"
}
set linux_gfx_mode=
export linux_gfx_mode
menuentry 'antiX GNU/Linux' --class antix --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f' {
    load_video
    insmod gzio
    if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi
    insmod part_msdos
    insmod ext2
    set root='hd0,msdos1'
    if [ x$feature_platform_search_hint = xy ]; then
      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    else
      search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    fi
    echo    'Loading Linux 4.4.10-antix.1-486-smp ...'
    linux    /boot/vmlinuz-4.4.10-antix.1-486-smp root=UUID=d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f ro  vga=788 quiet 3
    echo    'Loading initial ramdisk ...'
    initrd    /boot/initrd.img-4.4.10-antix.1-486-smp
}
submenu 'Advanced options for antiX GNU/Linux' $menuentry_id_option 'gnulinux-advanced-d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f' {
    menuentry 'antiX GNU/Linux, with Linux 4.4.10-antix.1-486-smp' --class antix --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.4.10-antix.1-486-smp-advanced-d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f' {
        load_video
        insmod gzio
        if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi
        insmod part_msdos
        insmod ext2
        set root='hd0,msdos1'
        if [ x$feature_platform_search_hint = xy ]; then
          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
        else
          search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
        fi
        echo    'Loading Linux 4.4.10-antix.1-486-smp ...'
        linux    /boot/vmlinuz-4.4.10-antix.1-486-smp root=UUID=d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f ro  vga=788 quiet 3
        echo    'Loading initial ramdisk ...'
        initrd    /boot/initrd.img-4.4.10-antix.1-486-smp
    }
    menuentry 'antiX GNU/Linux, with Linux 4.4.10-antix.1-486-smp (sysvinit)' --class antix --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.4.10-antix.1-486-smp-init-sysvinit-d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f' {
        load_video
        insmod gzio
        if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi
        insmod part_msdos
        insmod ext2
        set root='hd0,msdos1'
        if [ x$feature_platform_search_hint = xy ]; then
          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
        else
          search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
        fi
        echo    'Loading Linux 4.4.10-antix.1-486-smp ...'
        linux    /boot/vmlinuz-4.4.10-antix.1-486-smp root=UUID=d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f ro  vga=788 quiet 3 init=/lib/sysvinit/init
        echo    'Loading initial ramdisk ...'
        initrd    /boot/initrd.img-4.4.10-antix.1-486-smp
    }
}

### END / etc/grub.d/10_linux ###

### BEGIN / etc/grub.d/20_linux_xen ###
### END / etc/grub.d/20_linux_xen ###

### BEGIN / etc/grub.d/20_memtest86+ ###
menuentry"Memory test (memtest86+)" {
    insmod part_msdos
    insmod ext2
    set root='hd0,msdos1'
    if [ x$feature_platform_search_hint = xy ]; then
      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    else
      search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    fi
    linux16    /boot/memtest86+.bin
}
menuentry"Memory test (memtest86+, serial console 115200)" {
    insmod part_msdos
    insmod ext2
    set root='hd0,msdos1'
    if [ x$feature_platform_search_hint = xy ]; then
      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    else
      search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    fi
    linux16    /boot/memtest86+.bin console=ttyS0,115200n8
}
menuentry"Memory test (memtest86+, experimental multiboot)" {
    insmod part_msdos
    insmod ext2
    set root='hd0,msdos1'
    if [ x$feature_platform_search_hint = xy ]; then
      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    else
      search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    fi
    multiboot    /boot/memtest86+_multiboot.bin
}
menuentry"Memory test (memtest86+, serial console 115200, experimental multiboot)" {
    insmod part_msdos
    insmod ext2
    set root='hd0,msdos1'
    if [ x$feature_platform_search_hint = xy ]; then
      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    else
      search --no-floppy --fs-uuid --set=root d4e4d70f-2ef4-4ef4-974c-bdf132c27c8f
    fi
    multiboot    /boot/memtest86+_multiboot.bin console=ttyS0,115200n8
}
### END / etc/grub.d/20_memtest86+ ###

### BEGIN / etc/grub.d/30_os-prober ###
### END / etc/grub.d/30_os-prober ###

### BEGIN / etc/grub.d/30_uefi-firmware ###
### END / etc/grub.d/30_uefi-firmware ###

### BEGIN / etc/grub.d/40_custom ###
# This file provides an easy way to add custom menu entries.  Simply type the
# menu entries you want to add after this comment.  Be careful not to change
# the 'exec tail' line above.
### END / etc/grub.d/40_custom ###

### BEGIN / etc/grub.d/41_custom ###
if [ -f  ${config_directory}/custom.cfg ]; then
  source ${config_directory}/custom.cfg
elif [ -z"${config_directory}" -a -f  $prefix/custom.cfg ]; then
  source $prefix/custom.cfg;
fi
### END / etc/grub.d/41_custom ###
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_47454" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47454">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">boombaby</span>
</dt>
<dd class="profile-joined">Joined: 20 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content47454">

<time datetime="2016-07-08T06:43">posted: 2016-07-08 &nbsp; 06:43</time>
<span class="permalink"><a href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466.html#p47454" title="permalink">#15</a></span>

<div class="content">Hello, tahitibub...<br>
<br>
Others might need to help you out here. I think you might have gone a bit too deep into the system when it needs a lighter touch. <br>
<br>
As I suggested before, you can try either (A.) or (B.)<br>
<br>
(A.) was for using VESA video driver (as you showed in your original xorg.conf file) BUT to do that you (MIGHT) need to modify the kernel line in the Grub file (as I showed)<br>
(B.) was for using your physical device (ie video card) video driver.<br>
<br>
So I am suggesting you can use one solution or the other BUT you might need to do the"nosmp" part anyway (depending on CPU type).<br>
<br>
.<br>
Here's a small wrap-up to try and help...<br>
<br>
<strong>(I) <span style="text-decoration: underline">MODIFYING GRUB</span></strong><br>
<br>
Also <span style="text-decoration: underline">I boot with the old Grub-0.97</span><br>
&gt; You are using the modern Grub-2<br>
&gt; At the top of the .cfg file that you showed it says"don't edit". However I know there is another file you can edit, but I'm not sure which. (Others can help on that.)<br>
<br>
So for me (in Grub-0.97) I only edited one line - the"kernel" line. So steps (2.) and (3.) that I mentioned <span style="text-decoration: underline">happen on one line</span>. <br>
ie<br>
2.) <span style="text-decoration: underline">Remove any"vga=..."</span> ie for you <strong>remove the vga=788</strong> <span style="text-decoration: underline">OFF the one kernel line</span><br>
3.) Add <strong>nosmp</strong> <span style="text-decoration: underline">on the same kernel line</span><br>
<br>
Those modifications you do in Grub are prepping your boot for using the VESA DRIVER when it (Linux) starts up the xorg.conf file.<br>
<br>
.<br>
<strong>(II) <span style="text-decoration: underline">MODIFYING xorg.conf FILE - FOR <em>EITHER</em> VESA DRIVER <em>OR</em> THE RIGHT DEVICE DRIVER</span></strong><br>
<br>
In another post I had to supply my org.conf for inspection. Here is my post...
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./i-just-installed-antix-16-here-s-what-happened-t6463.html
.
Scroll down to the post by me (aka boombaby) dated:"Posted: Tue Jul 05, 2016 5:43 pm"
.
And look at section:"&gt;&gt;3. CURRENT xorg.conf FILE WHEN RUNNING INSTALLED ANTIX (ie NORMAL USE)"
</code></pre></div>
That's mine. It sits under"/ etc/X11" directory - ie"/ etc/X11/xorg.conf"<br>
<br>
(It is specific to my PC, but you can copy the structure - and replace YOUR PC details.)<br>
<br>
See the two bolded parts where I show my video Module and video Driver? See my driver is entered as...
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Driver"sisimedia"</code></pre></div>
You need to replace your <em>module</em> and <em>driver</em> there (IF you are not using VESA).<br>
<br>
So that's where you use (ie type in) the VESA module and VESA driver <strong>OR</strong> your device module and device driver.<br>
<br>
&gt;&gt; So in the Section"Module" type in...
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Load"VESA"</code></pre></div>
&gt; OR
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Load"the right module"</code></pre></div> <br>
(which contains some driver info for your card)<br>
<br>
...depending on which direction you've taken.<br>
<br>
.<br>
&gt;&gt; And in Section"Device" type in...
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Driver"VESA"</code></pre></div> <br>
&gt; OR
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Driver"your driver"</code></pre></div>
...depending on which direction you've taken.<br>
<br>
.<br>
N.B.<br>
All that I have said has two caveats:- <br>
(i) That your GRUB-2 modern setup is fixable in the same way as my older GRUB-0.97 setup. (Others will know for sure, and help.)<br>
(ii) That I know what I am doing. (That's never a surety - in which case others will jump on me from high places.)<br>
<br>
.<br>
P.S.<br>
tahitibub, do I detect that English is your second language (and that you might be translating parts of the information)? Sometimes that can cause difficulty in getting all the tweaks right too, so stick with it. <br>
<br>
<br>
Regards,<br>
aka boombaby</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
17 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./video-bug-with-antix-16-386-full-with-a-very-old-c-t6466-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
