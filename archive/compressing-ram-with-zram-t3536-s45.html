<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Compressing RAM with zRam - Page 4 - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./general-f21/index.html"><span>General</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./tips-and-tricks-f4/index.html"><span>Tips and Tricks</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./compressing-ram-with-zram-t3536-s45.html">Compressing RAM with zRam</a></div>
<div class="pagination">
71 posts
<ul>
<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./compressing-ram-with-zram-t3536-s30.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536.html" role="button">1</a></li>
 <li><a class="button" href="./compressing-ram-with-zram-t3536-s15.html" role="button">2</a></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536-s30.html" role="button">3</a></li>
<li class="active"><span>4</span></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536-s60.html" role="button">5</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./compressing-ram-with-zram-t3536-s60.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_25369" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25369">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content25369">
<time datetime="2012-07-12T12:16">posted: 2012-07-12 &nbsp; 12:16</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25369" title="permalink">#46</a></span>

<div class="content">Have built a new kernel with tradetuxfree suggestions. Anyone want to test it out, you can find it at mepisimo<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.mepisimo.com/antix/Testing/"<br>linktext was:"http://www.mepisimo.com/antix/Testing/"<br>====================================<br>
</div>
</div>
</div>

</div>
</div>
<div id="p_25373" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25373">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 765</span></div>

</div>
</div>
<span class="username">rust collector</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2011</dd>
</dl>
<div class="postbody">
<div id="post_content25373">

<time datetime="2012-07-12T13:08">posted: 2012-07-12 &nbsp; 13:08</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25373" title="permalink">#47</a></span>

<div class="content"><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root@antiberg:/home/kberg
# lsmod | grep zram
zram                    6713  2 
</code></pre></div>
Seems to be working now! <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_25375" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25375">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content25375">

<time datetime="2012-07-12T14:23">posted: 2012-07-12 &nbsp; 14:23</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25375" title="permalink">#48</a></span>

<div class="content">Thanks rust collector.<br>
<br>
It seems to be working fine here as well.<br>
<br>
I also uploaded the antix-snapshot-cli for this kernel</div>
</div>
</div>

</div>
</div>
<div id="p_25394" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25394">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 162</span></div>

</div>
</div>
<span class="username">drg</span>
</dt>
<dd class="profile-joined">Joined: 22 Feb 2010</dd>
</dl>
<div class="postbody">
<div id="post_content25394">

<time datetime="2012-07-16T20:50">posted: 2012-07-16 &nbsp; 20:50</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25394" title="permalink">#49</a></span>

<div class="content">On K6-266 and 128M ram, antiX 12 Pre-final, kernel and antix-apps (daverserver) updated to Jul13/12.<br>
Testing out zram and kernel 3.4.4-antix.2 . <br>
With these specs it is easy to make swapping start, and see what zram is up to. Inxi tells us, smart inxi.<br>
<br>
Re overall performance on this low cpu/ram/graphics device:<br>
Used LOwriter to copy/paste text (I'd say OK response to add and edit text, but this isn't a multipage thesis with fancy formatting, yes Abiword is faster). Noted a slowed down response to showing eg icewm or LOwriter menu entries using mouse or keyboard; that's the low slower cpu, onboard graphics, etc in action. The large 2 Gig swap size just happened during installation, much less would be fine. Whether things seem to go faster/better/can-do-more, I cannot tell subjectively on this first sitting, but it is nice to know with some numbers.<br>
<br>
On boot up zram did “Creating two devices “ie 2 swapspaces each of size 55648 KiB.<br>
Am going to keep loading more applications on top of each other (though they are not actively doing much, eg web searching, playing videos, whatever, they are there).<br>
<br>
****At startup with rox-icewm:<br>
$ inxi -F<br>
System: Host: antiX1 Kernel: 3.4.4-antix.2-486-smp i586 (32 bit) <br>
Desktop: IceWM 1.3.7 Distro: antiX-full Edelweißpiraten 26 May 2012<br>
Machine: System: IBM product: 2153E2N version: 0000000000000000<br>
Mobo: 0000000000000000 model: 0000000000000000 version: 0000000000000000<br>
Bios: ACER version: V3.2 V70EN1X date: 08/18/98<br>
CPU: Single core AMD-K6 3D (-UP-) cache: 64 KB flags: (-) clocked at 266.034 MHz <br>
Graphics: Card: Advanced Micro Devices [AMD] nee ATI 3D Rage Pro AGP 1X <br>
X.Org: 1.12.1.902 drivers: ati,mach64 (unloaded: fbdev,vesa) Resolution: 832x624@75.0hz <br>
GLX Renderer: Gallium 0.4 on softpipe GLX Version: 3.0 Mesa 8.0.3<br>
Audio: Card: Ensoniq 5880B [AudioPCI] driver: snd_ens1371 Sound: ALSA ver: 1.0.25<br>
Drives: HDD Total Size: 41.1GB (-) 1: id: /dev/sda model: Maxtor_6E040L0 size: 41.1GB <br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.00GB (0%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.00GB (0%) fs: swap ID: swap-3 size: 0.06GB used: 0.00GB (0%) fs: swap <br>
Info: Processes: 74 Uptime: 3 min Memory: 47.2/120.8MB Client: Shell inxi: 1.8.13 <br>
<br>
****Adding LibreOffice writer and roxterm:<br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.00GB (0%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.01GB (10%) fs: swap ID: swap-3 size: 0.06GB used: 0.01GB (10%) fs: swap <br>
Info: Processes: 74 Uptime: 5 min Memory: 70.2/120.8MB Client: Shell inxi: 1.8.13 <br>
*and conky shows ram 74.0M/121M -61% and swap 17.8M/2.14G -0%<br>
---note swap-2/-3 kicked in<br>
<br>
****Adding spacefm:<br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.00GB (0%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.01GB (24%) fs: swap ID: swap-3 size: 0.06GB used: 0.01GB (24%) fs: swap <br>
Info: Processes: 73 Uptime: 24 min Memory: 85.7/120.8MB Client: Shell inxi: 1.8.13 <br>
*conky shows ram 82 -67%, swap 26.7 -1%<br>
---swap-2/-3 a bit more<br>
<br>
****Adding iceweasel, which takes say 20 sec to load with this swap load:<br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.00GB (0%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.03GB (61%) fs: swap ID: swap-3 size: 0.06GB used: 0.03GB (61%) fs: swap <br>
Info: Processes: 74 Uptime: 29 min Memory: 95.9/120.8MB Client: Shell inxi: 1.8.13 <br>
*conky shows ram 93 -77%, swap 70.0 -3%<br>
---swap-2/-3 much more again<br>
<br>
****Adding pysolfc:<br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.01GB (0%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.06GB (100%) fs: swap ID: swap-3 size: 0.06GB used: 0.06GB (100%) fs: swap <br>
Info: Processes: 75 Uptime: 46 min Memory: 96.9/120.8MB Client: Shell inxi: 1.8.13 <br>
*conky shows ram 96.1 -79%, swap 118 -5%<br>
---swap-2/-3 pushed to 100%<br>
---note pysolfc, a solitaire games collection (ahem, of intellectually stimulating puzzles), can be a little bit of a “ram hog”, but here the ram hit is very little. <br>
<br>
****Adding ControlCenter, edit config files (geany) just to look:<br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.02GB (1%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.06GB (100%) fs: swap ID: swap-3 size: 0.06GB used: 0.06GB (100%) fs: swap <br>
Info: Processes: 85 Uptime: 1:03 Memory: 97.8/120.8MB Client: Shell inxi: 1.8.13 <br>
*conky shows ram 96.1 -79%, swap 126 -5%<br>
---swap-2/-3 still 100%<br>
---ram usage a little more, but loading CC/geany this way took a while, say 30 secs <br>
<br>
****Adding abiword on top of all this:<br>
Partition: ID: / size: 36G used: 4.5G (14%) fs: ext3 ID: swap-1 size: 2.18GB used: 0.02GB (1%) fs: swap <br>
ID: swap-2 size: 0.06GB used: 0.06GB (100%) fs: swap ID: swap-3 size: 0.06GB used: 0.06GB (100%) fs: swap <br>
Info: Processes: 86 Uptime: 1:12 Memory: 96.8/120.8MB Client: Shell inxi: 1.8.13 <br>
*conky gives ram 95.7 -79%, swap 134 -6%<br>
---swap-2/-3 still 100%<br>
---note that ram use here is reported as about the same or a little less, even with the added application.</div>
</div>
</div>

</div>
</div>
<div id="p_25397" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25397">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 75</span></div>

</div>
</div>
<section class="desktop-hide">

<a href="#" class="username">tradetaxfree</a> </section>
</dt>
<dd class="profile-joined">Joined: 18 Jan 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25397">

<time datetime="2012-07-16T21:11">posted: 2012-07-16 &nbsp; 21:11</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25397" title="permalink">#50</a></span>

<div class="content">I've updated the script to work with both 3.1-3.3 &amp; 3.4+ kernels as I am also using grsecurity with a 3.2 kernel. The revised script should also work if the module parameter for zram changes back again in a future Linux kernel.<br>
<br>
I'm not able to update my post with the script due to the forum"/ bug".<br>
<br>
<strong>The latest version of the script will now always be on DropBox 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://dl.dropbox.com/u/96561917/zram.zip"<br>linktext was:"here"<br>====================================<br>
</strong></div>
<div class="notice">
Last edited by <b>tradetaxfree</b> on 09 Aug 2012, 13:49, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_25679" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25679">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25679">

<time datetime="2012-08-09T09:45">posted: 2012-08-09 &nbsp; 09:45</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25679" title="permalink">#51</a></span>

<div class="content">Hi,<br>
I am running antiX M12 on a PIII Coppermine with 800Mhz and 192 MB RAM.<br>
<br>
I just tried this one zram script and it does not work here.<br>

<br>
Thanks for help... <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_25683" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25683">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 75</span></div>

</div>
</div>
<span class="username">tradetaxfree</span>
</dt>
<dd class="profile-joined">Joined: 18 Jan 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25683">

<time datetime="2012-08-09T12:42">posted: 2012-08-09 &nbsp; 12:42</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25683" title="permalink">#52</a></span>

<div class="content">Hi Melodie,<br>
<br>
You are getting that error message because your kernel was not compiled with zram support. zram works with the 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://liquorix.net/"<br>linktext was:"Liquorix kernel"<br>====================================<br>
 (&amp; should work with the current Antix Kernel if zram support is compiled into it) <br>
<br>
Which kernel are you using ? in a terminal type:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>uname -r</code></pre></div>
To set the % ZRAM uses create <strong>etc/default/zram</strong> &amp; add:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>FACTOR=25</code></pre></div>
<strong>I have corrected the formatting of the error message &amp; the latest version of the script will now always be on DropBox 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://dl.dropbox.com/u/96561917/zram.zip"<br>linktext was:"here"<br>====================================<br>
</strong></div>
</div>
</div>

</div>
</div>
<div id="p_25691" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25691">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25691">

<time datetime="2012-08-09T23:04">posted: 2012-08-09 &nbsp; 23:04</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25691" title="permalink">#53</a></span>

<div class="content">Hi tradetaxfree,<br>
<br>
The kernel is the default one in antiX M12, therefore a i486 3.5.0, with zram configured as module. (The zram debug"is not set". Does that count ?).<br>
<br>
I can't give you outputs at the moment because I'm not on the same machine (here : $ uname -a<br>
Linux squirrel 3.4.7-1-ARCH #1 SMP PREEMPT Sun Jul 29 22:02:56 CEST 2012 x86_64 GNU/Linux ) but you can believe me on word.<br>
<br>
I will try your new script tomorrow, thanks !<br>
<br>
And if possible I'll bring back the outputs from the very machine.</div>
</div>
</div>

</div>
</div>
<div id="p_25698" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25698">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25698">

<time datetime="2012-08-10T14:04">posted: 2012-08-10 &nbsp; 14:04</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25698" title="permalink">#54</a></span>

<div class="content">Hi,<br>
<br>
I installed your new zram script and with the antiX M12 default kernel it still does not work. Here is a link to pastebin with my results:<br>

<br>
I have activated the liquorix repos and installed it's kernel. I didn' install the headers because it would have triggered the install of cpp and gcc 4.6 (the version being 4.7 in the install). I will reboot to it now and see if I can get it to work.</div>
<div class="notice">
Last edited by <b>melodie</b> on 10 Aug 2012, 14:31, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_25699" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25699">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25699">

<time datetime="2012-08-10T14:30">posted: 2012-08-10 &nbsp; 14:30</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25699" title="permalink">#55</a></span>

<div class="content">Hi,<br>
<br>
With Liquorix kernel it does not work either. Here are the results:<br>

<br>
btw, how come the new entry is not written to Grub ? I had to add an entry to the menu.lst (I used the symlinks created by post-install in the root of the system).</div>
</div>
</div>

</div>
</div>
<div id="p_25708" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25708">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25708">

<time datetime="2012-08-10T20:54">posted: 2012-08-10 &nbsp; 20:54</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25708" title="permalink">#56</a></span>

<div class="content">Hi, <br>
I got someone to modify the script, and now it works, at least when I start it manually. At the moment I can't get it to be started at boot !<br>
<br>
Here is the version I am using : 
<br>
Maybe are you interested to look at what has been changed.<br>
<br>
And here is the result: (I'll avoid giving the results"before" because it is full of slashes... )<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># (path-to-)zram start
zram devices probed successfully
Setting up swapspace version 1, size = 47120 KiB
no label, UUID=75d6b15d-f8da-4530-ba5a-7e08054d9dca
#</code></pre></div>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># uname -r
3.5.0-antix.2-486-smp
#</code></pre></div>
Now I am seeking a way to get it to start. The symlinks have been created, they are named" S20zram" and point to their script in (path-to)init.d</div>
</div>
</div>

</div>
</div>
<div id="p_25723" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25723">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25723">

<time datetime="2012-08-11T15:04">posted: 2012-08-11 &nbsp; 15:04</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25723" title="permalink">#57</a></span>

<div class="content">Hi,<br>
<br>
Now it starts. Maybe related to last updates ? Or not ? I have yesterday evening added"$local_fs"<br>
here :
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Required-Start: $local_fs</code></pre></div>
but yesterday evening it was not yet ok. It was <span style="color: #000080">never</span> started after a reboot, and I could <span style="color: #000080">each time</span> start it manually (starting the init script from a root console).<br>
<br>
Perhaps not updates helped, but rather removal of some services ? Here are packages updated and some removed:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Start-Date: 2012-08-11  14:23:18
Upgrade: libfontconfig1:i386 (2.9.0-6, 2.9.0-7), fontconfig-config:i386 (2.9.0-6, 2.9.0-7), fontconfig:i386 (2.9.0-6, 2.9.0-7), ufw:i386 (0.31.1-1, 0.31.1-2), ntfs-3g:i386 (2012.1.15AR.5-2, 2012.1.15AR.5-2.1)
End-Date: 2012-08-11  14:25:52

Start-Date: 2012-08-11  14:27:22
End-Date: 2012-08-11  14:27:22

Start-Date: 2012-08-11  14:28:05
End-Date: 2012-08-11  14:28:05

Start-Date: 2012-08-11  15:05:20
Commandline: synaptic
Install: cpufreqd:i386 (2.4.2-1), uzbl:i386 (0.0.0~git.20120514-1), libsysfs2:i386 (2.1.0+repack-1.2, automatic)
Purge: bluetooth:i386 (4.99-2), libbluetooth3:i386 (4.99-2), ntp:i386 (4.2.6.p5+dfsg-2)
End-Date: 2012-08-11  15:06:02
</code></pre></div>
The idea to add"something" at # Required-Start: is from him, 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://captnfab.chezlefab.net"<br>linktext was:"http://captnfab.chezlefab.net"<br>====================================<br>
, the rest of the modification which allowed me to get it started in that machine is from him: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://code.google.com/p/mimarchlinux"<br>linktext was:"http://code.google.com/p/mimarchlinux"<br>====================================<br>
<br>
<br>
Is this going to help other people at antiX ? I hope so.<br>
<br>
I am very glad that for now, it works. I think it may solve another issue I met, explained here: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"antix.freeforu ms.org/viewtopic.php?f=13&amp;t=3832"<br>linktext was:"[swap] in use while there is a large amount ram available"<br>====================================<br>
 because the zram block device has a much higher priority over the swap partition.<br>
<br>
Thanks for this script ! \o/ ! <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_25724" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25724">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content25724">

<time datetime="2012-08-11T15:17">posted: 2012-08-11 &nbsp; 15:17</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25724" title="permalink">#58</a></span>

<div class="content">melodie, could you post/link to the complete running script and highlight the changes made to the original zram script in released antiX-12. I'll then upload a bug-fixed version.<br>
<br>
Thanks.</div>
</div>
</div>

</div>
</div>
<div id="p_25726" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25726">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 96</span></div>

</div>
</div>
<span class="username">melodie</span>
</dt>
<dd class="profile-joined">Joined: 15 Feb 2008</dd>
</dl>
<div class="postbody">
<div id="post_content25726">

<time datetime="2012-08-11T15:59">posted: 2012-08-11 &nbsp; 15:59</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25726" title="permalink">#59</a></span>

<div class="content">Here is the content of the script:<br>

<br>
and here is a diff : 
<br>
In the diff,"zram-a" is the original script from tradetaxfree published here:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://dl.dropbox.com/u/96561917/zram.zip"<br>linktext was:"http://dl.dropbox.com/u/96561917/zram.zip"<br>====================================<br>
 and"zram-b" the newer one modified by mimas and captnfab.</div>
</div>
</div>

</div>
</div>
<div id="p_25730" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25730">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 162</span></div>

</div>
</div>
<span class="username">drg</span>
</dt>
<dd class="profile-joined">Joined: 22 Feb 2010</dd>
</dl>
<div class="postbody">
<div id="post_content25730">

<time datetime="2012-08-11T20:14">posted: 2012-08-11 &nbsp; 20:14</time>
<span class="permalink"><a href="./compressing-ram-with-zram-t3536-s45.html#p25730" title="permalink">#60</a></span>

<div class="content">Tradetaxfree, the zram script versions Jul 16/12 and Aug 9/12 refused to work for me, even though lsmod | grep zram gave message “zram 6713 1”. That's with kernel 3.5.0-antix.2-486-smp i686, on <br>
antiX-full Edelweißpiraten 06 August 2012.<br>
Bootup message “Your Kernel needs to be compiled with ZRAM support” and , well, failure.<br>
<br>
<br>
News is, the modified zram script that melodie mentioned does work for me, and automatically on bootup. No need for a manual start.<br>
Simply changed the few lines in your script with geany. Also made sure that this zram in init.d was executable (with dillo) before 'update-rc.d zram defaults'.<br>
EDIT point: the modified script I used was the one melodie pointed to yesterday, Aug10. Haven't read thru' his newest stuff yet. Just in case there is some difference. <br>
<br>
Bootup message in the console:<br>
zram devices probed successfully<br>
Setting up swapspace version 1, size = 695780 KiB<br>
no label, UUID= (nice long number here, copied by hand) <br>
<br>
inxi gives<br>
Partition: ID: / size: 5.6G used: 2.8G (53%) fs: ext3 <br>
ID: swap-1 size: 0.42GB used: 0.00GB (0%) fs: swap <br>
ID: swap-2 size: 0.71GB used: 0.00GB (0%) fs: swap</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
71 posts
<ul>
<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./compressing-ram-with-zram-t3536-s30.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536.html" role="button">1</a></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536-s15.html" role="button">2</a></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536-s30.html" role="button">3</a></li>
<li class="active"><span>4</span></li>
<li><a class="button" href="./compressing-ram-with-zram-t3536-s60.html" role="button">5</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./compressing-ram-with-zram-t3536-s60.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
