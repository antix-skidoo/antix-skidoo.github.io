<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>New Mouse dialog - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-development-f24/index.html"><span>antiX-development</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./development-f6/index.html"><span>Development</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./new-mouse-dialog-t5795.html">New Mouse dialog</a></div>
<div class="pagination">
6 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_42123" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42123">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content42123">
<time datetime="2015-07-20T23:54">posted: 2015-07-20 &nbsp; 23:54</time>
<span class="permalink"><a href="./new-mouse-dialog-t5795.html#p42123" title="permalink">#1</a></span>

<div class="content">For the willing and capable, please give this initial make of a new mouse config dialog a try.<br>
It should mirror what the current mouse config dialog does.<br>
Improvements: <br>
- Remembers the set values via read / write to configuration file (mouse.conf)<br>
- Has single command to set mouse configuration, used in startups (Though can be broken into parts, see ds-mouse -h) <br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://github.com/antiX-Linux/desktop-session/tree/master/ds-mouse"<br>linktext was:"https://github.com/antiX-Linux/desktop- ... r/ds-mouse"<br>====================================<br>
<br>
download the 3 files<br>
As root in terminal<br>
cp MY_DOWNLOAD_LOCATION/ds-mouse /usr/local/bin/<br>
cp MY_DOWNLOAD_LOCATION/ds-mouse.py /usr/local/bin/<br>
chmod 755 /usr/local/bin/ds-mouse<br>
chmod 755 /usr/local/bin/ds-mouse.py<br>
<br>
cp MY_DOWNLOAD_LOCATION/mouse.conf <em>/</em>etc/desktop-session/mouse.conf<br>
<br>
echo"ds-mouse -all" &gt;&gt; <em>/</em>etc/desktop-session/startup (or echo"ds-mouse -all" &gt; ~/.desktop-session/startup for user startup files)<br>
<br>
PLEASE try running as user *before* the following. This command is *only* if the program does not make a user based configuration file when the gui (ds-mouse) is run.<br>
As User<br>
cp MY_DOWNLOAD_LOCATION/mouse.conf ~/.desktop-session/<br>
<br>
Please let me know if there are any issues. If they are minor points and / or requests to add into the mouse config program please mark as so with ( Request / Minor Issue )</div>
</div>
</div>

</div>
</div>
<div id="p_42124" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile42124">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content42124">

<time datetime="2015-07-21T03:51">posted: 2015-07-21 &nbsp; 03:51</time>
<span class="permalink"><a href="./new-mouse-dialog-t5795.html#p42124" title="permalink">#2</a></span>

<div class="content">ds-mouse, when no args are passed on the commandline, fall down go boom<blockquote class="uncited"><div>$ ds-mouse<br>
/usr/local/bin/ds-mouse: line 68: ./ds-mouse.py: No such file or directory</div></blockquote>and<blockquote class="uncited"><div>$ ds-mouse -all<br>
Warning: Only changing the first 5 of 16 buttons.</div></blockquote>
<span style="color: green">the <strong>gui</strong> version</span><br>
ds-mouse.py<br>
( Request / Minor Issue ) the slider cannot accommodate 0.5 multiplier intervals ?<br>
not really"minor".... when ya want 1.5x, being steered into using 2x is quite a jump in the result produced<br>
<br>
( Request / Minor Issue ) Should the"acceleration" slider be scaled to cover a sensible range? A value larger than 16 is probably clipped<br>
<br>
Issue? (idk)<br>
adjusting the"Cursor Size" slider seems to have no effect.<br>
I'm guessing: only certain cursorsets provide scalable imagefiles, and none of the currently installed cursorsets meet that requirement<br>
FWIW, I checked after changing desktops to restart session, and again after having fully logged out.<br>
<blockquote class="uncited"><div>echo"ds-mouse -all" &gt; ~/.desktop-session/startup</div></blockquote>wondering whether this written line should contain an ampersand <br>
echo"ds-mouse -all <strong><span style="color: blue">&amp;</span></strong>" &gt; ~/.desktop-session/startup</div>
</div>
</div>

</div>
</div>
<div id="p_42131" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42131">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content42131">

<time datetime="2015-07-21T21:36">posted: 2015-07-21 &nbsp; 21:36</time>
<span class="permalink"><a href="./new-mouse-dialog-t5795.html#p42131" title="permalink">#3</a></span>

<div class="content">@ skidoo,<br>
Thanks for the input.<br>
1. calling ds-mouse without parameters should be fixed, (had to link to /usr/local/bin/ds-mouse.py rather than relative path which only worked if you are in /usr/local/bin when you make the call)<br>
2. silenced the xmodmap calls<br>
<br>
3. changed for acceleration, does threshold also need to be this way?<br>
<br>
4. change to 20 for acceleration as max, again should it be the same for threshold?<br>
<br>
5. OK will look into why, does the old app work to change cursor size for you?<br>
<br>
6. I think either should work ok. Being in the startup file is just for testing purposes at the moment. Eventually when working (and a keyboard app working) it will be setup as a plugin to desktop-session itself... so if it is installed it will be used, if not then it will not be used.</div>
</div>
</div>

</div>
</div>
<div id="p_42135" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile42135">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content42135">

<ul class="post-buttons">
 </ul>
<time datetime="2015-07-21T22:59">posted: 2015-07-21 &nbsp; 22:59</time>
<span class="permalink"><a href="./new-mouse-dialog-t5795.html#p42135" title="permalink">#4</a></span>

<div class="content">Dave, I've revised the scripts to address all but"point #1" (I didn't notice a path refrence issue during testing)<br>

<br>
The revised versions<br>
-- eliminate yad dependency<br>
-- eliminate the buttons (which had little merit considering they were labled 'Undo' yet, confusingly, just 'reset to zero')<br>
-- enforce"stay on top" behavior for the modal success dialog window<br>
-- enforce"may only run one instance at a time" for ds-mouse python script<br>
-- provide onscreen advisement"some apps ignore the cursor size setting" (re"point #5")<br>
-- accommodate float value for acceleration (AFAIK, an int must be passed for threshold)<br>
-- allow zero value for acceleration and for threshold (AFAIK, zeroes are valid xset values for these)</div>
</div>
</div>

</div>
</div>
<div id="p_42136" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42136">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<section class="desktop-hide">

<a href="#" class="username">skidoo</a> </section>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content42136">

<time datetime="2015-07-21T23:28">posted: 2015-07-21 &nbsp; 23:28</time>
<span class="permalink"><a href="./new-mouse-dialog-t5795.html#p42136" title="permalink">#5</a></span>

<div class="content">I'm still not convinced that"cursor size" is correctly handled and is being correctly applied.<br>
Seems like the range ought to be subject to sanity checking (min value = 10?)<br>
but setting a silly small value (1 or even zero) results in no ill effect.<br>
Maybe it's checked internally by xmodmap, or just serves as a 'hint' and window manager (theme engine?) applies"nearest available size"?<br>
<br>
Aha, testing"sudo ds-mouse" (no args) I'm seeing the path issue now<br>
and finding that the script should bail out if executed by sudo user<br>
<br>
python:<br>
os.getenv("SUDO_USER")<br>
or<br>
os.geteuid() == 0</div>
</div>
</div>

</div>
</div>
<div id="p_42357" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile42357">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content42357">

<time datetime="2015-08-03T02:16">posted: 2015-08-03 &nbsp; 02:16</time>
<span class="permalink"><a href="./new-mouse-dialog-t5795.html#p42357" title="permalink">#6</a></span>

<div class="content">OK updated the app to suggestions and utilized most of your modifications, though not exactly the same... hopefully I understood well enough the modifications.<br>
I have not included a couple mainly:<br>
- root user check<br>
- enforce only one instance of ds-mouse<br>
<br>
As with how they are sitting... <br>
- what if someone actually runs the system as root user??? Why should the mouse configuration be disabled???<br>
- only one user can modify the mouse settngs and it is possible to lock yourself out followed by needing to remove the lock file via a file manager or terminal. This will need some looking into. I am wondering though why you are suggesting this limit?</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
6 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
