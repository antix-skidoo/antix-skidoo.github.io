<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>[solved] add desktops to slim - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./general-f21/index.html"><span>General</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./tips-and-tricks-f4/index.html"><span>Tips and Tricks</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./solved-add-desktops-to-slim-t4136.html">[solved] add desktops to slim</a></div>
<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_27649" class="post has-profile bg2">
 <div class="inner">
<dl class="postprofile" id="profile27649">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">metallextrem</span>
</dt>
<dd class="profile-joined">Joined: 07 Apr 2010</dd>
</dl>
<div class="postbody">
<div id="post_content27649">
<time datetime="2013-01-28T19:35">posted: 2013-01-28 &nbsp; 19:35</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27649" title="permalink">#1</a></span>

<div class="content">Hi,<br>
I have installed LXDE but cannot see it in the login screen when I press F1. I tried to reinstall slim but now I cannot see even Xfce (also installed), so I guess it's time to ask for help. Anyone know how to add desktop enviroments to slim? By the way, antix-CC option to configure default login is not working right now (!).<br>
Thanks!</div>
<div class="notice">
Last edited by <b>metallextrem</b> on 31 Jan 2013, 16:30, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_27652" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27652">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content27652">

<time datetime="2013-01-28T21:46">posted: 2013-01-28 &nbsp; 21:46</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27652" title="permalink">#2</a></span>

<div class="content">Look in ~/.xinitrc<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#----------------------------------------------------------------------
# .xinitrc file
#
# AUTO-GENERATED by change-default-desktop on Sat Oct 13 07:52:21 EEST 2012
#
# This file was auto-generated.  If you want to customize it you MUST
# DELETE the line above or your changes will be lost on the next boot.
#
# Alternatively, simply put your changes in .xinitrc-custom.
#----------------------------------------------------------------------

[ -x ~/.xinitrc-custom ] &amp;&amp; ~/.xinitrc-custom

[ -f ~/.Xmodmap ] &amp;&amp; xmodmap ~/.Xmodmap

DEFAULT_DESKTOP=fluxbox

case"${1:-$DEFAULT_DESKTOP}" in
    Rox-fluxbox|rox-fluxbox)
        export DESKTOP_CODE="rox-fluxbox"
        echo"rox-fluxbox" &gt; $HOME/.wallpaper/session
        rox --pinboard=antiX-fluxbox
        exec startfluxbox
        ;;
    fluxbox)
        export DESKTOP_CODE="fluxbox"
        echo"fluxbox" &gt; $HOME/.wallpaper/session
        sed -i -e"s/rox --pinboard=antiX-fluxbox &amp;/#rox --pinboard=antiX-fluxbox &amp;/" $HOME/.fluxbox/startup
        exec startfluxbox
        ;;
    dwm)
        export DESKTOP_CODE="dwm"
        exec dwm
        ;;
    Rox-jwm|rox-jwm)
        export DESKTOP_CODE="rox-jwm"
        echo"rox-jwm" &gt; $HOME/.wallpaper/session
        rox --pinboard=antiX-jwm
        exec jwm
        ;;
    jwm)
        export DESKTOP_CODE="jwm"
        echo"jwm" &gt; $HOME/.wallpaper/session
        sed -i -e"s/rox --pinboard=antiX-jwm &amp;/#rox --pinboard=antiX-jwm &amp;/" $HOME/.jwm/startup
        exec jwm
        ;;
    wmii)
        export DESKTOP_CODE="wmii"
        exec wmii
        ;;

    # Default: rox-fluxbox
    *)
        export DESKTOP_CODE="rox-fluxbox"
        echo"rox-fluxbox" &gt; $HOME/.wallpaper/session
        rox --pinboard=antiX-fluxbox
        exec startfluxbox
        ;;
esac</code></pre></div>
I'm on my base install box instead of my LXDE box right now. I used xdm as a login manager on it instead of slim (a dist-upgrade broke slim on my 8.5 core install)</div>
</div>
</div>

</div>
</div>
<div id="p_27654" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27654">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content27654">

<time datetime="2013-01-28 &nbsp; 22:34">posted: 2013-01-28 &nbsp; 22:34</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27654" title="permalink">#3</a></span>

<div class="content">There are two ways to add desktops to SLiM. The manual way is to edit / etc/slim.conf and add desktops to the line that starts with"sessions" and then edit your ~/.xinitrc file.<br>
<br>
There is also a program called change-default-desktop. This will automatically update slim.conf and your ~/.xinitrc file to include all (known) installed desktops. An improved and simplified version of this program renamed to update-default-desktop will be included in the next antiX release.<br>
<br>
SLiM is slightly broken in that it doesn't not do this update automatically. We are trying to compensate for this brokenness with the change-default-desktop and update-default-desktop programs.</div>
</div>
</div>

</div>
</div>
<div id="p_27661" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27661">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">metallextrem</span>
</dt>
<dd class="profile-joined">Joined: 07 Apr 2010</dd>
</dl>
<div class="postbody">
<div id="post_content27661">

<time datetime="2013-01-29T16:05">posted: 2013-01-29 &nbsp; 16:05</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27661" title="permalink">#4</a></span>

<div class="content">Thanks rokytnji and BitJam. I understand the situation but still don't know how to solve the problem... How can I configure slim.config? Or how can I safely switch to xdm?</div>
</div>
</div>

</div>
</div>
<div id="p_27662" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27662">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 146</span></div>

</div>
</div>
<span class="username">Eperbab</span>
</dt>
<dd class="profile-joined">Joined: 10 Dec 2012</dd>
</dl>
<div class="postbody">
<div id="post_content27662">

<time datetime="2013-01-29T17:22">posted: 2013-01-29 &nbsp; 17:22</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27662" title="permalink">#5</a></span>

<div class="content">Hi,<br>
<br>
Here is my slim config attached. Works with XFCE. I'm using lightdm, but if you add it manually ( sudo apt-get install lightdm ) then it will not work out of the box. If you can't fix slim, I suggest to install kdm. It worked on my Antix without editing. (sudo apt-get install kdm)<br>
BTW, the XFCE full metapackage installs lightdm propely, so probably you have it already. Try out 'sudo dpkg-reconfigure slim' to see it.<br>
<br>
About my slim.conf: critical changes to default
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>login_cmd exec ck-launch-session dbus-launch /bin/bash -login ~/.xinitrc %session &gt;~/.xsession-errors 2&gt;&amp;1
..
sessions     xfce,rox-fluxbox,fluxbox,dwm,rox-jwm,jwm,wmii,openbox, mate</code></pre></div>
Add lxde to sessions, plus in .xinitrc add
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>    lxde)
        export DESKTOP_CODE="lxde"
        exec startlxde
        ;;</code></pre></div>
See 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://forum.lxde.org/viewtopic.php?f=3&amp;t=31385"<br>linktext was:"http://forum.lxde.org/viewtopic.php?f=3&amp;t=31385"<br>====================================<br>
 for reference. The line starting with 'export' is just for reference. You can use it in Conky or in terminal to display actual session name ( try out echo $DESKTOP_CODE in terminal).</div>
</div>
</div>

</div>
</div>
<div id="p_27671" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27671">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content27671">

<time datetime="2013-01-30T19:35">posted: 2013-01-30 &nbsp; 19:35</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27671" title="permalink">#6</a></span>

<div class="content"><blockquote><div><cite>metallextrem wrote:</cite>... How can I configure slim.config? Or how can I safely switch to xdm?</div></blockquote>
Open a terminal window and run the <strong>change-default-desktop</strong> command. You may need to run it twice to get it to start working properly. After that (I think) it should work every time.</div>
</div>
</div>

</div>
</div>
<div id="p_27673" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27673">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 47</span></div>

</div>
</div>
<span class="username">metallextrem</span>
</dt>
<dd class="profile-joined">Joined: 07 Apr 2010</dd>
</dl>
<div class="postbody">
<div id="post_content27673">

<time datetime="2013-01-31T16:29">posted: 2013-01-31 &nbsp; 16:29</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27673" title="permalink">#7</a></span>

<div class="content">BitJam: Thanks!"sudo change-default-desktop" start the program and automatically add lxde to the list, though I still cannot run it from antix-CC (that remains broken). This is the easy way to solve this issue, so I recommend it. <br>
<br>
Eperbab: Thanks for your explanations, files and all. I follow it just to I learn how to configure slim for the next time. It's always a good thing to learn things, don't you think? Anyway, I prefer to keep slim by now (just because it works).</div>
</div>
</div>

</div>
</div>
<div id="p_27676" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27676">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content27676">

<time datetime="2013-01-31T19:25">posted: 2013-01-31 &nbsp; 19:25</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27676" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>metallextrem wrote:</cite>[...], though I still cannot run it from antix-CC (that remains broken).</div></blockquote>
Yes, this is a known issue and it has been fixed in the next release.<br>
<br>
In the next release, the program has been simplified and renamed to <em>update-default-desktop</em> although perhaps it should have"slim" in the name because it is only needed for SLiM.</div>
</div>
</div>

</div>
</div>
<div id="p_27705" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27705">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 74</span></div>

</div>
</div>
<span class="username">rayburn</span>
</dt>
<dd class="profile-joined">Joined: 11 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content27705">

<time datetime="2013-02-02T18:54">posted: 2013-02-02 &nbsp; 18:54</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27705" title="permalink">#9</a></span>

<div class="content">Thanks to this thread, I have been able to change from icewm to fluxbox eventually, after wrestling with the problem for a couple of days.... I should have looked here first of course!</div>
</div>
</div>

</div>
</div>
<div id="p_27824" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27824">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 452</span></div>

</div>
</div>
<span class="username">Jerry</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content27824">

<time datetime="2013-02-10T16:58">posted: 2013-02-10 &nbsp; 16:58</time>
<span class="permalink"><a href="./solved-add-desktops-to-slim-t4136.html#p27824" title="permalink">#10</a></span>

<div class="content">I just installed gdm, which asks during installation which dm should handle login, then purged slim. All done.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
