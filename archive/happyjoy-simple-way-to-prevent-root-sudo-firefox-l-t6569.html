<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>happyjoy! SIMPLE WAY TO PREVENT ROOT/SUDO FIREFOX LAUNCH - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./general-f21/index.html"><span>General</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./tips-and-tricks-f4/index.html"><span>Tips and Tricks</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html">happyjoy! SIMPLE WAY TO PREVENT ROOT/SUDO FIREFOX LAUNCH</a></div>
<div class="pagination">
12 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_47985" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47985">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content47985">
<time datetime="2016-08-27T04:01">posted: 2016-08-27 &nbsp; 04:01</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p47985" title="permalink">#1</a></span>

<div class="content">Within /root directory, create a symlink named".mozilla" with"/dev/null" as its target.<br>
<br>
<span style="color: silver">pleasePLEASEplease add this to future releases via build-iso theme</span></div>
<div class="notice">
Last edited by <b>skidoo</b> on 30 Aug 2016, 03:50, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_47998" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47998">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content47998">

<time datetime="2016-08-29T04:37">posted: 2016-08-29 &nbsp; 04:37</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p47998" title="permalink">#2</a></span>

<div class="content">skidoo, root being able to launch firefox has never been an issue for me. ISTM there might be some rare cases where a user might want to launch firefox as root. I can even imagine someone complaining if we include the symlink you suggest as part of our iso releases based on the principle of least surprise. I agree it is generally a bad idea but there are lots of bad things you can do as root.<br>
<br>
Can you explain why you want this disabled by default? What are the benefits? Are you frequently launching firefox by accident when you are logged in as root?<br>
<br>
<strong>edit:</strong> Perhaps another solution would be a little /usr/local/bin/firefox script that gives you a warning before launching firefox if it detects it was launched by root.</div>
</div>
</div>

</div>
</div>
<div id="p_48000" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48000">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 119</span></div>

</div>
</div>
<span class="username">wildstar84</span>
</dt>
<dd class="profile-joined">Joined: 31 May 2014</dd>
</dl>
<div class="postbody">
<div id="post_content48000">

<time datetime="2016-08-29T18:23">posted: 2016-08-29 &nbsp; 18:23</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48000" title="permalink">#3</a></span>

<div class="content">I don't even run FF or chromium as ME, I have a separate"browser" abUser set up w/very little privilege to do anything but run the browser by a script that su's to that user and launches the browser. See my post in Tips &amp; Tricks entitled" Tip for Protecting your Computer from your Browser".</div>
</div>
</div>

</div>
</div>
<div id="p_48002" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48002">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
 <div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48002">

<time datetime="2016-08-30T03:50">posted: 2016-08-30 &nbsp; 03:50</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48002" title="permalink">#4</a></span>

<div class="content">Because one doesn't expect/intend to launch browser as root, one doesn't bother to setup a"profile" for root (install adblock and other extensions, tweak the prefs). When the browser unexpectedly launches, typically due to some the"Help" button within some GUI app being linked to online htmldocs... you're unprotected (in terms of adblock) and 'boom' firefox generates a fresh profile, replete with 25Mb worth of userfiles (especially unwelcome during toram live session). If you DO take the time to setup a permanent profile (install adblockPlus etc), that adds yet another 30Mb, in the form of ABP blocklists and backups...<br>
<br>
I had written a python wrapper for firefox launcher last year &amp; was using that. I posted an early version of the script; unsure whether I left it online or redacted it.<br>
Also, I had set dillo to be the default handler for html/* mimetype for xdg-open... but firefox still occasionally wound up being launched. (App doesn't call xdg-open? or some mimetype(s) I missed, like image/png and application/atom+xml?)<br>
<blockquote class="uncited"><div> I can even imagine someone complaining if we include the symlink you suggest as part of our iso releases based on the principle of least surprise.</div></blockquote>
Okay, maybe the best course is for a mod to move this thread to Tips-n-Tricks (and I'll edit the first post to remove the pleasePLEASEplease line).</div>
</div>
</div>

</div>
</div>
<div id="p_48031" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48031">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48031">

<time datetime="2016-09-02T19:10">posted: 2016-09-02 &nbsp; 19:10</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48031" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>When the browser unexpectedly launches, typically due to some the"Help" button within some GUI app being linked to online htmldocs... you're unprotected (in terms of adblock) and 'boom' firefox generates a fresh profile, replete with 25Mb worth of userfiles (especially unwelcome during toram live session).</div></blockquote>
Ah, I see. Thank you. Good explanation.<br>
<br>
Are these homegrown apps or apps from upstream? If it is only homegrown apps then we should fix it in the app itself. If they are upstream apps then some other solution will be needed. Thanks again.</div>
</div>
</div>

</div>
</div>
<div id="p_48032" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48032">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48032">

<time datetime="2016-09-02T19:17">posted: 2016-09-02 &nbsp; 19:17</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48032" title="permalink">#6</a></span>

<div class="content"><blockquote class="uncited"><div>Okay, maybe the best course is for a mod to move this thread to Tips-n-Tricks (and I'll edit the first post to remove the pleasePLEASEplease line).</div></blockquote>
OK. <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_48037" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48037">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48037">

<time datetime="2016-09-03T06:44">posted: 2016-09-03 &nbsp; 06:44</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48037" title="permalink">#7</a></span>

<div class="content">Few among the 'homegrown' apps are run as root &amp; I can't recall any that link to remote webpages.<br>
<br>
geany, seamonkey, etc. toolbar help buttons are the ones that have caught me offguard.<br>
On the MX side, many (if not most) of the help buttons within dialog windows of the various xfce components lead to online docs.<br>
<br>
antiX controlCenter } System } Edit config files<br>
passes through to root-permissioned geany instance, but short of"going to extremes" by scripting ifdown } geany } ifup...<br>
it would be impractical to employ guarding via wrapper scripts.</div>
</div>
</div>

</div>
</div>
<div id="p_48050" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48050">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>

</dl>
<div class="postbody">
<div id="post_content48050">

<time datetime="2016-09-03T22:10">posted: 2016-09-03 &nbsp; 22:10</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48050" title="permalink">#8</a></span>

<div class="content">Thanks skidoo. I agree this is a problem. I'm not sure what the best solution is. Your symlink to /dev/null seems reasonable but I don'tif we should spring that on people without warning. We could add a norootfirefox live boot option.</div>
</div>
</div>

</div>
</div>
<div id="p_48060" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48060">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48060">

<time datetime="2016-09-04T21:06">posted: 2016-09-04 &nbsp; 21:06</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48060" title="permalink">#9</a></span>

<div class="content">We have not yet used up every single letter in the alphabet for our disable=xyz flag. How about disable=f to disable root firefox via the /dev/null symlink? If we do this and if you make live-usbs with the new live-usb-maker program then all you need to do is use the <strong>--cheat=disable=lxf</strong> command line parameter to make this the default for your live-usbs. You could even add CHEATS=disable=lxf to your live-usb-maker.conf file.</div>
</div>
</div>

</div>
</div>
<div id="p_48064" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48064">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48064">

<time datetime="2016-09-05T01:27">posted: 2016-09-05 &nbsp; 01:27</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48064" title="permalink">#10</a></span>

<div class="content">Thanks, but it's fine (maybe best?) left as a Tips-n-Tricks entry.<br>
Anyone who's interested in employing this proactive defense is more likely to find the tip post than find the cheatcode documentation.<br>
Besides, the cheat would become ineffective if a user changes their default browser.<br>
(I'm not gung-ho to track down symlink targets for the various names/paths of alternative browser executables.)</div>
</div>
</div>

</div>
</div>
<div id="p_48071" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48071">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48071">

<time datetime="2016-09-05T17:41">posted: 2016-09-05 &nbsp; 17:41</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48071" title="permalink">#11</a></span>

<div class="content">1) Adding disable=f would be a convenience for you. <br>
2) You could always update the Tips-n-Tricks entry to mention disable=f<br>
3) I'm in favor of seeing more happy dances around here<br>
4) It's up to you</div>
</div>
</div>

</div>
</div>
<div id="p_48078" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48078">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48078">

<time datetime="2016-09-05T20:18">posted: 2016-09-05 &nbsp; 20:18</time>
<span class="permalink"><a href="./happyjoy-simple-way-to-prevent-root-sudo-firefox-l-t6569.html#p48078" title="permalink">#12</a></span>

<div class="content">Again, thanks, but I've settled on"it's best left as a Tips-n-Tricks entry."<br>
<br>
At reading your reference to"principle of least surprise", I immediately agreed.<br>
User is best served by reading the tip and manually placing the appropriate symlink. Afterward, s/he knows the result to expect and can trust it will be consistent.<br>
Introducing a variable (employing a cheatcode) seems less ideal because it would create"false sense of security" if someone later forgets to use/save the cheatcode (or it inadvertently gets removed from the bootline)</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
12 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
