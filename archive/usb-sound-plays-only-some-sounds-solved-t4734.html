<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>USB Sound plays only some sounds? [solved] - antiX oldforums archive</title>
     

<link rel="stylesheet" href="../aaa_style.css">
</head>
<body>

<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">

<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX oldforumums archive</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./general-f21/index.html"><span>General</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./hardware-f13/index.html"><span>Hardware</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<h2 class="topic-title" style="display: inline-block;"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html">USB Sound plays only some sounds? [solved]</a></h2>
<div class="pagination">
13 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_32284" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32284">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32284">

<time datetime="2013-12-12T12:14">posted: 2013-12-12  &nbsp; 12:14</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32284" title="permalink">#1</a></span>

<div class="content">I've been using the USB sound device on my laptop (ca. 1998 Pentium II 300 MHz, 288 MiB RAM, antiX 13.2 Testing) for a week or so now, it's been working fine to play MP3 files, but I don't have sound in games like gjeweled (otherwise surprisingly playable on a 300 MHz processor), and streamtuner2 makes no sound. The mixer for the USB is very, very simple -- speakers, mic, and auto gain (the latter doesn't seem to even toggle on and off); the USB sound hardware is supposed to support internal midi synthesis (which I think gjeweled uses), and certainly supports playing a bit stream (else it wouldn't work in xmms, which is what plays MP3 by default). What could cause it to work for one thing, and not for another?</div>

<div class="notice">
Last edited by <b>Silent Observer</b> on 15 Dec 2013, 16:50, edited 1 time in total.
</div>

</div>
</div>

</div>
</div>
<div id="p_32285" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32285">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 850</dd>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32285">

<time datetime="2013-12-12T12:44">posted: 2013-12-12  &nbsp; 12:44</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32285" title="permalink">#2</a></span>

<div class="content">You may need 'jack', an audio program, for midi &amp; the like. It's a program that 'links' various sound devices.</div>

</div>
</div>

</div>
</div>
<div id="p_32286" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32286">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 630</dd>
<span class="username">Eino</span>
</dt>
<dd class="profile-joined">Joined: 12 Oct 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32286">

<time datetime="2013-12-12T13:59">posted: 2013-12-12  &nbsp; 13:59</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32286" title="permalink">#3</a></span>

<div class="content">Aconnect is an audio connection kit for alsa that works similar to jack, and takes less resources.</div>

</div>
</div>

</div>
</div>
<div id="p_32301" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32301">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32301">

<time datetime="2013-12-12T22:57">posted: 2013-12-12  &nbsp; 22:57</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32301" title="permalink">#4</a></span>

<div class="content">I'll look at aconnect when I have time (that won't be this evening). Thanks for the suggestions, both of you. : )</div>

</div>
</div>

</div>
</div>
<div id="p_32308" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32308">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32308">

<time datetime="2013-12-13T04:15">posted: 2013-12-13  &nbsp; 04:15</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32308" title="permalink">#5</a></span>

<div class="content">Okay, aconnect is apparently part of the alsa-utils package, already installed with antiX 13; I download aconnectgui, and also grabbed something called qasconfig. I found aconnectgui very, very simple, at least on the laptop with the USB sound device -- there are"timer" and"announcer", two"midi 0" inputs and two"midi 0" outputs. Since I know almost nothing about midi, I connected timer and announcer to one input each (acconectgui combined them), and tested gejeweled. I couldn't hear anything, but I was having to work with the the surf sound file playing; my girlfriend was asleep and stopping the surf suddenly would wake her. I'll try this again when I can stop the surf (likely in the morning).<br>
<br>
Conversely, qasconfig (a gui ALSA configuration utility) looks very complete, but it's also very cryptic; I had no idea what I was seeing at first, eventually figuring out it was showing all the possibilities for alsa-base.conf entries, of which I know the function of virtually none -- although based on what it shows, I'm pretty sure it could solve my problem if I knew how to use it.</div>

</div>
</div>

</div>
</div>
<div id="p_32310" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32310">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 850</dd>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32310">

<time datetime="2013-12-13T10:38">posted: 2013-12-13  &nbsp; 10:38</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32310" title="permalink">#6</a></span>

<div class="content">Likely there are 'man pages' for them,
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>man 'progname'</code></pre></div>
Should give you options to look at, though likely to be a bit cryptic, might help.</div>

</div>
</div>

</div>
</div>
<div id="p_32316" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32316">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 630</dd>
<span class="username">Eino</span>
</dt>
<dd class="profile-joined">Joined: 12 Oct 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32316">

<time datetime="2013-12-13T13:04">posted: 2013-12-13  &nbsp; 13:04</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32316" title="permalink">#7</a></span>

<div class="content">Try the following,as root.<br>
<br>
Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># alsa  force-unload</code></pre></div>
Then Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># modprobe snd-usb-audio ; modprobe snd-pcm-oss ; modprobe snd-mixer-oss ; modprobe snd-seq-oss</code></pre></div>
Then Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># alsa reload</code></pre></div>
Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># aplay -L </code></pre></div>This should show the outputs of the usb sound card.<br>
<br>
I almost forgot this. <br>
Check for the following in /.asoundrc if you don't have it add it. <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>    pcm.usb-audio {
          type hw
          card 0
       }
       
       ctl.usb-audio {
          type hw
          card 0
       }</code></pre></div>
Some hardware needs intervention to get installed.</div>

</div>
</div>

</div>
</div>
<div id="p_32324" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32324">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32324">

<time datetime="2013-12-14T00:16">posted: 2013-12-14  &nbsp; 00:16</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32324" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>Eino wrote:</cite>Try the following,as root.<br>
<br>
Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># alsa  force-unload</code></pre></div>
Then Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># modprobe snd-usb-audio ; modprobe snd-pcm-oss ; modprobe snd-mixer-oss ; modprobe snd-seq-oss</code></pre></div>
Then Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># alsa reload</code></pre></div>
Run
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># aplay -L </code></pre></div>This should show the outputs of the usb sound card.<br>
<br>
I almost forgot this. <br>
Check for the following in /.asoundrc if you don't have it add it. <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>    pcm.usb-audio {
          type hw
          card 0
       }
       
       ctl.usb-audio {
          type hw
          card 0
       }</code></pre></div>
Some hardware needs intervention to get installed.</div></blockquote>
Here's what's loading right now, before running the commands above.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># lsmod | grep snd
snd_seq_dummy            992  2 
snd_usb_audio          73509  4 
snd_usbmidi_lib        12785  1 snd_usb_audio
snd_hwdep               4064  1 snd_usb_audio
snd_seq_midi            3473  0 
snd_seq_midi_event      3645  1 snd_seq_midi
snd_rawmidi            12723  2 snd_usbmidi_lib,snd_seq_midi
snd_pcm                50454  2 snd_usb_audio
snd_page_alloc          5015  1 snd_pcm
snd_seq                34663  5 snd_seq_midi_event,snd_seq_dummy,snd_seq_midi
snd_seq_device          3890  4 snd_seq,snd_rawmidi,snd_seq_dummy,snd_seq_midi
snd_timer              12034  3 snd_pcm,snd_seq
snd                    36700  16 snd_usb_audio,snd_hwdep,snd_timer,snd_pcm,snd_seq,snd_rawmidi,snd_usbmidi_lib,snd_seq_device,snd_seq_dummy,snd_seq_midi
soundcore               3447  1 snd
</code></pre></div>
Running the suggested commands:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root@Little-Luddite:/home/dqualls# alsa force-unload
Unloading ALSA sound driver modules: snd-seq-dummy snd-usb-audio snd-usbmidi-lib snd-hwdep snd-seq-midi snd-seq-midi-event snd-rawmidi snd-pcm snd-page-alloc snd-seq snd-seq-device snd-timer (failed: modules still loaded: snd-seq-dummy snd-usb-audio snd-usbmidi-lib snd-hwdep snd-rawmidi snd-pcm snd-page-alloc snd-seq snd-seq-device snd-timer).
root@Little-Luddite:/home/dqualls# modprobe snd-usb-audio
root@Little-Luddite:/home/dqualls# modprobe snd-pcm-oss
root@Little-Luddite:/home/dqualls# modprobe snd-mixer-oss
root@Little-Luddite:/home/dqualls# modprobe snd-seq-oss
root@Little-Luddite:/home/dqualls# alsa reload
Unloading ALSA sound driver modules: snd-seq-oss snd-seq-midi-event snd-pcm-oss snd-mixer-oss snd-seq-dummy snd-usb-audio snd-usbmidi-lib snd-hwdep snd-rawmidi snd-pcm snd-page-alloc snd-seq snd-seq-device snd-timer (failed: modules still loaded: snd-seq-dummy snd-usb-audio snd-usbmidi-lib snd-hwdep snd-rawmidi snd-pcm snd-page-alloc snd-seq snd-seq-device snd-timer).
Loading ALSA sound driver modules: snd-seq-oss snd-seq-midi-event snd-pcm-oss snd-mixer-oss snd-seq-dummy snd-usb-audio snd-usbmidi-lib snd-hwdep snd-rawmidi snd-pcm snd-page-alloc snd-seq snd-seq-device snd-timer.
root@Little-Luddite:/home/dqualls# aplay -L
null
    Discard all samples (playback) or generate zero samples (capture)
default:CARD=Device
    USB PnP Sound Device, USB Audio
    Default Audio Device
sysdefault:CARD=Device
    USB PnP Sound Device, USB Audio
    Default Audio Device
front:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    Front speakers
surround40:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    4.0 Surround output to Front and Rear speakers
surround41:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    4.1 Surround output to Front, Rear and Subwoofer speakers
surround50:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    5.0 Surround output to Front, Center and Rear speakers
surround51:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    5.1 Surround output to Front, Center, Rear and Subwoofer speakers
surround71:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    7.1 Surround output to Front, Center, Side, Rear and Woofer speakers
iec958:CARD=Device,DEV=0
    USB PnP Sound Device, USB Audio
    IEC958 (S/PDIF) Digital Audio Output
</code></pre></div>
Are you suggesting that there should be a hidden file .asoundrc in the root folder? I wouldn't expect to find it there (and don't) -- or would that be in my user home folder, where hidden files are frequently to be found (but that one isn't)? Or in [/]etc where many configuration files hang out?<br>
<br>
Edit -- well, regardless of .asoundrc (which I still haven't found) I now have music and effects sound in gjeweled, but still nothing from streamtuner2. Also, how can I make whatever that did, permanent?</div>

</div>
</div>

</div>
</div>
<div id="p_32330" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32330">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 630</dd>
<span class="username">Eino</span>
</dt>
<dd class="profile-joined">Joined: 12 Oct 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32330">

<time datetime="2013-12-14T15:03">posted: 2013-12-14  &nbsp; 15:03</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32330" title="permalink">#9</a></span>

<div class="content"><blockquote><div><cite>Silent Observer wrote:</cite><blockquote><div><cite>Eino wrote:</cite>
Edit -- well, regardless of .asoundrc (which I still haven't found) I now have music and effects sound in gjeweled, but still nothing from streamtuner2. Also, how can I make whatever that did, permanent?</div></blockquote></div></blockquote>
The driver needed was added to the kernel now, so every time you boot with the usb sound plugged in it should load the needed drivers. When you boot with out the usb sound plugged in it will revert back to the original sound card.</div>

</div>
</div>

</div>
</div>
<div id="p_32342" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32342">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 2,238</dd>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content32342">

<time datetime="2013-12-15T00:24">posted: 2013-12-15  &nbsp; 00:24</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32342" title="permalink">#10</a></span>

<div class="content">some of the older games (including gweled) require oss-compat (oss being an older sound system for linux, and oss-compat being libraries to make oss sound compatable to alsa). I suspect modprobing those oss drivers did the trick. to make room on the iso, oss-compat was left out of 13.2, but it is still installable with a quick apt-get install oss-compat.<br>
<br>
at least for me, that's all I needed for sound in the games.<br>
<br>
for some reason the steamtuner configuration points to audacious to play the streams. This needs changed in edit&gt;preferences to xmms, or you need to install audacious, take your pick.</div>

</div>
</div>

</div>
</div>
<div id="p_32347" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32347">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32347">

<time datetime="2013-12-15T02:47">posted: 2013-12-15  &nbsp; 02:47</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32347" title="permalink">#11</a></span>

<div class="content">Kewl!!<br>
<br>
Streamtuner works fine once I know I need to tell it to play through an app I actually have. I think audacity is beyond my laptop (300 MHz Pentium II and 288 MiB RAM), but xmms works just fine; with streamtuner and xmms running, I'm only at 20-25% CPU.<br>
<blockquote class="uncited"><div>When you boot with out the usb sound plugged in it will revert back to the original sound card.</div></blockquote>
Eino, the reason I have the USB sound on my laptop is because the internal NeoMagic sound hardware has, as far as I've been able to find, no Linux driver. I've seen a package for using Windows drivers in Linux, but ndiswrapper seems to be oriented mainly toward locked-down wifi devices, not sound chips -- though if it'd work (or there's a more general solution to that need), I'd prefer it since it would let me use the internal speakers and microphone, and the built-in hardware volume control -- much more compatible with roaming with the machine than having to use headphones or plug-in speakers. I've still got the original Windows 98 sound driver on the CD that came with the computer...</div>

</div>
</div>

</div>
</div>
<div id="p_32348" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32348">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 630</dd>
<span class="username">Eino</span>
</dt>
<dd class="profile-joined">Joined: 12 Oct 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32348">

<time datetime="2013-12-15T11:04">posted: 2013-12-15  &nbsp; 11:04</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32348" title="permalink">#12</a></span>

<div class="content">I had the same issue with an Yamaha sound card. I tried to load the windows drivers with wine, but that just dose not work ether So now the card just sits on a shelf, along with the windows drivers install disk. Yamaha stopped making , and supporting sound cards, so I don't see drivers in the future for Linux. <br>
<br>
I glad everything works now. Someone needs to mark the topic solved.</div>

</div>
</div>

</div>
</div>
<div id="p_32353" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32353">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32353">

<time datetime="2013-12-15T15:33">posted: 2013-12-15  &nbsp; 15:33</time>
<span class="permalink"><a href="./usb-sound-plays-only-some-sounds-solved-t4734.html#p32353" title="permalink">#13</a></span>

<div class="content">Windows drivers in Wine probably won't work; Wine intercepts all system calls. You might <em>possibly</em> get something for Windows programs running under Wine with the Windows driver (if Wine doesn't also intercept direct hardware writes) but something like ndiswrapper, generalized for all hardware drivers, would probably be a project as big as Wine (it would have to emulate the complete Windows hardare API as well as the undocumented BIOS and system calls for half a dozen versions of Windows and hundreds of BIOS variants). Given a USB sound card was under $2 shipped from Hong Kong, and didn't take much extra effort to get running, I'm happy with what I've got.<br>
<br>
I'll mark this solved right now. <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
Edit: Hmmm, well, I don't see where to mark the topic"solved" -- perhaps I need assistance from the staff?</div>

</div>
</div>

</div>
</div>

</div>
<div class="action-bar bar-bottom">
<div class="pagination">
13 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>

<div class="scrollToTopText"><a href="#top">Back to top</a></div> </div>
</div>

</div>
</body></html>
