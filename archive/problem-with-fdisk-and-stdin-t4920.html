<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Problem with fdisk and stdin - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./problem-with-fdisk-and-stdin-t4920.html">Problem with fdisk and stdin</a></div>
<div class="pagination">
4 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
 <div id="p_34060" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34060">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 74</span></div>

</div>
</div>
<span class="username">CGarces</span>
</dt>
<dd class="profile-joined">Joined: 21 Apr 2013</dd>
</dl>
<div class="postbody">
<div id="post_content34060">
<time datetime="2014-03-19T14:13">posted: 2014-03-19 &nbsp; 14:13</time>
<span class="permalink"><a href="./problem-with-fdisk-and-stdin-t4920.html#p34060" title="permalink">#1</a></span>

<div class="content">I'm trying to made an script that use FDisk to create partitions, but command like echo | fdisk not works, just hang the console and I need to kill de fdisk process.<br>
<br>
This is the output<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root@antiX1:/home/Carlos# echo"p\nq\n"| fdisk /dev/sda
GNU Fdisk 1.2.4
Copyright (C) 1998 - 2006 Free Software Foundation, Inc.
This program is free software, covered by the GNU General Public License.
 
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
 
Using /dev/sda
</code></pre></div>
Any idea about this error?</div>
</div>
</div>

</div>
</div>
<div id="p_34061" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34061">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 74</span></div>

</div>
</div>
<span class="username">CGarces</span>
</dt>
<dd class="profile-joined">Joined: 21 Apr 2013</dd>
</dl>
<div class="postbody">
<div id="post_content34061">

<time datetime="2014-03-19T14:56">posted: 2014-03-19 &nbsp; 14:56</time>
<span class="permalink"><a href="./problem-with-fdisk-and-stdin-t4920.html#p34061" title="permalink">#2</a></span>

<div class="content">Ok, I got it. I was using gnu-fdisk package (1.2.4). After remove it, fdisk use the binary that comes from util-linux.<br>
<br>
Now the script works as expected.<br>
<br>
Why antix comes with util-linux and gnu-fdisk?</div>
</div>
</div>

</div>
</div>
<div id="p_34062" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34062">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content34062">

<time datetime="2014-03-19T15:33">posted: 2014-03-19 &nbsp; 15:33</time>
<span class="permalink"><a href="./problem-with-fdisk-and-stdin-t4920.html#p34062" title="permalink">#3</a></span>

<div class="content"><blockquote><div><cite>CGarces wrote:</cite>Ok, I got it. I was using gnu-fdisk package (1.2.4). After remove it, fdisk use the binary that comes from util-linux.<br>
<br>
Now the script works as expected.<br>
<br>
Why antix comes with util-linux and gnu-fdisk?</div></blockquote>
Because at the time of release there was an issue with fdisk in util-linux. I can't remember exactly what.</div>
</div>
</div>

</div>
</div>
<div id="p_34064" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34064">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content34064">

<time datetime="2014-03-19T20:20">posted: 2014-03-19 &nbsp; 20:20</time>
<span class="permalink"><a href="./problem-with-fdisk-and-stdin-t4920.html#p34064" title="permalink">#4</a></span>

<div class="content">I strongly suggest you use parted instead of fdisk for this kind of automation. It was designed to be automated so your scripts will be much less cryptic. If you are not certain parted will be available on your target systems then I suppose you will have to use fdisk.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
4 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
