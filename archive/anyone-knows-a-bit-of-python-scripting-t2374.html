<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Anyone knows a bit of python scripting? - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./development-old-f39/index.html"><span>Development (Old)</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html">Anyone knows a bit of python scripting?</a></div>
<div class="pagination">
7 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_15488" class="post has-profile bg2">
 <div class="inner">
<dl class="postprofile" id="profile15488">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15488">
<time datetime="2010-04-25T00:33">posted: 2010-04-25 &nbsp; 00:33</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15488" title="permalink">#1</a></span>

<div class="content">/usr/local/bin/antix2usb-gui.py has some lines for a help button. They are commented out now but I have made a small help page and would like to know if anyone knows the comand to launch, say, /usr/share/antix2usb/help.html. It would go between the two help button lines.<br>
The lines are:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>        #----------------------------------------------------------------------
        # Button Row
        #
        buttonRow = gtk.HButtonBox()   
        buttonRow.set_border_width(BORDER_WIDTH)

        # Set the appearance of the Button Box
        buttonRow.set_layout(gtk.BUTTONBOX_SPREAD)
        spacing = 10
        child_w = 30
        child_h = 20
        buttonRow.set_spacing(spacing)

#        helpButton = gtk.Button(stock = gtk.STOCK_HELP)
#        buttonRow.add(helpButton)

        cancelButton = gtk.Button(stock = gtk.STOCK_CANCEL)
        cancelButton.connect("clicked", self.on_cancel_button_clicked)
        buttonRow.add(cancelButton)

        applyButton = gtk.Button(stock = gtk.STOCK_APPLY)
        applyButton.connect("clicked", self.on_apply_button_clicked)
        buttonRow.add(applyButton)        

        mainVBox.pack_start(buttonRow, True, True, 0)
        buttonRow.show()

        self.mainWindow.set_position(gtk.WIN_POS_CENTER)
        self.mainWindow.show_all()

    def update(self, data):
        debug("AntixUsbLiveGui.update")
        if DO_DEBUG:
            data.print_params()
        #adj = gtk.Adjustment(lower = data.partitionMinSize, upper = data.partitionMaxSize)
        #self.partitionSizeSpinButton = gtk.SpinButton(adj)
        self.partitionSizeSpinButton.set_range(data.partitionMinSize, data.partitionMaxSize)
        self.partitionSizeSpinButton.set_value(data.partitionSize)
        self.persistenceCheckButton.set_active(data.persistence)
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_15493" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile15493">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 200</span></div>

</div>
</div>
<span class="username">lagopus</span>
</dt>
<dd class="profile-joined">Joined: 15 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15493">

<time datetime="2010-04-25T21:20">posted: 2010-04-25 &nbsp; 21:20</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15493" title="permalink">#2</a></span>

<div class="content">hello secipolla!<br>
<br>
I have a"still-in-development" version of the python script... with a working, simple, help dialog...<br>
but I did not find the time to polish and package it.<br>
<br>
What is the the version of the script you have? (I presume you got the version delivered with antiX 8.5, I am still using 8.2)<br>
<br>
Please have a look at the attached archive.</div>
</div>
</div>

</div>
</div>
<div id="p_15494" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile15494">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15494">

<time datetime="2010-04-25T22:33">posted: 2010-04-25 &nbsp; 22:33</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15494" title="permalink">#3</a></span>

<div class="content">Hi lagopus, the package you posted is empty. Anyway, the version I have is already 0.3.0. I don't know if the English is the same version but the Portuguese is because I worked on the translation and testing with it.<br>
I asked anti to comment lines 507-508 so the help button wouldn't show up since there was no help page.<br>
Now I made one (only Portuguese yet) and would like that the help button opened it with dillo or with x-www-browser. It could be placed in /usr/local/share/antix2usb/html/ajuda.html (then if anti wants to put it somewhere else we just tweak the address).<br>
<br>
Please have a look and, if it's ok, insert the command to open it.</div>
</div>
</div>

</div>
</div>
<div id="p_15497" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile15497">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 200</span></div>

</div>
</div>
<span class="username">lagopus</span>
</dt>
<dd class="profile-joined">Joined: 15 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15497">

<time datetime="2010-04-26T12:17">posted: 2010-04-26 &nbsp; 12:17</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15497" title="permalink">#4</a></span>

<div class="content">Sergio<br>
<br>
Sorry for the mistake, the package is not a tar.gz file, just a tar file.<br>
Rename it and untar.<br>
<br>
Do not take attention to the version numbering<br>
This version (experimental) uses gettext for localisation<br>
<br>
In the file antix2usb-gui.py, search for the string :"help" <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>        helpButton = gtk.Button(stock = gtk.STOCK_HELP)
        helpButton.connect("clicked", self.on_help_button_clicked)
        buttonRow.add(helpButton)</code></pre></div>
You should define on_help_button_clicked() in the AntixUsbLiveGui class:<br>
something like:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>   
    def on_cancel_button_clicked(self, widget):
        debug("on_cancel_button_clicked: close_application")
        close_application()
        return

    def on_help_button_clicked(self, widget):
        help_dialog(HELP_TEXT)
</code></pre></div>
Replace the call to the help_dialog method:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>        help_dialog(HELP_TEXT)
</code></pre></div>
by:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>        os.sytem(my-help-command)
</code></pre></div>
where my_help_command is a quoted string looking like:<br>
<br>
"path-to-my-browser path-to-my-html-help-file &amp;"<br>
<br>
I presume we have to add the '&amp;' if we don't want to freeze the gui until the browser is closed.<br>
<br>
Not tested !<br>
<br>
I think a html help page is better than a help string, but the problem is with the packaging of the app, the place of the files...<br>
Just try it and take care of the indentation !!<br>
<br>
Yves</div>
</div>
</div>

</div>
</div>
<div id="p_15500" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile15500">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15500">

<time datetime="2010-04-26T22:40">posted: 2010-04-26 &nbsp; 22:40</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15500" title="permalink">#5</a></span>

<div class="content">Thanks lagopus. I missed you saying about the simple help dialog, I'll check it.<br>
As soon as I boot to antiX i'll test both the app and the call to a browser.</div>
</div>
</div>

</div>
</div>
<div id="p_15503" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile15503">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15503">

<time datetime="2010-04-27T01:02">posted: 2010-04-27 &nbsp; 01:02</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15503" title="permalink">#6</a></span>

<div class="content">The command to launch the browser works fine, thanks. And it doesn't freeze the USB installer.<br>
I tested it in the original script. Tomorrow I test your new one.<br>
Cheers.<br>
<br>
P.S. for the page it's just put it and the images together in the same folder (then adjust the image links, I don't know if they're relative or absolute).</div>
</div>
</div>

</div>
</div>
<div id="p_15543" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile15543">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content15543">

<time datetime="2010-04-28T23:11">posted: 2010-04-28 &nbsp; 23:11</time>
<span class="permalink"><a href="./anyone-knows-a-bit-of-python-scripting-t2374.html#p15543" title="permalink">#7</a></span>

<div class="content">Hi lagopus, the localization seems to be working ok. Only missing things are the CONFIRM_OR_CANCEL_MESSAGE and the HELP_TEXT (if it will use it instead of a html file).<br>
There's one problem with the script though. It gets the first part of the system locale code to use for GRUB's cheatcode, so in a pt_BR system it would put lang=pt in the kernel line instead of lang=br. See 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"antix.freeforu ms.org/post14230.html?hilit=antix2usb%20gui.py#p14230"<br>linktext was:"antix.freeforu ms.org/post14230.h ... .py#p14230"<br>====================================<br>
<br>
For antiX 8.5 we hacked that since I had to translate the script anyway, see 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"antix.freeforu ms.org/post14305.html?hilit=antix2usb%20gui.py#p14305"<br>linktext was:"antix.freeforu ms.org/post14305.h ... .py#p14305"<br>====================================<br>
<br>
Maybe you can fix that.<br>
Regards.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
7 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
