<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>IceWM battery monitor displays a blank black box - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-m8-intifada-f28/index.html"><span>antiX-M8 Intifada!</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./icewm-battery-monitor-displays-a-blank-black-box-t1274.html">IceWM battery monitor displays a blank black box</a></div>
<div class="pagination">
4 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_8078" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile8078">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 9</span></div>

</div>
</div>
<span class="username">Gullible Jones</span>
</dt>
<dd class="profile-joined">Joined: 07 Dec 2008</dd>
</dl>
<div class="postbody">
<div id="post_content8078">
<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/8078/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2008-12-07T05:09">posted: 2008-12-07 &nbsp; 05:09</time>
<span class="permalink"><a href="./icewm-battery-monitor-displays-a-blank-black-box-t1274.html#p8078" title="permalink">#1</a></span>

<div class="content">Because I'm using AntiX on a laptop, I uncommented the entry in ~/.icewm/preferences for the ACPI/APM monitor (ACPI in my case). After relogin, though, there was a black rectangle where said monitor should have been.<br>
<br>
I am using a nearly dead battery, which on some distros doesn't appear in acpi's output. However, on AntiX it appears as it should:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ acpi
     Battery 0: Full, 0%, design capacity 4000 mAh
</code></pre></div>
Unplugging the laptop (there's enough juice in the battery to last a few minutes) doesn't change the status of the black box.<br>
<br>
Is this an IceWM bug, or a configuration problem? Or should I just get a new battery? <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_9201" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile9201">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9201">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9201/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-02-21T03:20">posted: 2009-02-21 &nbsp; 03:20</time>
<span class="permalink"><a href="./icewm-battery-monitor-displays-a-blank-black-box-t1274.html#p9201" title="permalink">#2</a></span>

<div class="content">I'm probably in over my head advising you on this. I'm running 7.5. I also run 2 batteries instead of just one. First I made sure I had acpi and apm installed through synaptic. My config file I altered first using"battery_bar" which worked. But I like the percentage numbers better so I configured conky rc to show that. Here is my conky rc file that if you look at screenshots section of forum shows that it is working. Don't know if it will help or not, but here it is<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># set to yes if you want Conky to be forked in the background
background yes

cpu_avg_samples 2
net_avg_samples 2

out_to_console no

# X font when Xft is disabled, you can pick one with program xfontsel
#font 7x12
#font 6x10
#font 7x13
 font 8x12
#font 7x12
#font *mintsmild.se*
#font -*-*-*-*-*-*-34-*-*-*-*-*-*-*
#font -artwiz-snap-normal-r-normal-*-*-100-*-*-p-*-iso8859-1

# Use Xft?
use_xft no

# Xft font when Xft is enabled
xftfont Kristen ITC-7

own_window_transparent yes
own_window_colour hotpink

# Text alpha when using Xft
xftalpha 0.8

#on_bottom no

# mail spool
mail_spool $MAIL

# Update interval in seconds
update_interval 1

# Create own window instead of using desktop (required in nautilus)
own_window no

# Use double buffering (reduces flicker, may not work for everyone)
double_buffer yes

# Minimum size of text area
minimum_size 5 5
maximum_width 200

# Draw shades?
draw_shades no

# Draw outlines?
draw_outline no

# Draw borders around text
draw_borders no

# Stippled borders?
stippled_borders 0

# border margins
border_margin 10

# border width
border_width 2

# Default colors and also border colors
default_color white
default_shade_color white
default_outline_color white

# Text alignment, other possible values are commented
alignment top_left
#alignment top_right
#alignment bottom_left
#alignment bottom_right

# Gap between borders of screen and text

gap_x 10
gap_y 10

# Add spaces to keep things from moving about?  This only affects certain objects.
use_spacer yes

# Subtract file system buffers from used memory?
no_buffers yes

# set to yes if you want all text to be in uppercase
uppercase no

# boinc (seti) dir
# seti_dir /opt/seti

# Possible variables to be used:
#
#      Variable         Arguments                  Description                
#  acpiacadapter                     ACPI ac adapter state.                   
#  acpifan                           ACPI fan state                           
#  acpitemp                          ACPI temperature.                        
#  adt746xcpu                        CPU temperature from therm_adt746x       
#  adt746xfan                        Fan speed from therm_adt746x             
#  battery           (num)           Remaining capasity in ACPI or APM        
#                                    battery. ACPI battery number can be      
#                                    given as argument (default is BAT0).     
#  buffers                           Amount of memory buffered                
#  cached                            Amount of memory cached                  
#  color             (color)         Change drawing color to color            
#  cpu                               CPU usage in percents                    
#  cpubar            (height)        Bar that shows CPU usage, height is      
#                                    bar's height in pixels                   
#  downspeed         net             Download speed in kilobytes              
#  downspeedf        net             Download speed in kilobytes with one     
#                                    decimal                                  
#  exec              shell command   Executes a shell command and displays    
#                                    the output in torsmo. warning: this      
#                                    takes a lot more resources than other    
#                                    variables. I'd recommend coding wanted   
#                                    behaviour in C and posting a patch :-).  
#  execi             interval, shell Same as exec but with specific interval. 
#                    command         Interval can't be less than              
#                                    update_interval in configuration.        
#  fs_bar            (height), (fs)  Bar that shows how much space is used on 
#                                    a file system. height is the height in   
#                                    pixels. fs is any file on that file      
#                                    system.                                  
#  fs_free           (fs)            Free space on a file system available    
#                                    for users.                               
#  fs_free_perc      (fs)            Free percentage of space on a file       
#                                    system available for users.              
#  fs_size           (fs)            File system size                         
#  fs_used           (fs)            File system used space                   
#  hr                (height)        Horizontal line, height is the height in 
#                                    pixels                                   
#  i2c               (dev), type, n  I2C sensor from sysfs (Linux 2.6). dev   
#                                    may be omitted if you have only one I2C  
#                                    device. type is either in (or vol)       
#                                    meaning voltage, fan meaning fan or temp 
#                                    meaning temperature. n is number of the  
#                                    sensor. See /sys/bus/i2c/devices/ on     
#                                    your local computer.                     
#  kernel                            Kernel version                           
#  loadavg           (1), (2), (3)   System load average, 1 is for past 1     
#                                    minute, 2 for past 5 minutes and 3 for   
#                                    past 15 minutes.                         
#  machine                           Machine, i686 for example                
#  mails                             Mail count in mail spool. You can use    
#                                    program like fetchmail to get mails from 
#                                    some server using your favourite         
#                                    protocol. See also new_mails.            
#  mem                               Amount of memory in use                  
#  membar            (height)        Bar that shows amount of memory in use   
#  memmax                            Total amount of memory                   
#  memperc                           Percentage of memory in use              
#  new_mails                         Unread mail count in mail spool.         
#  nodename                          Hostname                                 
#  outlinecolor      (color)         Change outline color                     
#  pre_exec          shell command   Executes a shell command one time before 
#                                    torsmo displays anything and puts output 
#                                    as text.                                 
#  processes                         Total processes (sleeping and running)   
#  running_processes                 Running processes (not sleeping),        
#                                    requires Linux 2.6                       
#  shadecolor        (color)         Change shading color                     
#  stippled_hr       (space),        Stippled (dashed) horizontal line        
#                    (height)        
#  swapbar           (height)        Bar that shows amount of swap in use     
#  swap                              Amount of swap in use                    
#  swapmax                           Total amount of swap                     
#  swapperc                          Percentage of swap in use                
#  sysname                           System name, Linux for example           
#  time              (format)        Local time, see man strftime to get more 
#                                    information about format                 
#  totaldown         net             Total download, overflows at 4 GB on     
#                                    Linux with 32-bit arch and there doesn't 
#                                    seem to be a way to know how many times  
#                                    it has already done that before torsmo   
#                                    has started.                             
#  totalup           net             Total upload, this one too, may overflow 
#  updates                           Number of updates (for debugging)        
#  upspeed           net             Upload speed in kilobytes                
#  upspeedf          net             Upload speed in kilobytes with one       
#                                    decimal                                  
#  uptime                            Uptime                                   
#  uptime_short                      Uptime in a shorter format               
#
#  seti_prog                         Seti@home current progress
#  seti_progbar      (height)        Seti@home current progress bar
#  seti_credit                       Seti@hoome total user credit
## antiX additives examples. Add below Text##
##${color cccccc}battery: ${color cccccc}$acpiacadapter, ${battery_percent BAT0,1}% 
##${color white}battery:${color white} {battery}
##Witeless example##
#${color cccccc}Wireless:
#${color cccccc}essid: ${wireless_essid wlan0}
#${color cccccc}IP:${color cccccc} ${addr wlan0}
#${color cccccc}speed: ${color cccccc} ${wireless_bitrate wlan0}
#${color cccccc}link strength: ${color cccccc} ${wireless_link_bar 7,50 wlan0}

# stuff after 'TEXT' will be formatted on screen

TEXT
${color white}$sysname $kernel
${color white}Uptime: $uptime
${color white}${time %a %d %b %k:%M}

${color white}Monitors:
${color white}battery: ${color white}$acpiacadapter, ${battery_percent BAT0}% 
${color white}cpu: ${color white}${cpu}%
${color white}ram : ${color white}$mem${color white}/${color white}$memmax ${color white}- ${color white}$memperc%
${color white}swap: ${color white}$swap${color white}/${color white}$swapmax ${color white}- ${color white}$swapperc%
${color white}processes: ${color white}$processes  ${color white}running: ${color white}$running_processes

${color white}Space:
${color white}Root:${color white} ${fs_free /} ${color white}= ${fs_free_perc /}%

</code></pre></div>
Good Luck and Happy Trails.</div>
</div>
</div>

</div>
</div>
<div id="p_9209" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile9209">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 61</span></div>

</div>
</div>
<span class="username">thinkpada21</span>
</dt>
<dd class="profile-joined">Joined: 13 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content9209">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9209/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-02-22T04:49">posted: 2009-02-22 &nbsp; 04:49</time>
<span class="permalink"><a href="./icewm-battery-monitor-displays-a-blank-black-box-t1274.html#p9209" title="permalink">#3</a></span>

<div class="content">There is also the possibilty the upgrade to 8.0 broke capability with your laptop's ACPI interface. This happened to me when I upgraded to 7.5. I have not yet tried 8.0, but I expect it will still be broken.</div>
</div>
</div>

</div>
</div>
<div id="p_9210" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile9210">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,081</span></div>

</div>
</div>
<span class="username">OU812</span>
</dt>
<dd class="profile-joined">Joined: 29 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content9210">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9210/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-02-22T06:02">posted: 2009-02-22 &nbsp; 06:02</time>
<span class="permalink"><a href="./icewm-battery-monitor-displays-a-blank-black-box-t1274.html#p9210" title="permalink">#4</a></span>

<div class="content">You could try installing acpitool from the repo.<br>
<br>
john</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
4 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
