<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>keyboard layout is not saved - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-13-luddite-f49/index.html"><span>antiX-13 Luddite</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./keyboard-layout-is-not-saved-t4612.html">keyboard layout is not saved</a></div>
<div class="pagination">
16 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./keyboard-layout-is-not-saved-t4612-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./keyboard-layout-is-not-saved-t4612-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_31091" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile31091">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 3</span></div>

</div>
</div>
<span class="username">thob</span>
</dt>
<dd class="profile-joined">Joined: 22 Sep 2013</dd>
</dl>
<div class="postbody">
<div id="post_content31091">
<time datetime="2013-09-22T16:27">posted: 2013-09-22 &nbsp; 16:27</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31091" title="permalink">#1</a></span>

<div class="content">I can't save it beyond the session, After each reboot it shows <strong>British</strong> I want <strong><span style="text-decoration: underline">German</span></strong> though. I have AntiX on HDD.<br>
<br>
Any idea how to fix this? The computer is for a school class and they are not able to change the settings after each login.<br>
<br>
Thanks t<br>
PS:otherwise excellent distro. works very good with my old Dell hardware</div>
<div class="notice">
Last edited by <b>thob</b> on 22 Sep 2013, 20:35, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_31093" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile31093">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 765</span></div>

</div>
</div>
<span class="username">rust collector</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2011</dd>
</dl>
<div class="postbody">
<div id="post_content31093">

<time datetime="2013-09-22T17:19">posted: 2013-09-22 &nbsp; 17:19</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31093" title="permalink">#2</a></span>

<div class="content">antixcc-system-edit config files-(password)-keyboard. Edit the second line.<br>
<br>
Or: sudo (your prefered) editor- etc/default/keyboard, then edit the same line.<br>
<br>
I guess you have to translate it all, to german...</div>
</div>
</div>

</div>
</div>
<div id="p_31094" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile31094">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 3</span></div>

</div>
</div>
<span class="username">thob</span>
</dt>
<dd class="profile-joined">Joined: 22 Sep 2013</dd>
</dl>
<div class="postbody">
<div id="post_content31094">

<time datetime="2013-09-22T20:43">posted: 2013-09-22 &nbsp; 20:43</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31094" title="permalink">#3</a></span>

<div class="content">xKBLAYOUT="de,de_DE,us"<br>
<br>
if I go to the config file settings it still shows British.<br>
<br>
Do I miss anything?<br>
<br>
Thanks T</div>
</div>
</div>

</div>
</div>
<div id="p_31102" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile31102">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 765</span></div>

</div>
</div>
<span class="username">rust collector</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2011</dd>
</dl>
<div class="postbody">
<div id="post_content31102">

<time datetime="2013-09-23T12:12">posted: 2013-09-23 &nbsp; 12:12</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31102" title="permalink">#4</a></span>

<div class="content">Did you save the changes? sorry, but I had to ask...<br>
<br>
I would probably remove the ,us too, if you don't happen to have a us keyboard.<br>
<br>
My line is: xKBLAYOUT="no" as I only have the"no" keyboard, on this netbook.</div>
</div>
</div>

</div>
</div>
<div id="p_31107" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile31107">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content31107">

<time datetime="2013-09-23T16:44">posted: 2013-09-23 &nbsp; 16:44</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31107" title="permalink">#5</a></span>

<div class="content">This may seem like a silly question but are you going by what the keyboard settings app says in the control center?<br>
<br>
Reason being is that this:<br>
xKBLAYOUT="de,de_DE,us"<br>
says that you have a german layout and a us layout. However the control center keyboard settings will always display british, in that little script there is currently no detection as to what keyboard is actually in use. It will always display british as the default no matter what settings the system has. This default is hard coded in the script <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
On another note if you have used this utility it may have modified you ~/.xmodmaprc (or another startup file, I cannot recall which one at the moment) in which case you will need to edit that file.<br>
menu --&gt; run <br>
type: leafpad ~/.xmodmaprc<br>
add a: # in front of keymap line<br>
save and close</div>
</div>
</div>

</div>
</div>
<div id="p_31108" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile31108">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 3</span></div>

</div>
</div>
<span class="username">thob</span>
</dt>
<dd class="profile-joined">Joined: 22 Sep 2013</dd>
</dl>
<div class="postbody">
<div id="post_content31108">

<time datetime="2013-09-23T19:42">posted: 2013-09-23 &nbsp; 19:42</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31108" title="permalink">#6</a></span>

<div class="content">so you say it's British no matter what's set?<br>
in the meantime I set XKBLAYOUT="de"<br>
<br>
... the xmodmaprc is empty following your instructions ??</div>
<div class="postcontent_footer">

 </div>
</div>
</div>

</div>
</div>
<div id="p_31111" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile31111">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content31111">

<time datetime="2013-09-24T02:13">posted: 2013-09-24 &nbsp; 02:13</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31111" title="permalink">#7</a></span>

<div class="content"><blockquote><div><cite>thob wrote:</cite>so you say it's British no matter what's set?</div></blockquote>
Uhm.... if you go:<br>
antiX-Control-Center --&gt; Session --&gt; Set Keyboard Layout.<br>
Then yes, it will show"british" as selected, even though you would have a different layout.<br>
<blockquote><div><cite>thob wrote:</cite>
in the meantime I set XKBLAYOUT="de"
</div></blockquote>
Ok that should have set the german keyboard layout as default.<br>
<blockquote><div><cite>thob wrote:</cite>
... the xmodmaprc is empty following your instructions ??</div></blockquote>
*Ignoring* what the control center app displays (antiX-Control-Center --&gt; Session --&gt; Set Keyboard Layout.).....<br>
Does the keyboard *type* with the german layout or another? <br>
I would give this a try by pressing the keys in terminal or leafpad and seeing if the display matches what is expected.<br>
<br>
If it is *typing* in another layout (or does not match what you expect), I will do some more investigating, (changing the layout on mine and trying to find what file is altered whilst I cannot type <span class="emoticon"> __{{emoticon}}__ </span> ) and relay the solution back to you.<br>
<br>
Dave</div>
</div>
</div>

</div>
</div>
<div id="p_31134" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile31134">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content31134">

<time datetime="2013-09-26T08:09">posted: 2013-09-26 &nbsp; 08:09</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p31134" title="permalink">#8</a></span>

<div class="content">The keyboard layout is set in the file /@etc/default/keyboard:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># KEYBOARD CONFIGURATION FILE

# Consult the keyboard(5) manual page.

XKBMODEL="pc105"
XKBLAYOUT="us"
XKBVARIANT=""
XKBOPTIONS=""

BACKSPACE="guess"</code></pre></div>You can edit this file as root and then restart the X-server (by logging out of X and then logging in again at the slim greeter) to have you changes take effect. The default values (at least on the Live system) are stored in files under /usr/share/antiX/init-lang. The file /usr/share/antiX/init-lang/de_DE.lang sets"XKBLAYOUT="de,us".<br>
<br>
This is effectively what happens when you select a language/region from the"F2 Lang" menu in the LiveCD/USB bootloader. The /@etc/default/keyboard file gets edited before the X-server starts. When you then do an install, this file carries over to the installed system and the settings in it get carried over too.<br>
<br>
NOTE: remove the @ between"/" and"etc". There is a bug in the forum software that prevents anyone from posting a"/" directly before"etc".</div>
</div>
</div>

</div>
</div>
<div id="p_32584" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32584">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">rstudio</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32584">

<time datetime="2013-12-29T10:09">posted: 2013-12-29 &nbsp; 10:09</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32584" title="permalink">#9</a></span>

<div class="content">Hi, i have similar problem with AntiX 13.2 (386)<br>
I have edited etc/default/keyboard file, save it, restarted PC and still I have same keyboard layout as before.<br>
<br>
Keyboard layout changer (antiX Control Center -&gt; Session -&gt; Change Keyboard Layout) works fine, but sadly there is missing my locale option.</div>
</div>
</div>

</div>
</div>
<div id="p_32585" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32585">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content32585">

<time datetime="2013-12-29T10:29">posted: 2013-12-29 &nbsp; 10:29</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32585" title="permalink">#10</a></span>

<div class="content">Is antiX installed to hard drive?<br>
<br>
If so, you could use antiX Control Center -&gt; System -&gt; Configure system to set locales and keyboard.<br>
<br>
Make sure you back up home first, just in case.</div>
</div>
</div>

</div>
</div>
<div id="p_32590" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32590">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">rstudio</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32590">

<time datetime="2013-12-29T19:49">posted: 2013-12-29 &nbsp; 19:49</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32590" title="permalink">#11</a></span>

<div class="content">I have successfully installed antiX on hard drive, with my locale selection. But keyboard layout is still English.<br>
<br>
I try to reconfigure system with"Configure system" but It doesn't work. Locale is fine, only keyboard layout is giving me head ache.<br>
Also in Desktop new icon appeared - icon for installing antiX on hard drive - but I fixed this with right click and"remove item(s)".<br>
<br>
How the"antiX Control Center -&gt; Session -&gt; Change Keyboard Layout" option works? What it changes in background?</div>
</div>
</div>

</div>
</div>
<div id="p_32591" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32591">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content32591">

<time datetime="2013-12-29T19:59">posted: 2013-12-29 &nbsp; 19:59</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32591" title="permalink">#12</a></span>

<div class="content">For keyboard, edit etc/default/keyboard (as root) to something like this:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>XKBMODEL="pc105"
XKBLAYOUT="de,us"
XKBVARIANT=","
XKBOPTIONS="grp:alt_shift_toggle,terminate:ctrl_alt_bksp,grp_led:scroll"
BACKSPACE="guess"
</code></pre></div>
The Change Keyboard Layout is only valid for the desktop session and not saved on reboot.</div>
</div>
</div>

</div>
</div>
<div id="p_32593" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32593">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">rstudio</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32593">

<time datetime="2013-12-29T22:36">posted: 2013-12-29 &nbsp; 22:36</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32593" title="permalink">#13</a></span>

<div class="content">I figured it out, whats is the problem.<br>
$ sudo setxkbmap -model pc105 -layout sl -option""<br>
Error loading new keyboard description.<br>
<br>
So I'm wondering if"sl" layout is even supported in antiX? So instead of"sl" I used"hr". <br>
I created new / etc/default/keyboard file and set it up as you suggested (for layout I have used"hr"). And now everything works fine. <span class="emoticon"> __{{emoticon}}__ </span><br>
(I rebooted twice to make sure everything works fine.)<br>
<br>
Oftopic:<br>
In /home/user/.icewm/startup file are those 2 lines<br>
<br>
# set live keyboard<br>
# setxkbmap -layout"$XKBLAYOUT" -variant"$XKBVARIANT" -option"$XKBOPTIONS"<br>
<br>
Why is this line in comment? Is this hack only used in live CD?</div>
</div>
</div>

</div>
</div>
<div id="p_32594" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32594">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content32594">

<time datetime="2013-12-29T22:54">posted: 2013-12-29 &nbsp; 22:54</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32594" title="permalink">#14</a></span>

<div class="content">Yes, it is used for live use, though it probaly will work installed as well.<br>
<br>
What language is sl? Slovenian?<br>
<br>
It should work (if not, you have found a bug) <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
OK - try si rather than sl in etc/default/keyboard</div>
</div>
</div>

</div>
</div>
<div id="p_32709" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32709">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">rstudio</span>
</dt>
<dd class="profile-joined">Joined: 27 Dec 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32709">

<time datetime="2014-01-03T20:07">posted: 2014-01-03 &nbsp; 20:07</time>
<span class="permalink"><a href="./keyboard-layout-is-not-saved-t4612.html#p32709" title="permalink">#15</a></span>

<div class="content">[solved] I have used si, and it works. Thnx for help anticapitalista.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
16 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./keyboard-layout-is-not-saved-t4612-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./keyboard-layout-is-not-saved-t4612-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
