<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>AntiX 16.1 update kills wireless - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./general-f21/index.html"><span>General</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./hardware-f13/index.html"><span>Hardware</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./antix-16-1-update-kills-wireless-t6879.html">AntiX 16.1 update kills wireless</a></div>
<div class="pagination">
17 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./antix-16-1-update-kills-wireless-t6879-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./antix-16-1-update-kills-wireless-t6879-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_50540" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50540">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50540">
<time datetime="2017-03-05T06:41">posted: 2017-03-05 &nbsp; 06:41</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50540" title="permalink">#1</a></span>

<div class="content">I think this is a peculiar question: I'd like to know what upgrade application would likely be responsible for knocking out my Broadcom BCM4313 wireless card. I'm a long-time user of antiX and know Broadcom's troubled history. But in my case, the card worked fine on earlier versions of antiX. And it worked fine on the live session of antiX 16.1. After the hard drive installation, it also worked fine. After the first synaptic update, though, the wireless conked out, and the usual diagnostics failed to trace the problem to the driver or whatever. Loading a live session again activated the Broadcom card without problem. So I reinstalled and now have wireless operating normally. But I have not performed the first update. Of course, I will eventually want to keep the system updated (and I do have a USB wireless dongle that continues to work after the update). But for convenience I want to keep the internal wireless card working. I'd like to isolate which update is responsible for knocking out a wireless card.<br>
<br>
So following is the list of synaptic's first-run updates. All I'm asking for is anyone's educated guess as to which would be responsible for killing the wireless. I have my suspicions, but any insight about this would be much appreciated. Many thanks in advance. Here's the list:<br>
<br>
libreoffice-common<br>
vim-tiny<br>
libevent-core-2.0-5<br>
libirs-export91<br>
libjasper1<br>
libreoffice-impress<br>
libdns-export100<br>
live-usb-maker<br>
ure<br>
libevent-pthreads-2.0-5<br>
libgd3<br>
install-meta-antix<br>
libreoffice-math<br>
libreoffice-calc<br>
wingrid-antix<br>
libisccc90<br>
fonts-opensymbol<br>
libisc-export95<br>
iso-snapshot-antix<br>
streamlight-antix<br>
cli-installer-antix<br>
libisc95<br>
liblcms2-utils<br>
libbind9-90<br>
uno-libs3<br>
linux-image-4.4.10-antix.1-486-smp<br>
libdns100<br>
libevent-2.0-5<br>
libxpm4<br>
liblwres90<br>
openssl<br>
liblcms2-2<br>
libreoffice-draw<br>
libreoffice-base-core<br>
libreoffice-core<br>
libisccfg90<br>
antix-goodies<br>
vim-common<br>
firefox-esr<br>
antix-installer<br>
gufw<br>
bind9-host<br>
libreoffice-style-galaxy<br>
libisccfg-export90<br>
login<br>
libreoffice-writer<br>
ntfs-3g<br>
passwd<br>
libreoffice-gtk<br>
libssl1.0.0<br>
linux-headers-4.4.10-antix.1-486-smp<br>
faq-docs-antix<br>
yad</div>
</div>
</div>

</div>
</div>
<div id="p_50541" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50541">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 850</span></div>

</div>
</div>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content50541">

<time datetime="2017-03-05T11:03">posted: 2017-03-05 &nbsp; 11:03</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50541" title="permalink">#2</a></span>

<div class="content">Only thing I see/think may cause such a problem, is the new kernel - but I'm no expert. <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_50543" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50543">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50543">

<time datetime="2017-03-05T12:06">posted: 2017-03-05 &nbsp; 12:06</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50543" title="permalink">#3</a></span>

<div class="content">After installing the kernel, you may need to re-install the broadcom-sta-dkms package</div>
</div>
</div>

</div>
</div>
<div id="p_50552" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50552">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50552">

<time datetime="2017-03-06T02:05">posted: 2017-03-06 &nbsp; 02:05</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50552" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>fatmac wrote:</cite>Only thing I see/think may cause such a problem, is the new kernel - but I'm no expert. <span class="emoticon"> __{{emoticon}}__ </span></div></blockquote>
Yes, this was my guess. But I was hoping it might be something else easier to deal with than new kernels. I'll keep it in mind.</div>
</div>
</div>

</div>
</div>
<div id="p_50553" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50553">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50553">

<time datetime="2017-03-06T02:10">posted: 2017-03-06 &nbsp; 02:10</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50553" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>After installing the kernel, you may need to re-install the broadcom-sta-dkms package</div></blockquote>
Okay. I ran into this, searching the forum for solutions. I'm vague on whether the packages need installing or building (which I haven't looked into). I'll work on this if there isn't any more obvious culprit.</div>
</div>
</div>

</div>
</div>
<div id="p_50555" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50555">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50555">

<time datetime="2017-03-06T12:20">posted: 2017-03-06 &nbsp; 12:20</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50555" title="permalink">#6</a></span>

<div class="content">The dkms modules for wl (the broadcast driver) needs rebuilt foe the new kernel. Reinstalling the broadcom-sta-dkms package will rebuild the module. I couldnt get the modules to rebuild any other way, but if you find a method please let us know.</div>
</div>
</div>

</div>
</div>
<div id="p_50562" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50562">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50562">

<time datetime="2017-03-07T04:23">posted: 2017-03-07 &nbsp; 04:23</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50562" title="permalink">#7</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite>The dkms modules for wl (the broadcast driver) needs rebuilt foe the new kernel. Reinstalling the broadcom-sta-dkms package will rebuild the module. I couldnt get the modules to rebuild any other way, but if you find a method please let us know.</div></blockquote>
Check. Will report whatever progress I make.</div>
</div>
</div>

</div>
</div>
<div id="p_50564" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50564">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 119</span></div>

</div>
</div>
<span class="username">wildstar84</span>
</dt>
<dd class="profile-joined">Joined: 31 May 2014</dd>
</dl>
<div class="postbody">
<div id="post_content50564">

<time datetime="2017-03-08T03:40">posted: 2017-03-08 &nbsp; 03:40</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50564" title="permalink">#8</a></span>

<div class="content">For the longest time, I had an"out-of-tree" module that I had to recompile and rebuild EVERY time I upgraded a kernel (which, of course, required TWO reboots: one after upgrading kernel, then one to rebuild that module ("hid-scrollpoint")). I finally got tired of that and googled dkms. Here's the notes on what I did: (You'll need to modify a bit to work for your broadcomm module):<br>
<br>
Goal: Dynamic application of hid-scrollpoint kernel module persistant across kernel upgrades:<br>
From: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://wiki.centos.org/HowTos/BuildingKernelModules#head-d313bd351f90d4f25a2143b7bbcff73f927731f0"<br>linktext was:"https://wiki.centos.org/HowTos/Building ... 3f927731f0"<br>====================================<br>
<br>
<br>
cd /usr/src<br>
mkdir hid-scrollpoint-1.00<br>
cp /home/turnerjw/scrollpoint/* hid-scrollpoint-1.00<br>
cd hid-scrollpoint-1.00/ <br>
touch dkms.conf<br>
vi dkms.conf<br>
================================<br>
PACKAGE_NAME="hid-scrollpoint"<br>
PACKAGE_VERSION="1.00"<br>
BUILT_MODULE_NAME[0]="hid-scrollpoint"<br>
DEST_MODULE_LOCATION[0]="/kernel/drivers/hid/"<br>
AUTOINSTALL="yes"<br>
================================<br>
<br>
dkms add -m hid-scrollpoint -v 1.00<br>
<br>
Creating symlink /var/lib/dkms/hid-scrollpoint/1.00/source -&gt;<br>
/usr/src/hid-scrollpoint-1.00<br>
<br>
DKMS: add completed.<br>
<br>
dkms build -m hid-scrollpoint -v 1.00<br>
<br>
Kernel preparation unnecessary for this kernel. Skipping...<br>
<br>
Building module:<br>
cleaning build area...<br>
make -j4 KERNELRELEASE=4.8.0-10.1-liquorix-686-pae -C /lib/modules/4.8.0-10.1-liquorix-686-pae/build M=/var/lib/dkms/hid-scrollpoint/1.00/build....<br>
cleaning build area...<br>
<br>
DKMS: build completed.<br>
<br>
dkms install -m hid-scrollpoint -v 1.00<br>
<br>
hid-scrollpoint:<br>
Running module version sanity check.<br>
- Original module<br>
- Found /lib/modules/4.8.0-10.1-liquorix-686-pae/extra/hid-scrollpoint.ko<br>
- Storing in /var/lib/dkms/hid-scrollpoint/original_module/4.8.0-10.1-liquorix-686-pae/i686/<br>
- Archiving for uninstallation purposes<br>
- Installation<br>
- Installing to /lib/modules/4.8.0-10.1-liquorix-686-pae/kernel/drivers/hid//<br>
<br>
depmod.....<br>
<br>
DKMS: install completed.<br>
<br>
Good luck!</div>
</div>
</div>

</div>
</div>
<div id="p_50565" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50565">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50565">

<time datetime="2017-03-08T06:51">posted: 2017-03-08 &nbsp; 06:51</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50565" title="permalink">#9</a></span>

<div class="content">Thanks so much for taking the trouble to post this procedure. I haven't tried it yet... I want to study it so I can understand clearly what it's doing. If others dealing with the same issue have tried it I hope they'll chime in. It's much appreciated.</div>
</div>
</div>

</div>
</div>
<div id="p_50590" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50590">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<span> <a href="#" class="username">malanrich</a> </span> 
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50590">

<time datetime="2017-03-10T05:50">posted: 2017-03-10 &nbsp; 05:50</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50590" title="permalink">#10</a></span>

<div class="content">Update: After some testing (just to be thorough) I can at least confirm that it was kernel upgrade that knocked out the wireless.</div>
</div>
</div>

</div>
</div>
<div id="p_50591" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50591">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 20</span></div>

</div>
</div>
<span class="username">darry1966</span>
</dt>
<dd class="profile-joined">Joined: 01 Apr 2013</dd>
</dl>
<div class="postbody">
<div id="post_content50591">

<time datetime="2017-03-10T08:36">posted: 2017-03-10 &nbsp; 08:36</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50591" title="permalink">#11</a></span>

<div class="content">Same problem with my update - I uninstalled broadcom-sta-dkms and reinstalled broadcom-sta-dkms - problem solved.<span class="emoticon"> __{{emoticon}}__ </span></div>

</div>
</div>

</div>
</div>
<div id="p_50592" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50592">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50592">

<time datetime="2017-03-10T10:25">posted: 2017-03-10 &nbsp; 10:25</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50592" title="permalink">#12</a></span>

<div class="content"><blockquote><div><cite>darry1966 wrote:</cite>Same problem with my update - I uninstalled broadcom-sta-dkms and reinstalled broadcom-sta-dkms - problem solved.<span class="emoticon"> __{{emoticon}}__ </span></div></blockquote>
Thanks for the comment. Just to be clear: Do you mean simply uninstalling through, for example, synaptic...and then reinstalling the same way? No other procedure was involved?</div>
</div>
</div>

</div>
</div>
<div id="p_50593" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50593">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50593">

<time datetime="2017-03-10T11:29">posted: 2017-03-10 &nbsp; 11:29</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50593" title="permalink">#13</a></span>

<div class="content"><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>dpkg-reconfigure broadcom-sta-dkms </code></pre></div>
will also force the rebuild. this is good if you've already lost your internet connection. uninstalling and reinstalling is problematic without an internet connection.</div>
</div>
</div>

</div>
</div>
<div id="p_50594" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile50594">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 20</span></div>

</div>
</div>
<span class="username">darry1966</span>
</dt>
<dd class="profile-joined">Joined: 01 Apr 2013</dd>
</dl>
<div class="postbody">
<div id="post_content50594">

<time datetime="2017-03-10T18:11">posted: 2017-03-10 &nbsp; 18:11</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50594" title="permalink">#14</a></span>

<div class="content">I use apt and simply uninstalled package then installed again. I used ethernet cable.</div>
</div>
</div>

</div>
</div>
<div id="p_50595" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile50595">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 216</span></div>

</div>
</div>
<span class="username">malanrich</span>
</dt>
<dd class="profile-joined">Joined: 12 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content50595">

<time datetime="2017-03-10T18:39">posted: 2017-03-10 &nbsp; 18:39</time>
<span class="permalink"><a href="./antix-16-1-update-kills-wireless-t6879.html#p50595" title="permalink">#15</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>dpkg-reconfigure broadcom-sta-dkms </code></pre></div>
will also force the rebuild. this is good if you've already lost your internet connection. uninstalling and reinstalling is problematic without an internet connection.</div></blockquote>
Exactly why I'm going so slow and asking questions. A clear recovery procedure with options needs to be in place for once the connection is lost. Thanks.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
17 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./antix-16-1-update-kills-wireless-t6879-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./antix-16-1-update-kills-wireless-t6879-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
