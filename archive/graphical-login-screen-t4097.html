<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>graphical login screen? - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./graphical-login-screen-t4097.html">graphical login screen?</a></div>
<div class="pagination">
11 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_27430" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27430">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">tuclogicguy</span>
</dt>
<dd class="profile-joined">Joined: 01 Jan 2013</dd>
</dl>
<div class="postbody">
<div id="post_content27430">
<time datetime="2013-01-05T05:33">posted: 2013-01-05 &nbsp; 05:33</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27430" title="permalink">#1</a></span>

<div class="content">I have antiX-12 installed in a spare partitition on my hard disk. It starts up and seems to run OK; and, after following the suggestions from anticapitalista, have it configured so it doesn't change my hardware clock from local time to UTC.<br>
<br>
Now my question: is this thing supposed to display a graphical login screen on initial boot? Some of the last messages that appear before the login prompt are:<br>
INIT: Entering runlevel: 5<br>
Starting X display manager: slim<br>
<br>
But, slim doesn't appear start. It stays in console mode. I can enter my username and password and get logged in, still in console mode. Then I enter"startx" and the icewm desktop comes up and works normally.<br>
<br>
I did some investigation into how slim is configured. I discovered that the only slim theme that came installed is"antiX". From a command prompt, I tried typing:<br>
slim -p /usr/share/slim/themes/antiX<br>
and the antiX theme is displayed and I can go through the motions of entering my username and password. After that, it displays a test message for a few seconds and then exits back to the command prompt. So, it appears that slim basically works. Why doesn't it appear on initial log in?<br>
<br>
Charles</div>
</div>
</div>

</div>
</div>
<div id="p_27434" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27434">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,956</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content27434">

<time datetime="2013-01-05T10:33">posted: 2013-01-05 &nbsp; 10:33</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27434" title="permalink">#2</a></span>

<div class="content">Several users have this issue and I guess it is hardware related probably down to drivers. Someone installed the non-free drivers for their card and it worked. Others reinstalled slim with success. Others made changes to the boot menu by adding/removung cheats.</div>
</div>
</div>

</div>
</div>
<div id="p_27436" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27436">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content27436">

<time datetime="2013-01-05T12:20">posted: 2013-01-05 &nbsp; 12:20</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27436" title="permalink">#3</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>Several users have this issue and I guess it is hardware related probably down to drivers. Someone installed the non-free drivers for their card and it worked. Others reinstalled slim with success. Others made changes to the boot menu by adding/removung cheats.</div></blockquote>
<br>
The thing that has worked every time for me when i encounter this proplem is loging in as root and runing X -configure . then move the resulting root/xorg.conf.new to etc/X11/xorg.conf. Followed by restarting slim service slim restart</div>
</div>
</div>

</div>
</div>
<div id="p_27438" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27438">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">tuclogicguy</span>
</dt>
<dd class="profile-joined">Joined: 01 Jan 2013</dd>
</dl>
<div class="postbody">
<div id="post_content27438">

<time datetime="2013-01-05T18:09">posted: 2013-01-05 &nbsp; 18:09</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27438" title="permalink">#4</a></span>

<div class="content">I tried logging in as root and running"X -configure". It comes back with"Configuration failed". I looked at /var/log/Xorg.0.log and near the bottom, just before the Configuration failed message, is this message,<br>
"Number of created screens does not match number of detected devices."<br>
<br>
I noticed from the Xorg.0.log that it seems to be trying a huge number of display drivers. Maybe it is getting confused as to which is the right one. I have an ATI Radeon card. Maybe I should remove all drivers except the Radeon one. I'm new to this distro and I'm not sure how to do that.</div>
</div>
</div>

</div>
</div>
<div id="p_27440" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27440">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">tuclogicguy</span>
</dt>
<dd class="profile-joined">Joined: 01 Jan 2013</dd>
</dl>
<div class="postbody">
<div id="post_content27440">

<time datetime="2013-01-05T19:20">posted: 2013-01-05 &nbsp; 19:20</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27440" title="permalink">#5</a></span>

<div class="content">I think I am getting to the bottom of why slim won't display on initial boot. If I login and check /var/log/Xorg.0.log, before I issue startx, I see that the boot process tried to start X and failed. That is why slim doesn't come up. Here is the last portion of Xorg.0.log:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>[    17.106] (EE) RADEON(0): [dri] RADEONDRIGetVersion failed because of a version mismatch.
[dri] This chipset requires a kernel module version of 1.17.0,
[dri] but the kernel reports a version of 2.17.0.[dri] Make sure your module is loaded prior to starting X, and
[dri] that this driver was built with support for KMS.
[dri] Aborting.
[    17.107] (II) UnloadModule:"radeon"
[    17.107] (II) UnloadSubModule:"int10"
[    17.107] (II) Unloading int10
[    17.107] (II) UnloadSubModule:"vgahw"
[    17.107] (II) Unloading vgahw
[    17.107] (EE) Screen(s) found, but none have a usable configuration.
[    17.107]
Fatal server error:
[    17.107] no screens found
[    17.107]
Please consult the The X.Org Foundation support
         at http://wiki.x.org
 for help.
[    17.107] Please also check the log file at"/var/log/Xorg.0.log" for additional information.
[    17.107]
[    17.213] Server terminated with error (1). Closing log file.
~  </code></pre></div>
What is strange is that once I am logged in and then enter startx, X starts up OK and the icewm desktop comes up and runs normally. So, something must be different about the system environment before and after I login that allows X to work after I'm logged in.</div>
</div>
</div>

</div>
</div>
<div id="p_27442" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27442">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">tuclogicguy</span>
</dt>
<dd class="profile-joined">Joined: 01 Jan 2013</dd>
</dl>
 <div class="postbody">
<div id="post_content27442">

<time datetime="2013-01-05T20:43">posted: 2013-01-05 &nbsp; 20:43</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27442" title="permalink">#6</a></span>

<div class="content">I tried doing a dist-upgrade. (Wow! tons of stuff got updated.) slim still doesn't start on initial boot. Same error trying to load the Radeon driver:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>[    17.057] (EE) RADEON(0): [dri] RADEONDRIGetVersion failed because of a version mismatch.
[dri] This chipset requires a kernel module version of 1.17.0,
[dri] but the kernel reports a version of 2.17.0.[dri] Make sure your module is loaded prior to starting X, and
[dri] that this driver was built with support for KMS.</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_27443" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27443">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,956</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content27443">

<time datetime="2013-01-05T21:08">posted: 2013-01-05 &nbsp; 21:08</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27443" title="permalink">#7</a></span>

<div class="content">It is because you are running an up to date linux on an old box. Now I'm not sure how to fix it except to try installing non-free radeon drivers via smxi/sgfxi (I'm not sure that is even possible) or using a different login manager such as lightdm, wdm</div>
</div>
</div>

</div>
</div>
<div id="p_27454" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27454">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">tuclogicguy</span>
</dt>
<dd class="profile-joined">Joined: 01 Jan 2013</dd>
</dl>
<div class="postbody">
<div id="post_content27454">

<time datetime="2013-01-06T01:33">posted: 2013-01-06 &nbsp; 01:33</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27454" title="permalink">#8</a></span>

<div class="content">It's strange that the radeon drivers work when I login in from console mode and enter startx, but not when slim is starting.<br>
<br>
slim works with Arch Linux on this same box.</div>
</div>
</div>

</div>
</div>
<div id="p_27458" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27458">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content27458">

<time datetime="2013-01-06T03:38">posted: 2013-01-06 &nbsp; 03:38</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27458" title="permalink">#9</a></span>

<div class="content">even though X -confiure gives a number of screens error, there should be a resulting xorg.conf that you you can copy to etc/ X11/ it should work, but if it does not you can edit it to work.</div>
</div>
</div>

</div>
</div>
<div id="p_27469" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile27469">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">tuclogicguy</span>
</dt>
<dd class="profile-joined">Joined: 01 Jan 2013</dd>
</dl>
<div class="postbody">
<div id="post_content27469">

<time datetime="2013-01-07T14:42">posted: 2013-01-07 &nbsp; 14:42</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27469" title="permalink">#10</a></span>

<div class="content">I tried trimming down the xorg.conf that X -configure creates, deleting the extra screens and drivers other than radeon. Moved it to etc/X11. No difference. X still fails to start on the first attempt. Since, X fails to start on the first attempt, but always starts when I enter startx after logging in, I decided to just change the initial runlevel to 3, instead of 5. So, now antiX stays in console mode to the login prompt. Then I discovered something strange. I login and type startx and X fails to start. I type startx again and it always works on the second attempt. It happens every time. X fails to start on the first attempt but starts on the second attempt. I don't change anything in between, just type startx twice. It is using the same etc/X11/xorg.conf each time. I also get essentially the same results with no xorg.conf file; it just tries a few other drivers before it settles on radeon. (I attached the two log files for comparison, in case someone want to look at them for possible ideas of a solution.)</div>
</div>
</div>

</div>
</div>
<div id="p_27707" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile27707">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 39</span></div>

</div>
</div>
<section class="desktop-hide">

<a href="#" class="username">frogprince</a> </section>
</dt>
<dd class="profile-joined">Joined: 08 Nov 2012</dd>
</dl>
<div class="postbody">
<div id="post_content27707">

<time datetime="2013-02-02T19:20">posted: 2013-02-02 &nbsp; 19:20</time>
<span class="permalink"><a href="./graphical-login-screen-t4097.html#p27707" title="permalink">#11</a></span>

<div class="content">tuclogicguy: I had this same and other problems, and fixed all of them by replacing my Radeon card with an nVidia. When I did, slim started to load at boot, synaptic showed up in the menu, smix ran successfully, etc.etc.etc. I don't know why Antix doesn't like Radeon, but see:<br>
<br>
viewtopic.php?f=16&amp;t=4008<br>
<br>
Good luck!</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
11 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
