<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>[SOLVED] HD-Install: Error 2: Bad file or directory type - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-m7-2-vet-vendosje-f19/index.html"><span>antiX-M7.2 VETÃ‹VENDOSJE!</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html">[SOLVED] HD-Install: Error 2: Bad file or directory type</a></div>
<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_6083" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile6083">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 8</span></div>

</div>
</div>
<span class="username">Dr.U</span>
</dt>
<dd class="profile-joined">Joined: 15 Aug 2008</dd>
</dl>
<div class="postbody">
<div id="post_content6083">
<time datetime="2008-08-20T20:40">posted: 2008-08-20 &nbsp; 20:40</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6083" title="permalink">#1</a></span>

<div class="content">I've tried installing antiX-M7.2 twice, checked, re-checked and checked again that my existing grub entry for antiX is correct and I still get the same error message when I press enter after selecting antiX in my grub screen:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root (hd1,6)
   Filesystem type is ext2fs, partition type 0x83
kernel /boot/vmlinux root=/dev/sdb7 nomce nosplash vga=775

Error 2: Bad file or directory type</code></pre></div>
Does anyone have an idea about what the problem is <span class="emoticon"> __{{emoticon}}__ </span> I'm stumped. I've tried using /boot/vmlinuz-2.6.22-1-mepis-smp as the entry in grub; I've prefixed the /boot/vmlinuz... with (hd1,6); I've even tried removing nomce and adding the line <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>initrd /boot/initrd.img</code></pre></div> to the grub entry -- all with the same error <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
Any help would be tremendously appreciated <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
Thanks in advance,<br>
-- Dr. U</div>
<div class="notice">
Last edited by <b>Dr.U</b> on 22 Aug 2008, 08:50, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_6084" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile6084">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content6084">

<time datetime="2008-08-20T20:56">posted: 2008-08-20 &nbsp; 20:56</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6084" title="permalink">#2</a></span>

<div class="content">Try changing root=/dev/sdb7 to root=/dev/hdb7 <br>
<br>
Are you using antiX's grub or from another distro?</div>
</div>
</div>

</div>
</div>
<div id="p_6097" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile6097">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 8</span></div>

</div>
</div>
<span class="username">Dr.U</span>
</dt>
<dd class="profile-joined">Joined: 15 Aug 2008</dd>
</dl>
<div class="postbody">
<div id="post_content6097">

<time datetime="2008-08-21T06:36">posted: 2008-08-21 &nbsp; 06:36</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6097" title="permalink">#3</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>Try changing root=/dev/sdb7 to root=/dev/hdb7 <br>
<br>
Are you using antiX's grub or from another distro?</div></blockquote>
I already have tried changing <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root=/dev/sdb7 to root=/dev/hdb7</code></pre></div> but the result is exactly the same (sorry for not mentioning that).<br>
<br>
The grub that I am using is from Arch-Linux (grub version 0.97). I noticed that the menu.lst file in the antiX root/boot/grub directory says to use <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root=/dev/sdb7</code></pre></div>
Any other ideas? Maybe I need to try burning a new CD from the ISO file (whose md5sum is OK)...<br>
<br>
Thanks for the reply,<br>
-- Dr. U</div>
</div>
</div>

</div>
</div>
<div id="p_6100" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile6100">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 8</span></div>

</div>
</div>
<span class="username">Dr.U</span>
</dt>
<dd class="profile-joined">Joined: 15 Aug 2008</dd>
</dl>
<div class="postbody">
<div id="post_content6100">

<time datetime="2008-08-21T09:37">posted: 2008-08-21 &nbsp; 09:37</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6100" title="permalink">#4</a></span>

<div class="content">Well, I've found the problem: the new e2fsprogs creates 256-byte inodes which the legacy grub that I use cannot read/recognize. I must go to work now, but will try to make the appropriate correction (as described here:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.linuxplanet.com/linuxplanet/tutorials/6480/1/"<br>linktext was:"http://www.linuxplanet.com/linuxplanet/ ... ls/6480/1/"<br>====================================<br>
 when I return. I will then let you know how it worked.<br>
<br>
Regards,<br>
-- Dr. U</div>
</div>
</div>

</div>
</div>
<div id="p_6112" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile6112">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 8</span></div>

</div>
</div>
<span class="username">Dr.U</span>
</dt>
<dd class="profile-joined">Joined: 15 Aug 2008</dd>
</dl>
<div class="postbody">
<div id="post_content6112">

<time datetime="2008-08-21T15:48">posted: 2008-08-21 &nbsp; 15:48</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6112" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>Dr.U wrote:</cite>Well, I've found the problem: the new e2fsprogs creates 256-byte inodes which the legacy grub that I use cannot read/recognize. I must go to work now, but will try to make the appropriate correction (as described here:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.linuxplanet.com/linuxplanet/tutorials/6480/1/"<br>linktext was:"http://www.linuxplanet.com/linuxplanet/ ... ls/6480/1/"<br>====================================<br>
 when I return. I will then let you know how it worked.</div></blockquote>
Well, the short answer is: it didn't work <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
What I did was to run <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>mkfs.ext3 -I 128 /dev/sdb7</code></pre></div> (as described on page 2 of the referenced article to create 128-byte inodes, which legacy grub can use). This works just fine. Unfortunately, the antiX install script reformats the partition and runs the command <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>mkfs.ext3 /dev/sdb7</code></pre></div> (that is the same command as above but without the -I 128 option) which, using the e2fsprogs program supplied, creates 256-byte inodes (which legacy grub cannot read). <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
Can I make a backup copy of my current legacy grub menu.lst file, install the (new) grub provided with antiX in the master boot area, then replace the new menu.lst file with the backup (adding, of course, the antiX entry to it) and still access my current partitions, as well as boot antiX when I wish to run it <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
This is the only solution I can imagine and it seems to be a variation on what is suggested in the third page of the referenced article.<br>
<br>
Thanks in advance,<br>
-- Dr. U</div>
</div>
</div>

</div>
</div>
<div id="p_6113" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile6113">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content6113">

<time datetime="2008-08-21T15:56">posted: 2008-08-21 &nbsp; 15:56</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6113" title="permalink">#6</a></span>

<div class="content">Yes try that. antiX might see your entries automatically and add them to grub menu.</div>
</div>
</div>

</div>
</div>
<div id="p_6115" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile6115">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 73</span></div>

</div>
</div>
<span class="username">h2</span>
</dt>
<dd class="profile-joined">Joined: 13 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content6115">

<time datetime="2008-08-21T17:23">posted: 2008-08-21 &nbsp; 17:23</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6115" title="permalink">#7</a></span>

<div class="content">You're much better off installing the new non legacy grub onto mbr and letting it handle all your systems. Since all distros in the future will run the new one, and since the the new one starts old style fine, that's the most logical path.</div>
</div>
</div>

</div>
</div>
<div id="p_6125" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile6125">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 8</span></div>

</div>
</div>
<span class="username">Dr.U</span>
</dt>
<dd class="profile-joined">Joined: 15 Aug 2008</dd>
</dl>
<div class="postbody">
<div id="post_content6125">

<time datetime="2008-08-22T05:11">posted: 2008-08-22 &nbsp; 05:11</time>
<span class="permalink"><a href="./solved-hd-install-error-2-bad-file-or-directory-ty-t996.html#p6125" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>Yes try that. antiX might see your entries automatically and add them to grub menu.</div></blockquote>Thanks <strong>anticapitalista</strong> and also <strong>h2</strong>! I installed the new grub in my MBR and copied my backed-up menu.lst into /boot/grub and now everything is perfect <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
Thanks for the nice work on this distro: I like lightweight WMs and quick booting OSs!<br>
<br>
Best regards,<br>
-- Dr. U</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
