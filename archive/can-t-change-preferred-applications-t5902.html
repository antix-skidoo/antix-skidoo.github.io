<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Can't Change Preferred Applications - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-15-killah-p-f53/index.html"><span>antiX-15 Killah P</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./can-t-change-preferred-applications-t5902.html">Can't Change Preferred Applications</a></div>
<div class="pagination">
7 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_42868" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42868">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">paius1</span>
</dt>
<dd class="profile-joined">Joined: 28 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content42868">
<time datetime="2015-08-30T08:46">posted: 2015-08-30 &nbsp; 08:46</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42868" title="permalink">#1</a></span>

<div class="content">Using Antix Control Center, I am trying to Set Default Application for"Web Browser" and"Video Player"<br>
I select the firefox.desktop and vlc.desktop from /usr/share/applications.<br>
When I check again both listings show"(None)"</div>
</div>
</div>

</div>
</div>
<div id="p_42881" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile42881">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content42881">

<time datetime="2015-08-30T16:19">posted: 2015-08-30 &nbsp; 16:19</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42881" title="permalink">#2</a></span>

<div class="content">You found a bug!<br>
For this task, controlCentre launches the bash script"desktop-defaults-set" which apparently requires root permission to function correctly.<br>
<br>
Changes will be successfully applied if you launch the script via gExec (Alt+F2) or from a roxterm commandline<br>
<br>
gksu /usr/local/bin/desktop-defaults-set<br>
<br>
note: After applying changes, if you relauch default-defaults-set to verify the changes have been applied<br>
and unchanged selections are displayed... exit (Cancel) and wait a few seconds, then relaunch.<br>
<br>
============<br>
<br>
To fix the controlCenter launcher:<br>
gksu geany /usr/local/bin/antixcc.sh<br>
edit @line212 &lt;action&gt;desktop-defaults-set &amp;&lt;/action&gt;<br>
change to<br>
&lt;action&gt;<strong>gksu</strong> desktop-defaults-set &amp;&lt;/action&gt;</div>
</div>
</div>

</div>
</div>
<div id="p_42882" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42882">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content42882">

<time datetime="2015-08-30T19:38">posted: 2015-08-30 &nbsp; 19:38</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42882" title="permalink">#3</a></span>

<div class="content">well, there is a bug somewhere, however, desktop-defaults is designed to work on the user level. The app is working perfectly fine for me (I set Web Browser to google-chrome and Video Player to vlc without any issue or modifications to scripts).<br>
<br>
So something else is likely going on with the OP's setup.</div>
</div>
</div>

</div>
</div>
<div id="p_42883" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile42883">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content42883">

<time datetime="2015-08-30T20:32">posted: 2015-08-30 &nbsp; 20:32</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42883" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite>well, there is a bug somewhere, however, desktop-defaults is designed to work on the user level. The app is working perfectly fine for me (I set Web Browser to google-chrome and Video Player to vlc without any issue or modifications to scripts).<br>
<br>
So something else is likely going on with the OP's setup.</div></blockquote>
Right. Likely the directory under .local does not exist. Best off to run from terminal to see what errors are displayed when running as regular user. Then post back whatever the terminal output is.</div>
</div>
</div>

</div>
</div>
<div id="p_42885" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42885">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content42885">

<time datetime="2015-08-30T21:30">posted: 2015-08-30 &nbsp; 21:30</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42885" title="permalink">#5</a></span>

<div class="content">My report was specific to the bolded script, below:<br>
/usr/local/bin/desktop-defaults-run<br>
/usr/local/bin/<strong>desktop-defaults-set</strong><br>
/usr/share/desktop-defaults<br>
<br>
If nothing else, this fn atop the script is wierd. The script doesn't source any other scripts... and I've never noticed an antix script which sets $CANOK env var.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>function checkcancel {
    CANOK="$?";
    if ["$CANOK" !="0" ]; then
    exit;
    fi
}</code></pre></div>
<blockquote class="uncited"><div>run from terminal to see what errors are displayed when running as regular user. Then post back whatever the terminal output is.</div></blockquote>
Hello?<br>
No errors when desktop-defaults-set is run directly (launched via gExec or"run from terminal as regular user").<br>
Error occurs when launched via controlCentre.<br>
FWIW, if antixcc is launched from terminal, then the"Preferred Applications" button is clicked... no error is displayed to terminal.</div>
<div class="notice">
Last edited by <b>skidoo</b> on 01 Sep 2015, 16:10, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_42893" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile42893">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">paius1</span>
</dt>
<dd class="profile-joined">Joined: 28 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content42893">

<time datetime="2015-09-01T14:10">posted: 2015-09-01 &nbsp; 14:10</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42893" title="permalink">#6</a></span>

<div class="content">gksu /usr/local/bin/desktop-defaults-set Solved the problem thank you</div>
</div>
</div>

</div>
</div>
<div id="p_42899" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile42899">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content42899">

<time datetime="2015-09-01T18:10">posted: 2015-09-01 &nbsp; 18:10</time>
<span class="permalink"><a href="./can-t-change-preferred-applications-t5902.html#p42899" title="permalink">#7</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>
<blockquote class="uncited"><div>run from terminal to see what errors are displayed when running as regular user. Then post back whatever the terminal output is.</div></blockquote>
Hello?<br>
No errors when desktop-defaults-set is run directly (launched via gExec or"run from terminal as regular user").<br>
Error occurs when launched via controlCentre.<br>
FWIW, if antixcc is launched from terminal, then the"Preferred Applications" button is clicked... no error is displayed to terminal.</div></blockquote>
No errors as in it is working if run directly? Or no errors and still has the problem when run directly? <br>
<br>
Did anything show up under ~/.local/share/desktop-defaults or ~/.local/share/applications to reflect the choices as regular user?</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
7 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
