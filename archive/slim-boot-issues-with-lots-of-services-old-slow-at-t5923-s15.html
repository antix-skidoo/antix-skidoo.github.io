<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>slim, boot issues with lots of services, old slow atom pc - Page 2 - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-15-killah-p-f53/index.html"><span>antiX-15 Killah P</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html">slim, boot issues with lots of services, old slow atom pc</a></div>
<div class="pagination">
24 posts
<ul>
<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923.html" role="button">1</a></li>
<li class="active"><span>2</span></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_44098" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44098">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<span class="username">eugen-b</span>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content44098">
<time datetime="2015-12-02T19:26">posted: 2015-12-02 &nbsp; 19:26</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p44098" title="permalink">#16</a></span>

<div class="content">Would it work better from a live USB, different boot process, just figuring?</div>
</div>
</div>

</div>
</div>
<div id="p_44104" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44104">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,062</span></div>

</div>
</div>
<span class="username">Dave</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2010</dd>
</dl>
<div class="postbody">
<div id="post_content44104">

<time datetime="2015-12-03T07:47">posted: 2015-12-03 &nbsp; 07:47</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p44104" title="permalink">#17</a></span>

<div class="content">If you make a script that contains.<br>
Startx /usr/local/bin/desktop-session space-icewm <br>
<br>
Make it executable, disable slim, reboot, login to cli and run the script does the desktop load? <br>
<br>
You could probably try that as well without the script as well but in a script would make it easier to try in bashrc or make as a service. <br>
<br>
I am not quite certain why Samba and apache2 make such issues as every machine I have has Samba installed and at least half apache2.</div>
</div>
</div>

</div>
</div>
<div id="p_44107" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44107">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44107">

<time datetime="2015-12-03T14:49">posted: 2015-12-03 &nbsp; 14:49</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p44107" title="permalink">#18</a></span>

<div class="content"><blockquote><div><cite>Dave wrote:</cite>If you make a script that contains.<br>
Startx /usr/local/bin/desktop-session space-icewm <br>
<br>
Make it executable, disable slim, reboot, login to cli and run the script does the desktop load? <br>
<br>
You could probably try that as well without the script as well but in a script would make it easier to try in bashrc or make as a service. <br>
<br>
I am not quite certain why Samba and apache2 make such issues as every machine I have has Samba installed and at least half apache2.</div></blockquote>
thanks for the advice. I really don't think its samba and apache2<em> per se</em> causing the issue, but rather some kind of timing issue in the boot chain.<br>
<br>
the problem is that for some reason on my eeepc, runlevel 5 starts before services in RL 3 and RL4 are finished loading. What I did to fix my issue (right or wrong) is to add a dbus dependency to / etc/inti.d/slim . This worked so well that I went ahead and added a dbus dependency to / etc/init.d/acpi-support as well because that script requires dbus and it was launching before dbus was ready (and spitting out a bunch of error messages).<br>
<br>
all of a sudden, my fan seems better and my"special" eeepc keyboard keys are working as well. <br>
<br>
autologin now working, using 125 MB of ram with all my services running and the 32 bit default kernel.<br>
<br>
**edit** changed title of thread so that people might find it easier later</div>
</div>
</div>

</div>
</div>
<div id="p_44108" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44108">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<span class="username">eugen-b</span>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content44108">

<time datetime="2015-12-03T17:15">posted: 2015-12-03 &nbsp; 17:15</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p44108" title="permalink">#19</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite>What I did to fix my issue (right or wrong) is to add a dbus dependency to / etc/inti.d/slim . This worked so well that I went ahead and added a dbus dependency to / etc/init.d/acpi-support as well because that script requires dbus and it was launching before dbus was ready (and spitting out a bunch of error messages).<br>
<br>
all of a sudden, my fan seems better and my"special" eeepc keyboard keys are working as well.
</div></blockquote>
Oh, that's very interesting! How do you add a dbus dependency (or any other) to init.d/acpi-support (or any other init.d)? Searching leads to many Ubuntu stuff like here 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://wiki.ubuntu.com/InitScriptStatusActions"<br>linktext was:"https://wiki.ubuntu.com/InitScriptStatusActions"<br>====================================<br>
 , but it is diferent than on Debian, isn't it?</div>
</div>
</div>

</div>
</div>
<div id="p_44109" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44109">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44109">

<time datetime="2015-12-03T17:56">posted: 2015-12-03 &nbsp; 17:56</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p44109" title="permalink">#20</a></span>

<div class="content"><blockquote><div><cite>eugen-b wrote:</cite><blockquote><div><cite>dolphin_oracle wrote:</cite>What I did to fix my issue (right or wrong) is to add a dbus dependency to / etc/inti.d/slim . This worked so well that I went ahead and added a dbus dependency to / etc/init.d/acpi-support as well because that script requires dbus and it was launching before dbus was ready (and spitting out a bunch of error messages).<br>
<br>
all of a sudden, my fan seems better and my"special" eeepc keyboard keys are working as well.
</div></blockquote>
Oh, that's very interesting! How do you add a dbus dependency (or any other) to init.d/acpi-support (or any other init.d)? Searching leads to many Ubuntu stuff like here 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://wiki.ubuntu.com/InitScriptStatusActions"<br>linktext was:"https://wiki.ubuntu.com/InitScriptStatusActions"<br>====================================<br>
 , but it is diferent than on Debian, isn't it?</div></blockquote>
well, what I did was edit the block at the top of / etc/init.d/acpi-support to add dbus as a required-start<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>
### BEGIN INIT INFO
# Provides:          acpi-support
# Required-Start:    $local_fs $remote_fs $syslog dbus
# Required-Stop:     $local_fs $remote_fs $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      1
# Short-Description: Start some power management scripts
### END INIT INFO</code></pre></div>
and then run as root<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>update-rc.d acpi-support defaults
</code></pre></div>
I did the same for slim.<br>
<br>
I don't really *know* if my fans are better (the seem to be) but the keyboard keys for brightness and wireless enable/disable now work. (note I also have eeepc-acpi-scripts installed, which isn't by default)</div>
</div>
</div>

</div>
</div>
<div id="p_45715" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile45715">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<span> <a href="#" class="username">dolphin_oracle</a>  </span>
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content45715">

<time datetime="2016-03-07T16:08">posted: 2016-03-07 &nbsp; 16:08</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p45715" title="permalink">#21</a></span>

<div class="content">getting back to this issue, I found this bug report in the debian system where the report had the same solution I had (ensuring dbus starts before slim).<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=705883"<br>linktext was:"https://bugs.debian.org/cgi-bin/bugrepo ... bug=705883"<br>====================================<br>
<br>
<br>
the file in question is / etc/init.d/slim<br>
<br>
<br>
In fact, the jessie version of slim does just this:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#!/bin/sh

# Largely adapted from xdm's init script:
# Copyright 1998-2002, 2004, 2005 Branden Robinson &lt;branden@debian.org&gt;.
# Copyright 2006 Eugene Konev &lt;ejka@imfi.kspu.ru&gt;

### BEGIN INIT INFO
# Provides:          slim
# Required-Start:    dbus $local_fs $remote_fs
# Required-Stop:     $local_fs $remote_fs
# Should-Start:      xfs $named slapd
# Should-Stop:       xfs $named slapd
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Start daemon at boot time
# Description:         Debian init script for the SLiM.
### END INIT INFO</code></pre></div>
so we really should look at this for antiX-15/16. the version of slim in antiX 15 is newer than the jessie version, but the changes have not been made to the init.d script.</div>
</div>
</div>

</div>
</div>
<div id="p_45717" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile45717">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content45717">

<time datetime="2016-03-07T20:53">posted: 2016-03-07 &nbsp; 20:53</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p45717" title="permalink">#22</a></span>

<div class="content">Fixed deb will be uploaded soon. Thanks,</div>
</div>
</div>

</div>
</div>
<div id="p_45726" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile45726">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content45726">

<time datetime="2016-03-08T15:49">posted: 2016-03-08 &nbsp; 15:49</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p45726" title="permalink">#23</a></span>

<div class="content">Uploaded to jessie dev (just to see if it is actually ok)<br>
<br>
Could someone add dev to the antix.list jessie repo and install latest slim from there.<br>
<br>
Lat me know how it went.<br>
<br>
It worked without issue on my box.</div>
</div>
</div>

</div>
</div>
<div id="p_45727" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile45727">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content45727">

<time datetime="2016-03-08T22:04">posted: 2016-03-08 &nbsp; 22:04</time>
<span class="permalink"><a href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923-s15.html#p45727" title="permalink">#24</a></span>

<div class="content">seems to be fine here (did the upgrade) I've been running my netbook this way for a long time.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
24 posts
<ul>
<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./slim-boot-issues-with-lots-of-services-old-slow-at-t5923.html" role="button">1</a></li>
<li class="active"><span>2</span></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
