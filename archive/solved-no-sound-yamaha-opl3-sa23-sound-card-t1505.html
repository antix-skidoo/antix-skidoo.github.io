<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>[SOLVED] No sound - Yamaha OPL3 SA23 sound card - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-m8-intifada-f28/index.html"><span>antiX-M8 Intifada!</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html">[SOLVED] No sound - Yamaha OPL3 SA23 sound card</a></div>
<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_9556" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile9556">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 39</span></div>

</div>
</div>
<span class="username">drghughes</span>
</dt>
<dd class="profile-joined">Joined: 08 Mar 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9556">
<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9556/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-08T20:10">posted: 2009-03-08 &nbsp; 20:10</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9556" title="permalink">#1</a></span>

<div class="content">I installed AntiX-M8 on a Toshiba Tecra 8000 laptop a couple of days ago and everything seems to be fine except that the sound doesn't work. I had the sound working"out of the box" with Mepis 6.5 and it works with AntiX 7 installed live so I guess that the module required for the Yamaha OPL3 SA23 sound card hasn't been installed this time around.<br>
<br>
I've tried following the instructions for this card on the 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.alsa-project.org/main/index.php/Matrix:Module-opl3-sa2"<br>linktext was:"ALSA Project"<br>====================================<br>
 web site but so far haven't been able to get that to work. The"driver" step and the"lib" step seemed to complete okay but the"utils" step generated a whole load of errors and the snd-opl3-sa2 module (and possibly the others) isn't created.<br>
<br>
Does anyone have any suggestions on how to get this to work? In particular, are there any AntiX specific issues that I should be aware of (I have a little Linux experience and no experience of stuff like this). Also, does AntiX use devfs? This gets a mention in the"drivers" step.<br>
<br>
I'm going to reinstall AntiX in a couple of days and then try again. I learned a bit as I went along and so it's possible that I broke something the first time around. I also now know that I need the xmlto utility installed so I'll make sure that that is there before starting.<br>
<br>
Thanks</div>
<div class="notice">
Last edited by <b>drghughes</b> on 10 Mar 2009, 18:01, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_9560" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile9560">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 903</span></div>

</div>
</div>
<span class="username">plvera</span>
</dt>
<dd class="profile-joined">Joined: 11 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content9560">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9560/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-08T21:42">posted: 2009-03-08 &nbsp; 21:42</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9560" title="permalink">#2</a></span>

<div class="content">This is rather basic advice and it's likely that you've already tried this, but did you try running alsa mixer to make sure that the volume is turned all the way up? also, in ice-wm, there's a volume icon, make sure that's also turned up.<br>
<br>
I hope that you can get the driver issue resolved.<br>
<br>
Pedro</div>
</div>
</div>

</div>
</div>
<div id="p_9562" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile9562">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 39</span></div>

</div>
</div>
<span class="username">drghughes</span>
</dt>
<dd class="profile-joined">Joined: 08 Mar 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9562">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9562/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-09T00:30">posted: 2009-03-09 &nbsp; 00:30</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9562" title="permalink">#3</a></span>

<div class="content">Hi Pedro!<br>
<br>
Unfortunately it's not that easy. If I try and play a sound file I get a message that there is no sound card installed. Running alsaconf doesn't find the sound card, presumably because the appropriate driver isn't there.<br>
<br>
I'm pretty sure that it's just that the appropriate driver hasn't been included in the kernel. When Mepis 7 was being prepared I tried one of the betas and found that the sound didn't work. I emailed the Mepis team and in the next version the sound worked. Unfortunately I didn't have time to test any of the betas for Mepis 8/AntiX-M8, and now I'm paying the price <span class="emoticon"> __{{emoticon}}__ </span>.</div>
</div>
</div>

</div>
</div>
<div id="p_9581" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile9581">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<dd class="detail-title-numposts">Posts: 5,955</dd>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content9581">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9581/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-09T19:25">posted: 2009-03-09 &nbsp; 19:25</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9581" title="permalink">#4</a></span>

<div class="content">These drivers included in the kernel:<br>
<br>
snd-opl3-lib.ko<br>
snd-opl3-synth.ko<br>
<br>
in /lib/modules/2.6.27-1-mepis-smp/kernel/sound/drivers/opl3<br>
<br>
Maybe a simple <br>
#modprobe snd-opl3-lib or #modprobe snd-opl3-synth or both<br>
<br>
followed by alsaconf will work?</div>
</div>
</div>

</div>
</div>
<div id="p_9593" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile9593">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 39</span></div>

</div>
</div>
<span class="username">drghughes</span>
</dt>
<dd class="profile-joined">Joined: 08 Mar 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9593">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9593/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-10T12:28">posted: 2009-03-10 &nbsp; 12:28</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9593" title="permalink">#5</a></span>

<div class="content">Hi anticapitalista!<br>
<br>
Thanks for the info about those 2 modules. Unfortunately they're not enough.<br>
<br>
I just ran Antix-M7 from the live CD where the sound works and did an lsmod | grep snd which gave:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>snd_opl3sa2            16876  1 
snd_opl3_lib            8960  1 snd_opl3sa2
snd_hwdep               7556  1 snd_opl3_lib
snd_cs4231_lib         20352  1 snd_opl3sa2
snd_mpu401_uart         7296  1 snd_opl3sa2
snd_pcm_oss            34976  0 
snd_pcm                62084  2 snd_cs4231_lib,snd_pcm_oss
snd_page_alloc          8328  2 snd_cs4231_lib,snd_pcm
snd_mixer_oss          14592  2 snd_pcm_oss
snd_seq_dummy           3844  0 
snd_seq_oss            28800  0 
snd_seq_midi            6944  0 
snd_rawmidi            18208  2 snd_mpu401_uart,snd_seq_midi
snd_seq_midi_event      6656  2 snd_seq_oss,snd_seq_midi
snd_seq                42576  6 snd_seq_dummy,snd_seq_oss,snd_seq_midi,snd_seq_midi_event
snd_timer              17668  4 snd_opl3_lib,snd_cs4231_lib,snd_pcm,snd_seq
snd_seq_device          7308  6 snd_opl3_lib,snd_seq_dummy,snd_seq_oss,snd_seq_midi,snd_rawmidi,snd_seq
snd                    41316  14 snd_opl3sa2,snd_opl3_lib,snd_hwdep,snd_cs4231_lib,snd_mpu401_uart,snd_pcm_oss,snd_pcm,snd_mixer_oss,snd_seq_dummy,snd_seq_oss,snd_rawmidi,snd_seq,snd_timer,snd_seq_device
soundcore               6880  2 snd
</code></pre></div>
So at least I know what I'm aiming for. There's an interesting post on the 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://mepislovers.org/forums/showthread.php?t=19471"<br>linktext was:"Mepis Lovers forum"<br>====================================<br>
 where someone is having pretty much the same issue. The suggestion is to use module-assistant, so I'll give that a go.</div>
</div>
</div>

</div>
</div>
<div id="p_9594" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile9594">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 39</span></div>

</div>
</div>
<span class="username">drghughes</span>
</dt>
<dd class="profile-joined">Joined: 08 Mar 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9594">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9594/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-10T13:41">posted: 2009-03-10 &nbsp; 13:41</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9594" title="permalink">#6</a></span>

<div class="content">No luck with the module-assistant approach. It stopped with some unspecific (to me) errors at about the same stage (I think) as happened when I followed the ALSA Project instructions. I've posted the last bit of the log file below.<br>
<br>
Any ideas on how to proceed?<br>
<br>
I've also posted this over on the MEPIS Lovers forum.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/usr/bin/make -C /lib/modules/2.6.27-1-mepis-smp/build SUBDIRS=/usr/src/modules/alsa-driver  CPP="gcc-4.1 -E" CC="gcc-4.1" modules
make[3]: Entering directory `/usr/src/linux-headers-2.6.27-1-mepis-smp'
  CC [M]  /usr/src/modules/alsa-driver/acore/hwdep.o
  CC [M]  /usr/src/modules/alsa-driver/acore/memory_wrapper.o
  CC [M]  /usr/src/modules/alsa-driver/acore/memalloc.o
  CC [M]  /usr/src/modules/alsa-driver/acore/sgbuf.o
  CC [M]  /usr/src/modules/alsa-driver/acore/pcm.o
  CC [M]  /usr/src/modules/alsa-driver/acore/pcm_native.o
  CC [M]  /usr/src/modules/alsa-driver/acore/pcm_lib.o
  CC [M]  /usr/src/modules/alsa-driver/acore/pcm_timer.o
  CC [M]  /usr/src/modules/alsa-driver/acore/pcm_misc.o
  CC [M]  /usr/src/modules/alsa-driver/acore/pcm_memory.o
  CC [M]  /usr/src/modules/alsa-driver/acore/rawmidi.o
  CC [M]  /usr/src/modules/alsa-driver/acore/timer.o
  CC [M]  /usr/src/modules/alsa-driver/acore/wrappers.o
  CC [M]  /usr/src/modules/alsa-driver/acore/misc_driver.o
  CC [M]  /usr/src/modules/alsa-driver/acore/sound.o
  CC [M]  /usr/src/modules/alsa-driver/acore/init.o
  CC [M]  /usr/src/modules/alsa-driver/acore/memory.o
  CC [M]  /usr/src/modules/alsa-driver/acore/info.o
/usr/src/modules/alsa-driver/acore/info.c: In function ‘resize_info_buffer’:
/usr/src/modules/alsa-driver/acore/info.c:90: error: implicit declaration of function ‘PAGE_ALIGN’
make[5]: *** [/usr/src/modules/alsa-driver/acore/info.o] Error 1
make[4]: *** [/usr/src/modules/alsa-driver/acore] Error 2
make[3]: *** [_module_/usr/src/modules/alsa-driver] Error 2
make[3]: Leaving directory `/usr/src/linux-headers-2.6.27-1-mepis-smp'
make[2]: *** [compile] Error 2
make[2]: Leaving directory `/usr/src/modules/alsa-driver'
make[1]: *** [build-stamp] Error 2
make[1]: Leaving directory `/usr/src/modules/alsa-driver'
make: *** [kdist_image] Error 2
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_9596" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile9596">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 13</span></div>

</div>
</div>
<span class="username">indubitableness</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9596">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9596/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-10T15:30">posted: 2009-03-10 &nbsp; 15:30</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9596" title="permalink">#7</a></span>

<div class="content">I just had a very similar problem with a very different sound card. Alsa-utils does not like to compile properly i've noticed, but it's okay 'cause i don't think any of the modules are actually created in that step. Here's what worked for me, although i can't guarantee it will work for you, and you may have already tried it.<br>
<br>
go back to your alsa-driver source package and do this<br>
<blockquote class="uncited"><div>
./configure --with-cards=all --with-sequencer=yes &amp;&amp; make &amp;&amp; make install<br>
<br>
or <br>
<br>
./configure --with-cards=all --with-sequencer=yes ; make ; make install
</div></blockquote>
Or however you choose to type it up. the important bit is the --with-cards=all and i'm not quite sure if the --with-sequencer part is necessary, but since it worked for me i recommend trying it that way first.<br>
<br>
then i made sure i reinstalled the alsa-lib package again (by compiling) for good measure (probably not necessary, still recommend it), and i did a simple aptitude install alsa-utils (since the utils package would not compile, i had the same xmlto dependency problem, just to discover there's an error during the configure process that still prevents a full build)<br>
<br>
Then i ran alsaconf. Since you seem to know which module you need to pick when you get into alsaconf you probably won't be confused when you see the big ass list of modules. pick the one you need and tell us if it works.<br>
<br>
Good Luck, and go watch the Watchmen</div>
</div>
</div>

</div>
</div>
<div id="p_9599" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile9599">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 39</span></div>

</div>
</div>
<span class="username">drghughes</span>
</dt>
<dd class="profile-joined">Joined: 08 Mar 2009</dd>
</dl>
<div class="postbody">
<div id="post_content9599">

<ul class="post-buttons">
<li class="dropdown-container">
<a href="javascript:void(0");" class="dropdown-trigger button button-icon-only"></a>
<div class="dropdown">
<div class="pointer">
<div class="pointer-inner"></div>
</div>
<ul class="dropdown-contents dropdown-nonscroll">
<li>
<a href="/groups/antix/app.php/post/9599/report" title="Report this post" class="button-icon-only"><span>Report this post</span></a>
</li>
</ul>
</div>
</li>
</ul>
<time datetime="2009-03-10T17:59">posted: 2009-03-10 &nbsp; 17:59</time>
<span class="permalink"><a href="./solved-no-sound-yamaha-opl3-sa23-sound-card-t1505.html#p9599" title="permalink">#8</a></span>

<div class="content">Hi indubitableness!<br>
<br>
Thanks for the suggestion. I've just been able to get things working using another method. I got a reply over on MEPIS Lovers that had a link to the 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://mepislovers.org/forums/showthread.php?p=168807#post168807"<br>linktext was:".deb files for alsa-drivers, alsa-base and linux-sound-base"<br>====================================<br>
.<br>
<br>
I've just installed all of these and the sound now works!<br>
<br>
I'll have to wait for Watchmen to come out on DVD as a disability means that getting to movies isn't possible for me. But I'll remember the recommendation <span class="emoticon"> __{{emoticon}}__ </span> .</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
