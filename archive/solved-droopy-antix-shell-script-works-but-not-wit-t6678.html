<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>[SOLVED]droopy - antiX shell script works BUT NOT with https - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-16-berta-caceres-f58/index.html"><span>antiX-16 Berta CÃ¡ceres</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html">[SOLVED]droopy - antiX shell script works BUT NOT with https</a></div>
<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_48933" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48933">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48933">
<time datetime="2016-11-04T18:43">posted: 2016-11-04 &nbsp; 18:43</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48933" title="permalink">#1</a></span>

<div class="content">All in subj ! The included shell script fails to launch a <em>secure droopy</em> instance where a <em>certificate.pem</em> file is properly defined and advertised in the <em>droopy.conf</em> <span class="emoticon"> __{{emoticon}}__ </span> <br>
There seem to be 2 errors reported, one of which about a missing env variable, and the script aborts without spawning a server console. Unfortunately I'm just a dummy who can't fix complex shell scripts, doesn't do python either, and I probably can't find my way to try and launch the pythonic <em>droopy</em> directly either. Did someone even test the setup with HTTPS ? Can they please attempt to fix it up ? Without https, the service's usefulness is severely impacted - limited to file exchanges on a private LAN, IMHO <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
...thank you ! <br>
-- <br>
Ninho</div>
<div class="notice">
Last edited by <b>Ninho</b> on 06 Nov 2016, 17:22, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_48934" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48934">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content48934">

<time datetime="2016-11-04T18:59">posted: 2016-11-04 &nbsp; 18:59</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48934" title="permalink">#2</a></span>

<div class="content">As mentioned It is a bug in the script. I will fix it in due course.<br>
<blockquote><div><cite>Ninho wrote:</cite>Did someone even test the setup with HTTPS ?</div></blockquote>Snarky comments are not well received and do not encourage a speedy response.</div>
</div>
</div>

</div>
</div>
<div id="p_48939" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48939">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48939">

<time datetime="2016-11-04T20:00">posted: 2016-11-04 &nbsp; 20:00</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48939" title="permalink">#3</a></span>

<div class="content"><blockquote><div><cite>SamK wrote:</cite>As mentioned It is a bug in the script. I will fix it in due course.</div></blockquote>
As mentioned... where ? My bad, I must've missed the <em>mention</em> - else I would not have opened a thread, obviously.
<blockquote class="uncited"><div><blockquote><div><cite>Ninho wrote:</cite>Did someone even test the setup with HTTPS ?</div></blockquote>Snarky comments are not well received and do not encourage a speedy response.</div></blockquote>
It was an honest question no offense or attack intended on anybody, I swear. Namely the perceived bug could've been attributable to the python program itself, and/or the shell script, and/or something wrong on my side. Glad to hear that it's not <em>just me</em>, that it's a known issue and one that is going to be fixed eventually. <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
I was going to enquire about an estimated date of arrival but I gonna keep my mouth shut in an attempt to avoid further misunderstanding...<span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
<em>Thank you</em> very much...</div>
</div>
</div>

</div>
</div>
<div id="p_48944" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48944">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48944">

<time datetime="2016-11-04T20:40">posted: 2016-11-04 &nbsp; 20:40</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48944" title="permalink">#4</a></span>


<div class="content">I had forgotten (no credits/copyright in the sh script, right?) that SamK maintains the wrapper script.<br>
Yesterday I drafted the following, but held off posting it.<br>
Posting it now to suggest that antiX could (should?) ship a patched-and-maintained inhouse version of droopy rather than the dated version present in debian repos.<br>
<br>
<br>
antiX (and debian repos) lack the latest version of droopy.<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://github.com/stackp/Droopy"<br>linktext was:"https://github.com/stackp/Droopy"<br>====================================<br>
<br>
Before proceeding Ninho, I suggest you replace the content of <span style="color: green"> /usr/local/bin/droopy</span> with the content found here:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://raw.githubusercontent.com/stackp/Droopy/master/droopy"<br>linktext was:"https://raw.githubusercontent.com/stack ... ter/droopy"<br>====================================<br>
<br>
<br>
FWIW, working from that copy retrieved from github, for use on <strong>my</strong> machines, I would perform further modifications:<br>
<br>
(security) @line 326<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>                if filename =="":
                    continue</code></pre></div>change to<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>                if filename =="":
                    continue
                if filename.lower() =="index.html" or filename.lower() =="index.htm" or filename.lower() =="index.php":
                    self.log_message("an attempted indexfile upload was blocked")
                    self.send_response(303)
                    self.send_header('Location', '/')
                    self.end_headers()
                    continue</code></pre></div>
(security) @line 611<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&lt;a href="http://stackp.online.fr/droopy-ip.php?port=%(port)d&amp;ssl=%(ssl")d"&gt; %(discover)s</code></pre></div>change to<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&lt;!-- Hi. I'm calling via plaintext http to letcha know I'm running a webserver. Come root my box. --&gt;</code></pre></div></div>
<div class="notice">
Last edited by <b>skidoo</b> on 05 Nov 2016, 17:20, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_48952" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48952">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content48952">

<time datetime="2016-11-05T07:26">posted: 2016-11-05 &nbsp; 07:26</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48952" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>Ninho wrote:</cite>...no offense or attack intended on anybody...</div></blockquote>Accepted. We can put it behind us and move on.<br>
<blockquote><div><cite>Ninho wrote:</cite>...I gonna keep my mouth shut in an attempt to avoid further misunderstanding...<span class="emoticon"> __{{emoticon}}__ </span></div></blockquote>No need to do that. Misunderstandings happen. The antiiX forum has a long-standing reputation for being friendly, polite and considerate of other members. The forum is actively and very well moderated, so keep posting.<br>
<br>
<br>
<blockquote><div><cite>skidoo wrote:</cite>...ship a patched-and-maintained inhouse version of droopy...</div></blockquote>When someone thinks an app needs a patch, the usual route is to offer the patch directly to the author of the app. In that way the author can decide whether or not it should be adopted and result in a new version being released. When dealing with ones own machines only, it is of course, completely at the owner's discretion to make whatever modifications are desired. The author of Droopy is Pierre Duquesne with a published address of <a href="mailto:stackp@online.fr">stackp@online.fr</a>.<br>
<blockquote><div><cite>skidoo wrote:</cite>...rather than the dated version present in debian repos.</div></blockquote>Have you requested the Debian maintainer of Droopy to update it to the 2015 version? That will produce the greatest benefit to the largest number of users. The maintainer is Benjamin Drung with published addresses of:<br>
<a href="mailto:bdrung@debian.org">bdrung@debian.org</a><br>
<a href="mailto:bdrung@ubuntu.com">bdrung@ubuntu.com</a><br>
<a href="mailto:benjamin.drung@profitbricks.com">benjamin.drung@profitbricks.com</a></div>
</div>
</div>

</div>
</div>
<div id="p_48953" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48953">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48953">

<time datetime="2016-11-05T10:44">posted: 2016-11-05 &nbsp; 10:44</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48953" title="permalink">#6</a></span>

<div class="content">@Skidoo : thanks, I replaced the upgraded version of the script. I don't pretend to understand the changes - is that mainly the fact that the new version is compatible to python3 ? - Whatever, new script is still not working with https - was to be expected, right ?<br>
<br>
@SamK : sure thing, this forum collectively has been friendly and welcoming, and I have no intention of fueling arguments or rows albeit involuntarily.</div>
</div>
</div>

</div>
</div>
<div id="p_48965" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48965">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48965">

<time datetime="2016-11-05T17:20">posted: 2016-11-05 &nbsp; 17:20</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48965" title="permalink">#7</a></span>

<div class="content">published address(es) and... I would not pursue such an"excercise in futility".<br>
Clearly the app is not well-maintained, vis the 2yr-old actionable pull requests at the github project homepage I linked.<br>
<br>
As for Debian, in my experience, Debian BTS filings (same for launchpad.net) have proven futile in terms of achieving issue resolution. Their only merit seems to be raising awareness, so that other affected users realize"hey, it's not just you, the issue not specific to your system". FWIW, in the past,"for the greater good" to achieve upstream issue resolution, I've corresponded directly with the developers of: aufs, recoll, fotoxx, spacefm, cherrytree, etc.</div>
</div>
</div>

</div>
</div>
<div id="p_48982" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48982">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48982">

<time datetime="2016-11-06 &nbsp; 17:15">posted: 2016-11-06 &nbsp; 17:15</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48982" title="permalink">#8</a></span>

<div class="content">Guys, I have solved it FWIW. The antiX stock <span style="text-decoration: underline">'droopy.sh</span>' script lost a parameter when starting the server on line 147. A probable <em>lapsus calami</em>, the kind of stoopid inattentive mistake even a noob like me can catch <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
To correct, edit <span style="text-decoration: underline">droopy.sh</span>, line 147, so it reads :<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>STARTSERVER="python /usr/local/bin/droopy $DOWNLOAD $AUTHORISE $PICTURE $MODE $PEMFILE"</code></pre></div>
<span style="font-size: 85%; line-height: normal">$PEMFILE was missing from the original file.</span><br>
<br>
Enjoy !</div>
</div>
</div>

</div>
</div>
<div id="p_48987" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48987">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48987">

<time datetime="2016-11-06T19:36">posted: 2016-11-06 &nbsp; 19:36</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48987" title="permalink">#9</a></span>

<div class="content">thanks for posting the solution.</div>
 </div>
</div>

</div>
</div>
<div id="p_48996" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48996">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content48996">

<time datetime="2016-11-07T06:25">posted: 2016-11-07 &nbsp; 06:25</time>
<span class="permalink"><a href="./solved-droopy-antix-shell-script-works-but-not-wit-t6678.html#p48996" title="permalink">#10</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>I would not pursue such an"excercise in futility".<br>
Clearly the app is not well-maintained...</div></blockquote>User contributions have been offered and accepted into the project. The most recent fix is dated August 29th 2016. A superficial skim of the closed issues indicates the author responds to them.<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://github.com/stackp/Droopy/commits/master"<br>linktext was:"https://github.com/stackp/Droopy/commits/master"<br>====================================<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://github.com/stackp/Droopy/issues?q=is%3Aissue+is%3Aclosed"<br>linktext was:"https://github.com/stackp/Droopy/issues ... s%3Aclosed"<br>====================================<br>
<br>
<blockquote><div><cite>skidoo wrote:</cite>As for Debian, in my experience, Debian BTS filings (same for launchpad.net) have proven futile in terms of achieving issue resolution.</div></blockquote>Your experience of the Debian bug tracking system differs markedly mine. On the occasions I have used it, the Debian maintainers and the app authors have willingly become involved in pursuing the matters raised. <br>
<br>
I make no criticism of your choice to decline to become involved with the usual change mechanisms, neither do I dispute your absolute right to do so. I merely remark that the one certain outcome of such a choice is that nothing changes upstream.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
