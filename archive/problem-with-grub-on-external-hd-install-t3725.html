<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Problem with Grub on external HD install - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./problem-with-grub-on-external-hd-install-t3725.html">Problem with Grub on external HD install</a></div>
<div class="pagination">
26 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./problem-with-grub-on-external-hd-install-t3725-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./problem-with-grub-on-external-hd-install-t3725-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_24886" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile24886">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content24886">
<time datetime="2012-06-03T22:25">posted: 2012-06-03 &nbsp; 22:25</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24886" title="permalink">#1</a></span>

<div class="content">I am attempting to install AntiX to an external USB disk drive. The install appears to have been successful, but when I try to boot into it I get a <strong>Grub Error 18</strong>.<br>
<br>
From my research:<br>
<br>
<span style="color: #0000BF">Grub Error 18 : Selected cylinder exceeds maximum supported by BIOS<br>
This error is returned when a read is attempted at a linear block address beyond the end of the BIOS translated area. This generally happens if your disk is larger than the BIOS can handle (512MB for (E)IDE disks on older machines or larger than 8GB in general)</span><br>
<br>
(This installation is intended to be running on a 2003 vintage Gateway P4, so it is an old machine.)<br>
<br>
I thought I installed Grub correctly, but apparently something went wrong. I am guessing I did not structure the Linux partitions correctly. I have attached the Results.txt from BootInfoScript, which should show what's located where. <br>
<br>
sda1 is a primary partition. Then I built an extended partition and 3 logical partitions within it. sda3 is another primary partition formatted NTFS so that XP can see it (it does).<br>
<br>
I am hoping that someone a lot more knowledgable can tell me how I can reconfigure / reinstall AntiX so that Grub will work and this installation will be successful. Let me know if more information is needed.<br>
<br>
Thanks, <br>
<br>
Ed<br>
<br>
<br>
(I can't seem to attach a text file, so the contents are shown below.)<br>
<br>
<br>
Boot Info Script 0.61 [1 April 2012]<br>
<br>
<br>
============================= Boot Info Summary: ===============================<br>
<br>
=&gt; Grub Legacy (v0.97) is installed in the MBR of /dev/sda and looks on the <br>
same drive in partition #6 for /boot/grub/stage2 and /boot/grub/menu.lst.<br>
=&gt; Windows is installed in the MBR of /dev/sdb.<br>
<br>
sda1: __________________________________________________________________________<br>
<br>
File system: ext2<br>
Boot sector type: -<br>
Boot sector info: <br>
Operating System: <br>
Boot files: <br>
<br>
sda2: __________________________________________________________________________<br>
<br>
File system: Extended Partition<br>
Boot sector type: -<br>
Boot sector info: <br>
<br>
sda5: __________________________________________________________________________<br>
<br>
File system: swap<br>
Boot sector type: -<br>
Boot sector info: <br>
<br>
sda6: __________________________________________________________________________<br>
<br>
File system: ext3<br>
Boot sector type: -<br>
Boot sector info: <br>
Operating System: Welcome to antiX. Powered by <br>
Debian Testing and MEPIS. For cli install, login as <br>
root (password=root) and type cli-installer. Follow <br>
the instructions.<br>
Boot files: /boot/grub/menu.lst /etc/fstab<br>
<br>
sda7: __________________________________________________________________________<br>
<br>
File system: ext2<br>
Boot sector type: -<br>
Boot sector info: <br>
Operating System: <br>
Boot files: <br>
<br>
sda3: __________________________________________________________________________<br>
<br>
File system: ntfs<br>
Boot sector type: Windows Vista/7: NTFS<br>
Boot sector info: No errors found in the Boot Parameter Block.<br>
Operating System: <br>
Boot files: <br>
<br>
sdb1: __________________________________________________________________________<br>
<br>
File system: vfat<br>
Boot sector type: Unknown<br>
Boot sector info: No errors found in the Boot Parameter Block.<br>
Operating System: <br>
Boot files: <br>
<br>
============================ Drive/Partition Info: =============================<br>
<br>
Drive: sda _____________________________________________________________________<br>
<br>
Disk /dev/sda: 320.1 GB, 320072933376 bytes<br>
255 heads, 63 sectors/track, 38913 cylinders, total 625142448 sectors<br>
Units = sectors of 1 * 512 = 512 bytes<br>
Sector size (logical/physical): 512 bytes / 512 bytes<br>
<br>
Partition Boot Start Sector End Sector # of Sectors Id System<br>
<br>
/dev/sda1  * 2,048 514,047 512,000 83 Linux<br>
/dev/sda2 514,048 74,242,047 73,728,000 5 Extended<br>
/dev/sda5 516,096 4,612,095 4,096,000 82 Linux swap / Solaris<br>
/dev/sda6 4,614,144 33,286,143 28,672,000 83 Linux<br>
/dev/sda7 33,288,192 74,242,047 40,953,856 83 Linux<br>
/dev/sda3 74,242,048 625,141,759 550,899,712 7 NTFS / exFAT / HPFS<br>
<br>
<br>
Drive: sdb _____________________________________________________________________<br>
<br>
Disk /dev/sdb: 252 MB, 252182528 bytes<br>
32 heads, 16 sectors/track, 962 cylinders, total 492544 sectors<br>
Units = sectors of 1 * 512 = 512 bytes<br>
Sector size (logical/physical): 512 bytes / 512 bytes<br>
<br>
Partition Boot Start Sector End Sector # of Sectors Id System<br>
<br>
/dev/sdb1 * 16 492,543 492,528 e W95 FAT16 (LBA)<br>
<br>
<br>
"blkid" output: ________________________________________________________________<br>
<br>
Device UUID TYPE LABEL<br>
<br>
/dev/loop0 squashfs <br>
/dev/sda1 e765ec20-3751-44b0-9f0a-400523f9c995 ext2 /boot<br>
/dev/sda3 370A8C0963D08D50 ntfs toshi jr<br>
/dev/sda5 bf8883c7-8a8a-46ff-b4d3-a07e286b8295 swap <br>
/dev/sda6 267cafcd-a1cb-4d11-a9bd-e7895362014d ext3 <br>
/dev/sda7 4f1a28cb-eb2e-44f9-a1f2-0a9eaaee507e ext2 /home<br>
/dev/sdb1 2FD4-760B vfat <br>
<br>
================================ Mount points: =================================<br>
<br>
Device Mount_Point Type Options<br>
<br>
/dev/loop0 /linux squashfs (ro,relatime)<br>
/dev/sda1 /mnt/sda1 ext2 (rw,nosuid,nodev,relatime)<br>
/dev/sda3 /mnt/sda3 fuseblk (rw,noexec,nosuid,nodev,allow_other,blksize=4096,default_permissions,user=demo)<br>
/dev/sda6 /mnt/sda6 ext3 (rw,nosuid,nodev,relatime)<br>
/dev/sda7 /mnt/sda7 ext2 (rw,nosuid,nodev,relatime)<br>
/dev/sdb1 /aufs/media/disk vfat (rw,nosuid,nodev,uhelper=hal,uid=1000,shortname=winnt)<br>
/dev/sr0 /cdrom iso9660 (ro,relatime)<br>
<br>
<br>
=========================== sda6/boot/grub/menu.lst: ===========================<br>
<br>
--------------------------------------------------------------------------------<br>
timeout 10<br>
color cyan/blue white/blue<br>
foreground ffffff<br>
background 0639a1<br>
<br>
gfxmenu /boot/grub/message<br>
<br>
title antiX at sda6, kernel 2.6.36-1-mepis-smp<br>
root (hd0,5)<br>
kernel /boot/vmlinuz-2.6.36-1-mepis-smp root=/dev/sda6 nomce quiet nosplash nouveau.modeset=0 vga=791 <br>
initrd /boot/initrd.img-2.6.36-1-mepis-smp<br>
boot<br>
<br>
--------------------------------------------------------------------------------<br>
<br>
=============================== sda6/etc/fstab: ================================<br>
<br>
--------------------------------------------------------------------------------<br>
# Pluggable devices are handled by uDev, they are not in fstab<br>
/dev/sda6 / ext3 defaults,noatime 1 1<br>
/dev/sda5 swap swap sw,pri=1 0 0<br>
proc /proc proc defaults 0 0<br>
devpts /dev/pts devpts mode=0622 0 0<br>
/dev/sda7 /home auto defaults,noatime 1 2<br>
--------------------------------------------------------------------------------<br>
<br>
=================== sda6: Location of files loaded by Grub: ====================<br>
<br>
GiB - GB File Fragment(s)<br>
<br>
6.013999939 = 6.457483264 boot/grub/menu.lst 1<br>
6.037425995 = 6.482636800 boot/grub/stage2 2<br>
6.037303925 = 6.482505728 boot/initrd.img 4<br>
6.037303925 = 6.482505728 boot/initrd.img-2.6.36-1-mepis-smp 4<br>
5.995857239 = 6.438002688 boot/vmlinuz 2<br>
5.995857239 = 6.438002688 boot/vmlinuz-2.6.36-1-mepis-smp 2<br>
<br>
======================== Unknown MBRs/Boot Sectors/etc: ========================<br>
<br>
Unknown BootLoader on sdb1<br>
<br>
00000000 eb 3c 90 44 4f 4b 30 31 2e 30 31 00 02 08 01 00 |.&lt;.DOK01.01.....|<br>
00000010 02 00 02 00 00 f8 f1 00 10 00 20 00 10 00 00 00 |.......... .....|<br>
00000020 f0 83 07 00 80 00 29 0b 76 d4 2f 00 00 00 00 00 |......).v./.....|<br>
00000030 00 00 00 00 00 00 46 41 54 31 36 20 20 20 33 c9 |......FAT16 3.|<br>
00000040 8e d1 bc fc 7b 16 07 bd 78 00 c5 76 00 1e 56 16 |....{...x..v..V.|<br>
00000050 55 bf 22 05 89 7e 00 89 4e 02 b1 0b fc f3 a4 06 |U."..~..N.......|<br>
00000060 1f bd 00 7c c6 45 fe 0f 38 4e 24 7d 20 8b c1 99 |...|.E..8N$} ...|<br>
00000070 e8 7e 01 83 eb 3a 66 a1 1c 7c 66 3b 07 8a 57 fc |.~...:f..|f;..W.|<br>
00000080 75 06 80 ca 02 88 56 02 80 c3 10 73 ed 33 c9 fe |u.....V....s.3..|<br>
00000090 06 d8 7d 8a 46 10 98 f7 66 16 03 46 1c 13 56 1e |..}.F...f..F..V.|<br>
000000a0 03 46 0e 13 d1 8b 76 11 60 89 46 fc 89 56 fe b8 |.F....v.`.F..V..|<br>
000000b0 20 00 f7 e6 8b 5e 0b 03 c3 48 f7 f3 01 46 fc 11 | ....^...H...F..|<br>
000000c0 4e fe 61 bf 00 07 e8 28 01 72 3e 38 2d 74 17 60 |N.a....(.r&gt;8-t.`|<br>
000000d0 b1 0b be d8 7d f3 a6 61 74 3d 4e 74 09 83 c7 20 |....}..at=Nt... |<br>
000000e0 3b fb 72 e7 eb dd fe 0e d8 7d 7b a7 be 7f 7d ac |;.r......}{...}.|<br>
000000f0 98 03 f0 ac 98 40 74 0c 48 74 13 b4 0e bb 07 00 |.....@t.Ht......|<br>
00000100 cd 10 eb ef be 82 7d eb e6 be 80 7d eb e1 cd 16 |......}....}....|<br>
00000110 5e 1f 66 8f 04 cd 19 be 81 7d 8b 7d 1a 8d 45 fe |^.f......}.}..E.|<br>
00000120 8a 4e 0d f7 e1 03 46 fc 13 56 fe b1 04 e8 c2 00 |.N....F..V......|<br>
00000130 72 d7 ea 00 02 70 00 52 50 06 53 6a 01 6a 10 91 |r....p.RP.Sj.j..|<br>
00000140 8b 46 18 a2 26 05 96 92 33 d2 f7 f6 91 f7 f6 42 |.F..&amp;...3......B|<br>
00000150 87 ca f7 76 1a 8a f2 8a e8 c0 cc 02 0a cc b8 01 |...v............|<br>
00000160 02 80 7e 02 0e 75 04 b4 42 8b f4 8a 56 24 cd 13 |..~..u..B...V$..|<br>
00000170 61 61 72 0a 40 75 01 42 03 5e 0b 49 75 77 c3 03 |aar.@u.B.^.Iuw..|<br>
00000180 18 01 27 0d 0a 49 6e 76 61 6c 69 64 20 73 79 73 |..'..Invalid sys|<br>
00000190 74 65 6d 20 64 69 73 6b ff 0d 0a 44 69 73 6b 20 |tem disk...Disk |<br>
000001a0 49 2f 4f 20 65 72 72 6f 72 ff 0d 0a 52 65 70 6c |I/O error...Repl|<br>
000001b0 61 63 65 20 74 68 65 20 64 69 73 6b 2c 20 61 6e |ace the disk, an|<br>
000001c0 64 20 74 68 65 6e 20 70 72 65 73 73 20 61 6e 79 |d then press any|<br>
000001d0 20 6b 65 79 0d 0a 00 00 49 4f 20 20 20 20 20 20 | key....IO |<br>
000001e0 53 59 53 4d 53 44 4f 53 20 20 20 53 59 53 7f 01 |SYSMSDOS SYS..|<br>
000001f0 00 41 bb 00 07 60 66 6a 00 e9 3b ff 00 00 55 aa |.A...`fj..;...U.|<br>
00000200</div>
</div>
</div>

</div>
</div>
<div id="p_24887" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile24887">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 15</span></div>

</div>
</div>
<span class="username">lavsan</span>
</dt>
<dd class="profile-joined">Joined: 28 Mar 2012</dd>
</dl>
<div class="postbody">
<div id="post_content24887">

<time datetime="2012-06-04T12:18">posted: 2012-06-04 &nbsp; 12:18</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24887" title="permalink">#2</a></span>

<div class="content">To understand correctly: original internal drive is recognised in BIOS as sdb (unusual) ant the attached external drive is seen as sda ?<br>
if that is correct, at GRUB section when you installed, you left default GRUB location untouched ? Was that MBR in sda ?<br>
We can start from here, maybe i have 2 solutions, when i come back.</div>
</div>
</div>

</div>
</div>
<div id="p_24892" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile24892">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content24892">

<time datetime="2012-06-04T20:27">posted: 2012-06-04 &nbsp; 20:27</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24892" title="permalink">#3</a></span>

<div class="content">Having done external usb/flash sd card installs myself.<br>
<br>
1. Did you install grub to mbr on external usb hardrive or did you install grub to mbr on internal Hard drive on the <br>
<blockquote class="uncited"><div>This installation is intended to be running on a 2003 vintage Gateway P4, so it is an old machine</div></blockquote>
If /dev/sda1 which shows the * (which means boot flag). <br>
<br>
Is actually sda1 on the external usb hardrive. Boot up your external drive to grub screen.<br>
<br>
Pick edit (the e key). change the line<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root (hd0,5)</code></pre></div>
to <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root (hd0,0)</code></pre></div>
<br>
hit enter or the b key to boot.<br>
<br>
See if it boots then without a error.</div>
</div>
</div>

</div>
</div>
<div id="p_24945" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile24945">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content24945">

<ul class="post-buttons">
 </ul>
<time datetime="2012-06-06T23:29">posted: 2012-06-06 &nbsp; 23:29</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24945" title="permalink">#4</a></span>

<div class="content">Thanks for your responses. I thought it might be useful for me to further clarify what I tried to install, where, and how.<br>
<br>
In order to prevent my inadvertent usage of the internal hard disk on the computer, I disconnected it before both install attempts. What you have seen described is all resident on the external hard disk. So, grub is on the external disk - somewhere. It said that it was successfully installed.<br>
<br>
<br>
<br>
I tried to ensure that the root partition was bootable and first on the disk. This is how it got installed.<br>
<br>
<br>
<br>
I have not made any change yet, because I expected to have to re-install something. I noticed that the first sector of sda1 started at 2048. Should that have been 0000? I am also wondering if my partition scheme was correct (<span style="color: #4000FF">sda1</span> as primary, then an extended partition <span style="color: #4000FF">sda2</span> containing swap, root <span style="color: #4000FF">sda6</span>, and home <span style="color: #4000FF">sda7</span>, finally another primary partition for NTFS, <span style="color: #4000FF">sda3</span>).<br>
<br>
Thanks again for your consideration.</div>
</div>
</div>

</div>
</div>
<div id="p_24949" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile24949">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content24949">

<time datetime="2012-06-07T02:53">posted: 2012-06-07 &nbsp; 02:53</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24949" title="permalink">#5</a></span>

<div class="content">To me. Your partition setup looks all screwed up. I am just going by what gparted is showing me. <br>
<br>
First. Why the /boot partition? Plus it is not mounted.<br>
2nd. Why the unallocated space before the /swap partition? I would expand /swap to fill the unallocated space.<br>
3rd. /dev/sda6 has no label. I bet that is where you installed Antix to and with no label. No boot. You should have named/labeled it / . Boot partition is not mounted. AntiX has no label. No telling where you installed grub. No wonder it won't boot. ( I am trying to say this i a nice &amp; friendly way, so don't take offence.)<br>
4. Why the large ntfs partition? I can only guess you want your windows and Linux to have access to it since Windows can't access Linux file systems natively.<br>
<br>
If me. I would starrt from scratch and delete all partitions. Make the whole drive unallocated.<br>
I would make a 8 gig partition. Format as ext3. Label it as / . Flag it as boot. That would be my /dev/sda1 partition that I would install AntiX and grub also to as install to mbr on hardrive. The boot flag will make it bootable.<br>
<br>
I am assuminng you know how to install AntiX home to /home also using the Mepis installer and wish to run a seperate <br>
/home partition from /. That you know to hit the checkbox to preseve data in /home on the installer window and where the /home box is. Hit the arrow and insert /home instead of /. Screenshot is from my
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"antix.freeforu ms.org/antix-11-eeepc-900-install-finished-t3104.html"<br>linktext was:"eeepc install screenshot tutorial"<br>====================================<br>
. Which was way more complicated to do than what you are trying to do. <br>
<br>

<br>
So I would make a 25 gig partition next. Ext3 file system. Label it as /home.<br>
Then I would make/size up my /swap partition next to whatever size you wish.<br>
<br>
Now for the rest of unallocated space. I would do the extended partition next. Make the whole leftover extended.<br>
Format it as NTFS and me. I would give it a label like Bikerdata or whatever trips your trigger.<br>
<br>
Anyhows. That is what I would do. Good luck with it and Happy Trails, Rok<br>
<br>
.</div>
</div>
</div>

</div>
</div>
<div id="p_24980" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile24980">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content24980">

<time datetime="2012-06-08 &nbsp; 00:22">posted: 2012-06-08 &nbsp; 00:22</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24980" title="permalink">#6</a></span>

<div class="content">rokytnji (and other interested folks:<br>
<br>
Thanks for your comments.<br>
<br>
<span style="color: #0000FF">Your partition setup looks all screwed up.</span> Agreed.<br>
<br>
<span style="color: #0000FF">First. Why the /boot partition?</span> By recommedation of this post - 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.linuxbsdos.com/2011/05/23/install-ubuntu-11-04-on-external-hard-disk/"<br>linktext was:"http://www.linuxbsdos.com/2011/05/23/in ... hard-disk/"<br>====================================<br>
, quoted as follows.<br>
<br>
<span style="color: #408000">My recommendation is to create the following four partitions:<br>
/boot, the boot partition. This is where programs critical for booting the system will reside.<br>
/, the root directory. The bulk of the programs used for running the system will be installed here.<br>
Swap, unformatted disk space for use as virtual memory.<br>
/home, the partition where your home directory will be located. In the course of using the system, files and folders you create will reside in various folders here.</span><br>
<br>
I was under the impression that having all 4 of these partitions was recommended and would facilitate upgrades.<br>
<br>
<span style="color: #0000FF">Plus it is not mounted.</span> Because I can't get it to boot, we are looking at it via the Antix Live CD. I could mount it, but did not need to at the time.<br>
<br>
<span style="color: #0000FF">2nd. Why the unallocated space before the /swap partition? I would expand /swap to fill the unallocated space.</span> If we are talking about sda2 (extended) the way I understand it is that the extended partition is a container containing sda5, sda6, and sda7. My old XP box has 512 mb of memory, so I don't think I need a huge swap partition.<br>
<br>
<span style="color: #0000FF">3rd. /dev/sda6 has no label. I bet that is where you installed Antix to and with no label. No boot. You should have named/labeled it / .</span> I screwed this up and that's probably part of my problem.<br>
<br>
<span style="color: #0000FF">Boot partition is not mounted. AntiX has no label. No telling where you installed grub. No wonder it won't boot. ( I am trying to say this i a nice &amp; friendly way, so don't take offence.)</span> No offense taken - Understand that I am a complete Linux Newbie, having only dabbled with live CD's and persistent thumbdrive installs that are not the same as a hard drive install. I need the advice.<br>
<br>
<span style="color: #0000FF">4. Why the large ntfs partition? I can only guess you want your windows and Linux to have access to it since Windows can't access Linux file systems natively</span> Yep.<br>
<br>
I could not get the Gparted program in AntiX to allow me to just make logical partitions; the only way I could see to create the logical partitions was to make an extended partition to put them in. <br>
<br>
Does any of this make sense? Please let me know.<br>
<br>
Thanks again, <br>
<br>
ED</div>
</div>
</div>

</div>
</div>
<div id="p_24981" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile24981">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content24981">

<time datetime="2012-06-08T02:24">posted: 2012-06-08 &nbsp; 02:24</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p24981" title="permalink">#7</a></span>

<div class="content">Without looking at your link. I am busy uploading some backup files to the cloud presently. Let me first point out that Ubuntu now uses grub2 to boot while we are using grub legacy to boot. <br>
<br>
2nd. You don't need a /boot partition. It just complicates things.
<blockquote class="uncited"><div>I was under the impression that having all 4 of these partitions was recommended and would facilitate upgrades.</div></blockquote>
Nope. I have been running running AntiX as a 3 partition setup : /, /home,/swap. And a 2 partition setup: /, /swap.<br>
And I can say that the 2 partition setup has been more trouble free for me when doing kernel upgrades.<br>
<br>
Case in point: This eeepc 900 has seperate / on one drive (4gig ssd). /home on another drive (16gig ssd). No /swap on my eeepcs because ssd drive don't like all the writes on these old phison ssd drives which will kill them prematurely vs newer solid state drives or sata drives or ide drives. These old ssd drives on these netbooks are just glorified pen drive or sd flash card drives as far as write wear can affect them.<br>
<br>
Everytime I have tried to install a newer kernel with this setup. No boot with the newer kernel giving me a invalid<br>
ext2 file system error.<br>
<br>
On my eeepc 701SD: I just have / partition on my single 8gig ssd drive on it with no /swap partition either. <br>
On kernel upgrades. No problem booting them on it.<br>
<br>
I will be in the process later of wiping out my AntiX 11 install on my eeepc 900. I won't be doing the kind of / and /home dual drive install like I have done before. I will be installing ANTIx 12 TO JUST MY 16 gig ssd drive and and only give it a / partition. The other 4 gig drive will be just for storage (music and such). <br>
<br>
I in my opinion say: <br>
Go with a 3 partition setup for Antiix install like I stated above if wanting a /home outside of / .<br>
Some folks prefer to run this way in case they break their install because they keep their /home intact while reinstalling their OS back onto / partition.<br>
<br>
Me. I am backing up certain things to my cloud account instead of doing this route. I have already done this type of backup on my eeepc 701SD. I just never got around to doing this on the 900 yet. I am pretty much going like some other long time AntiX members here who I have talked to over the years and am just going to keep things simple with a single / partition and install grub to mbr like I told you earlier to do i my previous post. By mbr. I am saying the external hardrive. Not the internal. I like the fact that you unplugged internal hardrive first before doing your external hardrive install. That is a good way to avoid confusion when telling grub to install to the mbr.<br>
<br>
By the way. Extended partition is like sayiing Logical partition in Windows. I think. I am not that Wiindows proficient when it comes to Microsoft Lingo (or linux lingo either <span class="emoticon"> __{{emoticon}}__ </span> ). I have been Linux longer and more often than Windows. I only use Windows to tune motorcycles. <br>
<br>
Hope my long winded post made sense to you. Like I said earlier. Delete everything in gparted to make the whole external drive unallocated empty space first. Then partition to tastes. Either 3 or 2. Then extended from there for ntfs partition.<br>
Edit:
<blockquote class="uncited"><div>2nd. Why the unallocated space before the /swap partition? I would expand /swap to fill the unallocated space. If we are talking about sda2 (extended) the way I understand it is that the extended partition is a container containing sda5, sda6, and sda7. My old XP box has 512 mb of memory, so I don't think I need a huge swap partition.</div></blockquote>
The unallocated space is to the left of the red /swap partition in your picture of gparted.</div>
</div>
</div>

</div>
</div>
<div id="p_25847" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25847">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25847">

<time datetime="2012-08-17T19:46">posted: 2012-08-17 &nbsp; 19:46</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25847" title="permalink">#8</a></span>

<div class="content">Well, I'm back.<br>
<br>
I decided to spend some more time (several weeks) reading about how GRUB works and how to modify it. I found several examples; some more useful than others. Along the way, I tried installing both with and without a small boot partition. After 9 installation attempts, I am still encountering the dreaded Error 18.<br>
<br>
I have tried installing just to /, swap, and /home, as well as adding a boot partition. Error 18. The most recent installation, the second using the new Antix 12, has an empty and ignored 200mb boot partition, followed by a rock-stock install to /, flagged boot, swap, and /home. All installations were done to a clean drive, either reformatted or repartitioned.<br>
<br>
I found instructions on how to implement a boot partition. (Two paragraphs redacted!) Tried it - Error 18. <br>
<br>
I know that the computer sees at least the MBR on sdb; when I change the BIOS boot priority to the external drive I get the message"Grub loading stage 1.5. Error 18."<br>
<br>
Even though I learned more about Linux and GRUB, I must still be missing something fundamental and obvious.<br>
<br>
I really like the idea of Antix, because it seems to work on this old computer. The versions of Ubuntu over the last few years have become less functional or nonfunctional on this machine thanks to the Intel onboard graphics not playing nicely with Ubuntu. I have also tried the tiny distributions which will work but I can't get them to display an acceptable color depth. Antix seems to be the appropriate answer to my quest, if only I could get it configured right.<br>
<br>
I can provide further information and copies of files.<br>
<br>
Your thoughts, comments, and recommendations would be welcome. Thanks for your consideration - <br>
<br>
Ed</div>
</div>
</div>

</div>
</div>
<div id="p_25851" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25851">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 850</span></div>

</div>
</div>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25851">

<time datetime="2012-08-18T09:17">posted: 2012-08-18 &nbsp; 09:17</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25851" title="permalink">#9</a></span>

<div class="content">Hi edmacc<br>
<br>
I think the problem you are having is because you seem to be installing grub to an external hdd whilst it is the primary drive, &amp; then you re attach your internal drive, which then becomes the primary drive, &amp; your bios &amp; grub are trying to boot from it.<br>
<br>
If this is indeed the case, you need to change references to sda to sdb in the (/)boot/grub/menu.lst, then it should find your kernel &amp; initrd.<br>
<br>
Just for info: the separate /boot partition was used when the bios would not boot above 8gb, (if I remember correctly).<br>
<br>
My prefered install setup is also one partition each for /, swap, &amp; /home. (Sometimes no swap, dependant on how much ram is in the machine.)<br>
<br>
HTH</div>
</div>
</div>

</div>
</div>
<div id="p_25877" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25877">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 325</span></div>

</div>
</div>
<span class="username">male</span>
</dt>
<dd class="profile-joined">Joined: 04 Nov 2011</dd>
</dl>
<div class="postbody">
<div id="post_content25877">

<time datetime="2012-08-20T13:38">posted: 2012-08-20 &nbsp; 13:38</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25877" title="permalink">#10</a></span>

<div class="content">hallo Ed<br>
<br>
menu.lst ??</div>
</div>
</div>

</div>
</div>
<div id="p_25879" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25879">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25879">

<p class="author">
<a href="./problem-with-grub-on-external-hd-install-t3725.html#p25879" title="Post"> 21 Aug 2012, 01:43 <span style="padding-left:10px">#11</span></a>
<time class="hide" datetime="2012-08-21 &nbsp; 01:43">2012-08-21 &nbsp; 01:43</time>
 </p>
<div class="content">Sorry to readers, I am having great difficulty posting to the forum for the last few days. I have a bootinfoscript results file I would like to either attach or include but keep getting 403 errors and the post fails.</div>
</div>
</div>

</div>
</div>
<div id="p_25880" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25880">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25880">

<time datetime="2012-08-21T01:57">posted: 2012-08-21 &nbsp; 01:57</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25880" title="permalink">#12</a></span>

<div class="content">The concept of misconfiguring grub to look at the wrong drive eventually occured to me as well. That realization, along with my increasing confidence that I would not inadvertently trash my XP installation, led me to do all installation attempts after the 2nd with sda (the XP drive) plugged in. I should have clarified that. My apologies.<br>
<br>
Still trying to attach a file or insert the contents, unsuccessfully so far.<br>
<br>
sdb5 boot grub menu.lst:<br>
<br>
timeout 10<br>
color cyan blue white blue<br>
foreground ffffff<br>
background 0639a1<br>
gfxmenu boot grub message<br>
title antiX at sdb5, kernel 3.5.0-antix.2-486-smp<br>
kernel boot vmlinuz-3.5.0-antix.2-486-smp root= dev sdb5 nomce quiet<br>
nosplash nouveau.modeset=0 vga=791<br>
initrd boot initrd.img-3.5.0-antix.2-486-smp<br>
boot<br>
title Microsoft Windows XP Home Edition at sda1<br>
map (hd0)<br>
map (hd0)<br>
rootnoverify ,0)<br>
chainloader +1<br>
<br>
Boot Info Summary:<br>
Windows is installed in the MBR of dev sda.<br>
Grub Legacy (v0.97) is installed in the MBR of dev sdb and looks<br>
on the same drive in partition #5 for boot grub stage2 and boot grub menu.lst.<br>
<br>
Fdisk of sdb:<br>
<br>
dev sdb1 2,048 411,647 409,600 83 Linux<br>
dev sdb2 411,648 74,242,047 73,830,400 5 Extended<br>
dev sdb5 * 413,696 29,597,695 29,184,000 83 Linux<br>
dev sdb6 29,599,744 32,671,743 3,072,000 82 Linux swap Solaris<br>
dev sdb7 32,673,792 74,242,047 41,568,256 83 Linux<br>
dev sdb3 74,242,048 625,141,759 550,899,712 7 NTFS exFAT HPFS<br>
<br>
blkid output:<br>
Device UUID TYPE LABEL<br>
dev loop0 squashfs<br>
dev sda1 FA043D18043CD8F9 ntfs<br>
dev sdb1 38b0ff6b-db5f-47c7-a235-ff16377b81cd ext3 boot<br>
dev sdb3 370A8C0963D08D50 ntfs toshi jr<br>
dev sdb5 87caeed2-0a54-499d-a7d6-ad91c354e6be ext4<br>
dev sdb6 66982505-dba1-4521-ae5b-9ea298fb664a swap<br>
dev sdb7 aa2e51fb-7e60-46e7-9fcb-a464b7a8f492 ext4<br>
dev sr0 iso9660 antiXlive</div>
</div>
</div>

</div>
</div>
<div id="p_25881" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25881">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25881">

<time datetime="2012-08-21T02:03">posted: 2012-08-21 &nbsp; 02:03</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25881" title="permalink">#13</a></span>

<div class="content">I stripped out all of the non alphanumeric characters in order to try to get the forum software to accept the posts. Much to my surprise, it worked.</div>
</div>
</div>

</div>
</div>
<div id="p_25883" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile25883">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content25883">

<time datetime="2012-08-21T02:50">posted: 2012-08-21 &nbsp; 02:50</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25883" title="permalink">#14</a></span>

<div class="content">First, if me. I would change<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>title Microsoft Windows XP Home Edition at sda1
map (hd0)
map (hd0)
rootnoverify ,0)
chainloader +1
</code></pre></div>
to <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>title Microsoft Windows XP Home Edition at sda1
rootnoverify (hd0,0) 
chainloader +1</code></pre></div>
second, I would change<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>kernel boot vmlinuz-3.5.0-antix.2-486-smp root= dev sdb5 nomce quiet
</code></pre></div>
to <br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>kernel boot vmlinuz-3.5.0-antix.2-486-smp root=UUID=87caeed2-0a54-499d-a7d6-ad91c354e6be nomce quiet
</code></pre></div>
using your UUID number instead of / dev/ sdb5 works for me better.<br>
<br>
<br>
Good luck with it and notice how I spaced the"/' so I could post the path in forum.<br>
I have found using the pastebin site with a link to my pastebin copy and paste is<br>
easier than dealing with editing my posts on this site.</div>
</div>
</div>

</div>
</div>
<div id="p_25929" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile25929">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 12</span></div>

</div>
</div>
<span class="username">edmacc</span>
</dt>
<dd class="profile-joined">Joined: 03 Jun 2012</dd>
</dl>
<div class="postbody">
<div id="post_content25929">

<time datetime="2012-08-23T15:10">posted: 2012-08-23 &nbsp; 15:10</time>
<span class="permalink"><a href="./problem-with-grub-on-external-hd-install-t3725.html#p25929" title="permalink">#15</a></span>

<div class="content">Thanks for the recommendations. I implemented both of them.<br>
<br>
Did I need to re-install Grub to the MBR afterwards? I did not think so, so I did not.<br>
<br>
Afterwards, I tried booting Linux from the external HDD late yesterday. My display showed the following:<br>
<br>
GRUB Loading stage 1.5.<br>
<br>
GRUB loading, please wait...<br>
Error 18<br>
<br>
My knowledge of Linux and Grub is still not adequate, but here's my analysis. My current problem is upstream of the Grub menu. Grub in the MBR is trying to load stage 1.5 or stage 2 and fails, showing an Error 18. The classic definition of Error 18 may or may not be applicable. The bootinfoscript information I have indicates that all Grub-related files are well within the 8Gb limit, so there's no reason Grub should not find them - unless it does not have the right hardcoded address. I have done a bit of bit twiddling in my time but I'm not quite prepared to alter the MBR yet, although I do have a binary file of the current contents. I am looking for a simpler alternative.<br>
<br>
<br>
regards,<br>
<br>
Ed</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
26 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./problem-with-grub-on-external-hd-install-t3725-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./problem-with-grub-on-external-hd-install-t3725-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
