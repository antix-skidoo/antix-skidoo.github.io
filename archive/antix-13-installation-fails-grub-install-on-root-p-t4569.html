<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Antix-13 installation fails - grub install on root partition - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html">Antix-13 installation fails - grub install on root partition</a></div>
<div class="pagination">
6 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_30851" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile30851">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 3</span></div>

</div>
</div>
<span class="username">comm.sanjay</span>
</dt>
<dd class="profile-joined">Joined: 27 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content30851">
<time datetime="2013-08-28T14:10">posted: 2013-08-28 &nbsp; 14:10</time>
<span class="permalink"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html#p30851" title="permalink">#1</a></span>

<div class="content">Hi, Thanks for Antix with extremely light and varied DEs.<br>
<br>
While installing Antix-13 on My P4 computer with GAG as boot manager,<br>
I installed grub on root partition as with other linuxes. Antix offered me correct root partition for grub install after declining grub to be installed on MBR. Thereafter it fails to boot as GAG finds no boot files.<br>
I checked installed root partition from live Antix, i find no boot or grub folder leave alone menu.lst file on it.<br>
When grub installed on MBR, it boots perfectly well. But i need it to be on root partition.<br>
Can you give suggestion on how to do it? Thanks.<br>
<br>
Sanjay</div>
</div>
</div>

</div>
</div>
<div id="p_30852" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile30852">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 325</span></div>

</div>
</div>
<span class="username">male</span>
</dt>
<dd class="profile-joined">Joined: 04 Nov 2011</dd>
</dl>
<div class="postbody">
<div id="post_content30852">

<time datetime="2013-08-28T18:24">posted: 2013-08-28 &nbsp; 18:24</time>
<span class="permalink"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html#p30852" title="permalink">#2</a></span>

<div class="content">Let the Grub antiX just gone. <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_30875" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile30875">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 7</span></div>

</div>
</div>
<span class="username">purcaribe</span>
</dt>
<dd class="profile-joined">Joined: 29 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content30875">

<time datetime="2013-08-30T01:14">posted: 2013-08-30 &nbsp; 01:14</time>
<span class="permalink"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html#p30875" title="permalink">#3</a></span>

<div class="content">If you still with the issue maybe you can try 3 Grub repairs disk at 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.supergrubdisk.org/"<br>linktext was:"http://www.supergrubdisk.org/"<br>====================================<br>
</div>
</div>
</div>

</div>
</div>
<div id="p_30878" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile30878">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 3</span></div>

</div>
</div>
<span class="username">comm.sanjay</span>
</dt>
<dd class="profile-joined">Joined: 27 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content30878">

<time datetime="2013-08-30T07:06">posted: 2013-08-30 &nbsp; 07:06</time>
<span class="permalink"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html#p30878" title="permalink">#4</a></span>

<div class="content">@purcaribe= tks for the suggestion.<br>
<br>
So any body,<br>
Is this Antix problem unique to me or is it a known bug?<br>
Any solutions?</div>
</div>
</div>

</div>
</div>
<div id="p_30879" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile30879">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content30879">

<time datetime="2013-08-30T09:22">posted: 2013-08-30 &nbsp; 09:22</time>
<span class="permalink"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html#p30879" title="permalink">#5</a></span>

<div class="content">I'd imagine most people install Grub on the MBR so they don't run into this problem although it worked fine the last time I tried it.<br>
<br>
Since you didn't give any specifics, I will assume you installed antiX-13.1-full on /dev/sda3. If I didn't guess right then you will have to modify the instructions below.<br>
<br>
If you want to install Grub on /dev/sda3 then mount that partition at /media/sda3 and run:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo grub-install --no-floppy --directory=/media/sda3 /dev/sda3</code></pre></div>This should create a /boot/grub directory on that device and populate it with a bunch of files. Do an"ls /media/sda3/boot/grub" to be sure.<br>
<br>
You will probably want to copy /boot/* from the LiveCD/USB to the new /boot directory. Assuming you've booted into the same antiX LiveCD/USB you installed from, run:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo cp -a /boot/* /media/sda3/boot/</code></pre></div>
Then you just need to create/edit the /boot/grub/menu.lst file. Here is a template:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>timeout 10
color cyan/blue white/blue
foreground ffffff
background 0639a1
gfxmenu /boot/grub/message

title antiX Linux 13.1
kernel /boot/vmlinuz-3.7.10-antix.4-amd64-smp  root=/dev/sda3 quiet nouveau.modeset=0
initrd /boot/initrd.img-3.7.10-antix.4-amd64-smp</code></pre></div>
Of course the name of the kernel and the initrd should match what you copied over from the Live media. Also the root= parameter should be the partition where you installed antiX.<br>
<br>
After the title line, you could optionally add:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>root (hd0,2)</code></pre></div>although this is probably not needed since it should default to the partition grub is installed on. Normally the"hd" number corresponds to the device letter with a --&gt; 0, b --&gt; 1, and so on. The 2nd number specifies the partition with 1 --&gt; 0, 2 --&gt; 1, and so on. So sda3 goes to (hd0,2).<br>
<br>
If you don't get a nice background image when you get to the antiX grub bootloader menu then you should copy /boot/grub/stage2 from the live media to the /boot/grub/ directory on your antiX root partition. If you've booted from a LiveCD/USB then the live media will be mounted at /live/boot-dev so you would copy from /live/boot-dev/boot/grub/stage2.<br>
<br>
I'm sorry this feature in the installer didn't work as advertised and/or as expected. I used it in the graphical installer when I installed antiX-12 on my system a while back and it worked fine populating /boot and /boot/grub on my root partition and it also created the menu.lst file for me. I know the graphical installer had to be updated since then. Perhaps the update broke this feature.</div>
</div>
</div>

</div>
</div>
<div id="p_30886" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile30886">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 3</span></div>

</div>
</div>
<span class="username">comm.sanjay</span>
</dt>
<dd class="profile-joined">Joined: 27 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content30886">

<time datetime="2013-08-31T08:48">posted: 2013-08-31 &nbsp; 08:48</time>
<span class="permalink"><a href="./antix-13-installation-fails-grub-install-on-root-p-t4569.html#p30886" title="permalink">#6</a></span>

<div class="content">Thanks all for the feedback. especially BitJam The problem was solved by first Chrooting in the installation (link: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://help.ubuntu.com/community/Grub2/Installing"<br>linktext was:"https://help.ubuntu.com/community/Grub2/Installing"<br>====================================<br>
 ).<br>
issued grub-install command- the grub folder and all files were created but no menu.lst, got error 22 (no such partition) at the end of grub-install command and still no booting, (error no boot sector.)<br>
Then following advise in the link : 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://forums.gentoo.org/viewtopic-t-892254-start-0.html"<br>linktext was:"http://forums.gentoo.org/viewtopic-t-89 ... art-0.html"<br>====================================<br>
<br>
chrooted, then dropping into grub prompt and issue setup command for my root partition (hd0,9), grub seemed to be installed without giving any error and after restarting i was at least dropped into grub prompt.<br>
again chrooted and checked that still the menu.lst file was not created. it was created manually thanks to the excellent advice given by BitJam.<br>
Thereafter restarting i was in the glorious antiX enviornment</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
6 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
