<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Installing a frugal install of Antix - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./installing-a-frugal-install-of-antix-t4928.html">Installing a frugal install of Antix</a></div>
<div class="pagination">
31 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./installing-a-frugal-install-of-antix-t4928-s15.html" role="button">2</a></li>
<li><a class="button" href="./installing-a-frugal-install-of-antix-t4928-s30.html" role="button">3</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./installing-a-frugal-install-of-antix-t4928-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_34166" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34166">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34166">
<time datetime="2014-03-24T23:03">posted: 2014-03-24 &nbsp; 23:03</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34166" title="permalink">#1</a></span>

<div class="content">I have a Dell 3000 computer. At the moment I am booted into the Antix Live CD. I have four partitions on my internal HD. sda1 (Crunchbang), sda2 (Manjaro openbox), sda3 (swap), sda4 (Manjaro xfce). I plan on using one of the Manjaro partitions for the frugal install. If you need any more info, please let me know. So, what are the steps involved? Thanks!! <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_34167" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34167">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content34167">

<time datetime="2014-03-24T23:32">posted: 2014-03-24 &nbsp; 23:32</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34167" title="permalink">#2</a></span>

<div class="content">1 - Make sure that you know which of those distros is controlling grub and which version of grub is used ie grub-legacy or grub2?<br>
<br>
2 - Go to /live/boot-dev/antiX on the cd/dvd and copy initrd.gz, linuxfs and vmlinuz to a folder called antiX-13.2 (or whatever) on the partition you want to run frugal on. You can, for example, create a folder in sda2 (not /home. but /) called antiX-13.2 and copy initrd.gz, linuxfs and vmlinuz off the live cd/dvd to there).<br>
<br>
3. Once done you need to edit the grub menu used to boot your installed distros. It is different depending on whether grub-legacy or grub2 is used.</div>
</div>
</div>

</div>
</div>
<div id="p_34168" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34168">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34168">

<time datetime="2014-03-25T00:00">posted: 2014-03-25 &nbsp; 00:00</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34168" title="permalink">#3</a></span>

<div class="content">Manjaro is controlling Grub so I would imagine it is Grub2? Not sure how to edit Grub2. <br>
<br>
Thanks!<br>
<br>
I will do this tomorrow and post back.</div>
</div>
</div>

</div>
</div>
<div id="p_34172" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34172">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34172">

<time datetime="2014-03-25T11:49">posted: 2014-03-25 &nbsp; 11:49</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34172" title="permalink">#4</a></span>

<div class="content">I deleted the Manjaro partitions along with the Grub menu. I created a new grub legacy menu but am not sure what to add when it comes to the Antix entry.</div>
</div>
</div>

</div>
</div>
<div id="p_34173" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34173">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34173">

<time datetime="2014-03-25T12:04">posted: 2014-03-25 &nbsp; 12:04</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34173" title="permalink">#5</a></span>

<div class="content">This is the entry I have in my menu.lst file. It doesn't work. When I boot up and select it, all I get is a reboot or shutdown option.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>title  AntiX Linux (sda4/antiX)
  uuid 71d533e4-184d-44f2-972b-3bf07754df26
  kernel /antiX/vmlinuz root=/dev/sda4 ro
  initrd /antiX/initrd.gz</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_34174" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34174">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content34174">

<time datetime="2014-03-25T12:39">posted: 2014-03-25 &nbsp; 12:39</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34174" title="permalink">#6</a></span>

<div class="content">First, I suggest you use any directory name *except* /antiX. AntiC's suggestion of using /antiX-13.2 was good. So make that directory and copy or move these files into it: linuxfs, vmlinuz and initrd.gz.<br>
<br>
Here is a legacy grub entry that should work (or at least be close to working):<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>title  AntiX Linux (sda4/antiX)
root(0,3)
kernel /antiX-13.2/vmlinuz quiet bdir=antiX-13.2 from=hd antiX=MLX
initrd /antiX-13.2/initrd.gz</code></pre></div>
The"root(0,3)" line tells Grub to look for the kernel and the initrd on /dev/sda4. Legacy grub should create a file like 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://www.gnu.org/software/grub/manual/legacy/Device-map.html"<br>linktext was:"/boot/grub/device.map"<br>====================================<br>
 that will verify which root() command to use for /dev/sda4.<br>
<br>
Using a directory other than /antiX helps avoid future conflicts when you are booting other antiX Live media. The kernel and initrd lines explicitly tell the bootloader where to find the kernel and initrd.gz files on /dev/sda4. The"bdir=antiX-13.2" and"from=hd" parameters tell our live-init script where to find the linuxfs file.<br>
<br>
A slight improvement to this would be to replace"from=hd" with either"blab=xxx" or"buuid=yyy" where"xxx" is the disk label of /dev/sda4 and"yyy" is the UUID of /dev/sda4. The difference is that with"from=hd" we will scan every hard drive partition looking for /antiX-13.2/linuxfs. If you give us the label or the UUID then we will only look on partitions that have that label or that UUID.<br>
<br>
The"antiX=MLX" parameter turns off some startup services for faster booting. It is shorthand for"mean lean Xtralean".<br>
<br>
Once you get an entry like this to work, it will be easy to show you had to modify it to add persistence or other tricks.</div>
</div>
</div>

</div>
</div>
<div id="p_34175" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34175">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34175">

<time datetime="2014-03-25T13:18">posted: 2014-03-25 &nbsp; 13:18</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34175" title="permalink">#7</a></span>

<div class="content">Here is what my menu.lst file looks like so far based on your recomendations. I'm going to see if it works.<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># menu.lst produced by grub4dosconfig-v1.7.2
color white/blue black/cyan white/black cyan/black
timeout 10
default 0

# Full installed Linux

title Linux (sda2)
  uuid 8dd05fe1-471c-4c8e-972e-ff0549c9a810
  kernel /vmlinuz root=/dev/sda2 ro
  initrd /initrd.img

title  AntiX Linux (sda4/antiX)
root(0,3)
kernel /antiX-13.2/vmlinuz quiet bdir=antiX-13.2 buuid=71d533e4-184d-44f2-972b-3bf07754df26 antiX=MLX
initrd /antiX-13.2/initrd.gz

# Frugal installed Puppy

title Lupu 528 (sda2/pup528)
  find --set-root --ignore-floppies --ignore-cd /pup528/initrd.gz
  kernel /pup528/vmlinuz   psubdir=pup528 pmedia=atahd pfix=fsck
  initrd /pup528/initrd.gz

title Lupu 528 (sda2/pup528) RAM mode\nBoot up Puppy without pupsave
  find --set-root --ignore-floppies --ignore-cd /pup528/initrd.gz
  kernel /pup528/vmlinuz   psubdir=pup528 pmedia=atahd pfix=ram,fsck
  initrd /pup528/initrd.gz

title Puppy precise 5.7 (sda2/puppre3000)
  find --set-root --ignore-floppies --ignore-cd /puppre3000/initrd.gz
  kernel /puppre3000/vmlinuz   psubdir=puppre3000 pmedia=atahd pfix=fsck
  initrd /puppre3000/initrd.gz
# Windows
# this entry searches Windows on the HDD and boot it up
title Windows\nBoot up Windows if installed
  errorcheck off
  find --set-root --ignore-floppies --ignore-cd  /bootmgr
  chainloader /bootmgr
  find --set-root --ignore-floppies --ignore-cd  /ntldr
  chainloader /ntldr
  find --set-root --ignore-floppies --ignore-cd   /io.sys
  chainloader /io.sys
  errorcheck on

# Boot from Partition Boot Sector

title Linux (sda2:PBS)
  uuid 8dd05fe1-471c-4c8e-972e-ff0549c9a810
  chainloader +1

# additionals

title Find Grub2\nBoot up grub2 if installed
  find --set-root --ignore-floppies --ignore-cd /boot/grub/core.img
  kernel /boot/grub/core.img

title Grub4Dos commandline\n(for experts only)
  commandline

title Reboot computer
  reboot

title Halt computer
  halt
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_34176" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34176">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content34176">

<time datetime="2014-03-25T13:27">posted: 2014-03-25 &nbsp; 13:27</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34176" title="permalink">#8</a></span>

<div class="content">grub4dos is what Puppy uses right?<br>
<br>
I hope it works, but the syntax may be differenr from ordinary grub. Roky is our puppy /antiX man.</div>
</div>
</div>

</div>
</div>
<div id="p_34177" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34177">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34177">

<time datetime="2014-03-25T13:32">posted: 2014-03-25 &nbsp; 13:32</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34177" title="permalink">#9</a></span>

<div class="content">It's not working but that's OK because I am learning. I have to tell you that the way I created the menu.lst file was by booting into Puppy Linux from CD and letting Grub4Dos build the file. Grub4Dos saves the menu.lst file in sda1. Am I going about it the wrong way? I don't mind starting all over again with whatever suggestions you can give me.<br>
<br>
At the moment this is what I have done:<br>
<br>
I have a partition (sda4) labelled Antix. On that partition I have a directory names antix-13.2 that contain the files initrd.gz, vmlinuz and linusfs.<br>
<br>
I am currently in Crunchbang (sda2).</div>
</div>
</div>

</div>
</div>
<div id="p_34178" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34178">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content34178">

<time datetime="2014-03-25T13:42">posted: 2014-03-25 &nbsp; 13:42</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34178" title="permalink">#10</a></span>

<div class="content">When you boot the laptop, the boot menu belongs to which OS? That is the one that needs editing.</div>
</div>
</div>

</div>
</div>
<div id="p_34179" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34179">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34179">

<time datetime="2014-03-25T13:48">posted: 2014-03-25 &nbsp; 13:48</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34179" title="permalink">#11</a></span>

<div class="content">The boot menu was created with Grub4Dos when I was booted into the Puppy Linux CD.<br>
<br>
I just thought of something else, and I want your feedback on this. What if I do a full Antix install on sda4 instead of a frugal one for now. This will generate a new grub menu that we can use to modify when I do the frugal install. Does that sound viable? This way, Puppy Linux and Grub4Dos are out of the picture and just Antix is involved.</div>
</div>
</div>

</div>
</div>
<div id="p_34180" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34180">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content34180">

<time datetime="2014-03-25T14:01">posted: 2014-03-25 &nbsp; 14:01</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34180" title="permalink">#12</a></span>

<div class="content">Yes, you can do that. Make sure you install grub to MBR and then it will be its (antiX) grub-legacy controlling the booting. Do keep a copy of your old grub since the antiX grub may not pick up all the entries.<br>
MX-14 uses grub2 and if you decide to install that, it should pick up all the OS installed.</div>
</div>
</div>

</div>
</div>
<div id="p_34181" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34181">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34181">

<time datetime="2014-03-25T14:14">posted: 2014-03-25 &nbsp; 14:14</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34181" title="permalink">#13</a></span>

<div class="content">OK. I will install Antix 13.2 on the Dell 3000. It should pick up my Crunchbang installation as well.<br>
<br>
I will post back once I have this working fine and then we can procedd with the Frugal install. Thanks for helping me with this!</div>
</div>
</div>

</div>
</div>
<div id="p_34182" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile34182">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 177</span></div>

</div>
</div>
<span class="username">rmcellig</span>
</dt>
<dd class="profile-joined">Joined: 04 Mar 2014</dd>
</dl>
<div class="postbody">
<div id="post_content34182">

<time datetime="2014-03-25T14:44">posted: 2014-03-25 &nbsp; 14:44</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34182" title="permalink">#14</a></span>

<div class="content">I was able to successfully install Antix Full 13.2 into sda4. The boot menu works fine as well for both Antix and Crunchbang.<br>
<br>
I also created a folder called antix13.2 at the root level of sda4 and put the required files from the Antix CD into the folder. Now, where do we go from here? Where does Antix install the Grub menu? I selected sda MBR as the options when installing Antix.</div>
</div>
</div>

</div>
</div>
<div id="p_34183" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile34183">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content34183">

<time datetime="2014-03-25T15:03">posted: 2014-03-25 &nbsp; 15:03</time>
<span class="permalink"><a href="./installing-a-frugal-install-of-antix-t4928.html#p34183" title="permalink">#15</a></span>

<div class="content">Ok, you need to edit /boot/grub/menu.lst on the antiX partition (sda4)<br>
<br>
Add:<br>
<br>
title AntiX Linux Frugal<br>
root(0,3)<br>
kernel /antiX-13.2/vmlinuz quiet bdir=antiX-13.2 from=hd antiX=MLX<br>
initrd /antiX-13.2/initrd.gz<br>
<br>
Or if that doesn't work, try this<br>
<br>
title AntiX Linux Frugal<br>
root(0,3)<br>
kernel /antiX-13.2/vmlinuz quiet bdir=antiX-13.2 bdev=sda4 antiX=MLX<br>
initrd /antiX-13.2/initrd.gz<br>
<br>
bdev=sda4 could also be changes to buuid=XXXXX (the uuid for sda4 -see blkid)</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
31 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./installing-a-frugal-install-of-antix-t4928-s15.html" role="button">2</a></li>
<li><a class="button" href="./installing-a-frugal-install-of-antix-t4928-s30.html" role="button">3</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./installing-a-frugal-install-of-antix-t4928-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
