<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Permuted RGB-colors after x-start - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./permuted-rgb-colors-after-x-start-t6009.html">Permuted RGB-colors after x-start</a></div>
<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_43694" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile43694">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">7Saturn</span>
</dt>
<dd class="profile-joined">Joined: 30 Oct 2015</dd>
</dl>
<div class="postbody">
<div id="post_content43694">
<time datetime="2015-10-31T16:12">posted: 2015-10-31 &nbsp; 16:12</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43694" title="permalink">#1</a></span>

<div class="content">Well, the problem described in the topic title just nails it. When I boot antix 15 on an old PII-Laptop, everything looks fine until the x-server has been started. The Boot-Messages show normal green »[ OK ]«-Messages. Once the graphical interface is active, <em>all</em> RGB-colors seem to be permuted in the way RGB -&gt; BRG. So all grey-tone colors (incl. white and black) are just fine, but everything, that deviates more than a little from them, shows the wrong colors, e. g., red becomes blue, yellow gets magenta, green becomes dark red and so on. When echoing an escape sequence to trigger a green text output, it's not green any more, as during boot time. And it's not limited to one or a few window mangers. All window managers seem to suffer from the same problem. Which makes me believe, it has to do with the way, the graphics card is used. The graphics card is a Neomagic MagicGraph 256 AV. The driver used by the system seems to be vesa.<br>
<br>
Is there anything I can do in order to get normal colors? Aside from this problem, antix seems to run just fine on that laptop.</div>
</div>
</div>

</div>
</div>
<div id="p_43695" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile43695">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content43695">

<time datetime="2015-10-31T19:19">posted: 2015-10-31 &nbsp; 19:19</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43695" title="permalink">#2</a></span>

<div class="content">Post<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code> inxi -F</code></pre></div> readout so members can see your gear. Howdy and Welcome.<br>
<br>
also<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cat /var/log/Xorg.0.log|grep vesa</code></pre></div>
in case any graphic log errors were logged.</div>
</div>
</div>

</div>
</div>
<div id="p_43696" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile43696">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content43696">

<time datetime="2015-10-31T22:03">posted: 2015-10-31 &nbsp; 22:03</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43696" title="permalink">#3</a></span>

<div class="content"><blockquote class="uncited"><div>The driver used by the system seems to be vesa.</div></blockquote>
antix ships a neomagic driver. You can run <strong>man neomagic</strong> to confirm this.<br>
<br>
check <strong>sudo locate xorg.conf</strong> <br>
If that configuration file does not exist, boot to runlevel 3 and run <strong>Xorg --configure</strong> to generate one.<br>
Once a conf file exists, run <strong>xinit</strong> and if it doesn't return any errors (also check /var/log/Xorg.0.log), you should be all set.</div>
</div>
</div>

</div>
</div>
<div id="p_43700" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile43700">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">7Saturn</span>
</dt>
<dd class="profile-joined">Joined: 30 Oct 2015</dd>
</dl>
<div class="postbody">
<div id="post_content43700">

<time datetime="2015-11-01T22:44">posted: 2015-11-01 &nbsp; 22:44</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43700" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>rokytnji wrote:</cite>Post<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code> inxi -F</code></pre></div> readout so members can see your gear.</div></blockquote>Here it comes:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>System:    Host: Oldgameslinux Kernel: 4.0.5-antix.1-486-smp i686 (32 bit)
           Desktop: IceWM 1.3.8
           Distro: antiX-15-V_386-full Killah P 30 June 2015
Machine:   Mobo: ACER model: TravelMate 720
           Bios: Phoenix v: V1.0 R01-D7 date: 10/29/99
CPU:       Single core Mobile Pentium II (-UP-) cache: 256 KB
           speed: 332 MHz (max)
Graphics:  Card: Neomagic NM2200 [MagicGraph 256AV]
           Display Server: X.Org 1.16.4 driver: vesa
           Resolution: 1024x768@61.00hz
           GLX Renderer: Gallium 0.4 on llvmpipe (LLVM 3.5, 128 bits)
           GLX Version: 3.0 Mesa 10.3.2
Audio:     Sound: Advanced Linux Sound Architecture v: k4.0.5-antix.1-486-smp
Network:   Card-1: 3Com 3cCFE575CT CardBus [Cyclone] driver: 3c59x
           IF: eth0 state: down mac: 00:50:04:e9:16:7b
           Card-2: Qualcomm Atheros AR5212/AR5213 Wireless Network Adapter
           driver: ath5k
           IF: wlan0 state: up mac: 00:40:96:a1:e3:c2
Drives:    HDD Total Size: 60.0GB (7.3% used)
           ID-1: /dev/sda model: TOSHIBA_MK6025GA size: 60.0GB
Partition: ID-1: / size: 20G used: 3.6G (20%) fs: ext4 dev: /dev/sda3
           ID-2: swap-1 size: 0.54GB used: 0.00GB (0%) fs: swap dev: /dev/sda4
Sensors:   None detected - is lm-sensors installed and configured?
Info:      Processes: 96 Uptime: 3 min Memory: 87.1/244.7MB
           Client: Shell (bash) inxi: 2.2.25</code></pre></div>
<blockquote><div><cite>rokytnji wrote:</cite><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cat /var/log/Xorg.0.log|grep vesa</code></pre></div></div></blockquote>That tells:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>[    86.569] (II) LoadModule:"vesa"
[    86.570] (II) Loading /usr/lib/xorg/modules/drivers/vesa_drv.so
[    86.586] (II) Module vesa: vendor="X.Org Foundation"
[    86.587] (II) VESA: driver for VESA chipsets: vesa</code></pre></div>
<blockquote><div><cite>skidoo wrote:</cite>antix ships a neomagic driver. You can run <strong>man neomagic</strong> to confirm this.</div></blockquote>Apparently, the manpage does exist.
<blockquote><div><cite>skidoo wrote:</cite>check <strong>sudo locate xorg.conf</strong> <br>
If that configuration file does not exist,</div></blockquote>It doesn't.
<blockquote><div><cite>skidoo wrote:</cite>boot to runlevel 3</div></blockquote>How to do that? I already tried using GRUB2 with a »3« at the end, like described 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.brunolinux.com/05-Configuring_Your_System/Grub_boot_runlevel-3.html"<br>linktext was:"here"<br>====================================<br>
. I didn't quite succeed. However:
<blockquote><div><cite>skidoo wrote:</cite>run <strong>Xorg --configure</strong> to generate one.</div></blockquote>I tried that anyways and it says:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Fatal server error:
(EE) Unrecognized option: --configure</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_43701" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile43701">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content43701">

<time datetime="2015-11-02T00:51">posted: 2015-11-02 &nbsp; 00:51</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43701" title="permalink">#5</a></span>

<div class="content">mistyped.<br>
Xorg --configure<br>
should be<br>
Xorg -configure<br>
(one dash, not two)<br>
<br>
If adding (space character and the numeral 3) to the end of your boot line didn't bring you to a runlevel 3 command prompt... I'm stumped.<br>
<br>
Also, I'm wondering whether your boot options are FORCING vesa to be loaded.<br>
Whatever options on your antix boot screen (F4? F5?) if they are set to something other than"default", maybe the chosen options are forcing vesa<br>
or are forcing a"can't do, so falls back to vesa" scenario.<br>
(or, can't load the neomagic driver until the xorg config file is created)<br>
<br>
Hmm, typing <strong>man neomagic</strong> doesn't return a manpage for you.<br>
You typed that into a terminal, not into Alt+F2 gExec runbox, right? (Sorry, begs to be asked.)<br>
It's present in this antix15 install, a system having an nvidia geforce 8600... so how did the neomagic stuffs get installed here, but not yours?<br>
Wondering whether something I've installed added that, I checked whatif I remove<br>
xserver-xorg-video-neomagic<br>
shows xserver-xorg-video-all package would be removed. That can't be good!<br>
-=-<br>
Tried a different tack.<br>
<strong>/usr/share/antiX/installed.txt</strong><br>
(file is timestamped Jun29, the date of antix15 release) (contains a manifest of preinstalled packages)
<blockquote class="uncited"><div><strong>line 1353</strong> xserver-xorg-video-neomagic ...... 1:1.2.8-1+b2 ..... X.Org X server -- Neomagic display driver</div></blockquote>
Above, you mentioned antiX-15-V_386-<strong>full</strong> (same here)<br>
Clearly it should be present on your antix15 system.</div>
</div>
</div>

</div>
</div>
<div id="p_43703" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile43703">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">7Saturn</span>
</dt>
<dd class="profile-joined">Joined: 30 Oct 2015</dd>
</dl>
<div class="postbody">
<div id="post_content43703">

<time datetime="2015-11-02T12:14">posted: 2015-11-02 &nbsp; 12:14</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43703" title="permalink">#6</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>should be<br>
Xorg -configure</div></blockquote>Seems to work, in principle. However, I'm stuck with getting the system to go into init 3. Otherwise the x-server is running and the command refuses to generate me a xorg.conf. A »sudo init 3« doesn't seem to do anything.<blockquote><div><cite>skidoo wrote:</cite>If adding (space character and the numeral 3) to the end of your boot line didn't bring you to a runlevel 3 command prompt... I'm stumped.</div></blockquote>So am I. <span class="emoticon"> __{{emoticon}}__ </span>
<blockquote><div><cite>skidoo wrote:</cite>Also, I'm wondering whether your boot options are FORCING vesa to be loaded.<br>
Whatever options on your antix boot screen (F4? F5?)</div></blockquote>When would I have to press that? On GRUB2 the options would be activated with »e«. F4 and F5 didn't seem to have any effect during the entire boot time, except for throwing a few characters on the screen, ack, that I've pressed a key.<blockquote><div><cite>skidoo wrote:</cite>if they are set to something other than"default", maybe the chosen options are forcing vesa<br>
or are forcing a"can't do, so falls back to vesa" scenario.</div></blockquote>I can tell you, what's written into GRUB, if that helps.<blockquote><div><cite>skidoo wrote:</cite>Hmm, typing <strong>man neomagic</strong> doesn't return a manpage for you.
</div></blockquote>No, no, you read that wrong. <span class="emoticon"> __{{emoticon}}__ </span> It <em>does</em> give me the man page.<blockquote><div><cite>skidoo wrote:</cite>Clearly it should be present on your antix15 system.</div></blockquote>And it probably is, as the manpage is. <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_43704" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile43704">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content43704">

<time datetime="2015-11-02T16:18">posted: 2015-11-02 &nbsp; 16:18</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43704" title="permalink">#7</a></span>

<div class="content">F4,F5 are liveboot options. Once installed, boot screen might not display those.<br>
At the moment, I don't have an installed system to check.<br>
<br>
<strong>man Xorg</strong> and <strong>man Xorg.conf</strong><br>
<br>
The result of<br>
cat /var/log/Xorg.0.log|grep vesa<br>
might not be telling the whole story. Something like the following might be more insightful<br>
cat /var/log/Xorg.0.log|grep <strong>--before-context=8 --after-context=4</strong> vesa<br>
to see what (may be) failing and causing a fallback to vesa<br>
<br>
grabbing at straws:<br>
<strong>cp <em>/</em>etc/X11/xorg.conf <em>/</em>etc/X11/xorg.conf_old</strong><br>
then<br>
<strong>nano <em>/</em>etc/X11/xorg.conf</strong><br>
find the the line<br>
Driver"vesa"<br>
and change to<br>
Driver"neomagic" <br>
<br>
<br>
This, especially the mention of memory bandwidth, seems relevant:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.thinkwiki.org/wiki/Neomagic_MagicGraph256ZX"<br>linktext was:"http://www.thinkwiki.org/wiki/Neomagic_MagicGraph256ZX"<br>====================================<br>
<br>
For your PentiumII system, forcing 8-bit color depth might be necessary.</div>
</div>
</div>

</div>
</div>
<div id="p_43705" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile43705">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4</span></div>

</div>
</div>
<span class="username">7Saturn</span>
</dt>
<dd class="profile-joined">Joined: 30 Oct 2015</dd>
</dl>
<div class="postbody">
<div id="post_content43705">

<time datetime="2015-11-02T17:34">posted: 2015-11-02 &nbsp; 17:34</time>
<span class="permalink"><a href="./permuted-rgb-colors-after-x-start-t6009.html#p43705" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite><strong>nano <em>/</em>etc/X11/xorg.conf</strong><br>
find the the line<br>
Driver"vesa"<br>
and change to<br>
Driver"neomagic" </div></blockquote>That did the trick! Many thanks.
<blockquote><div><cite>skidoo wrote:</cite>This, especially the mention of memory bandwidth, seems relevant:<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.thinkwiki.org/wiki/Neomagic_MagicGraph256ZX"<br>linktext was:"http://www.thinkwiki.org/wiki/Neomagic_MagicGraph256ZX"<br>====================================<br>
<br>
For your PentiumII system, forcing 8-bit color depth might be necessary.</div></blockquote>Well, everything looks quite nice. And as this is meant only for office-like jobs, I'm not sure, if I need to change any of these settings. I don't intend to watch a lot of videos on that device, as everything is already not so... fast. =) And presentations... Well, I'd rather take another device on a talk, where I have to show a presentation. So, no harm done, when no big video resolution or beamer resolution with &gt; 1280x1024 is available.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
