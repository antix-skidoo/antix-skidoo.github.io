<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>live USB no load, hangs before done drawing graphic screen - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html">live USB no load, hangs before done drawing graphic screen</a></div>
<div class="pagination">
11 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_48807" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48807">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48807">
<time datetime="2016-10-28T15:54">posted: 2016-10-28 &nbsp; 15:54</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48807" title="permalink">#1</a></span>

<div class="content">Hi ! New guy here ! Here's my question :<br>
<br>
Put <em>AntiX</em> 16 on a USB key (using"<em>Rufus</em>"), but it hangs hard while (<em>Syslinux? Grub2 ?</em>) is drawing the graphic screen, the blue Earth and 7 stars, and the message"press F1 to get help" ... then <span style="text-decoration: underline">hangs</span> and has to be hard reset ! I'm sure the medium is good (boots fine from an even older machine). This seems to be a conflict with the SiS onboard graphics. <br>
<br>
To try and resolve the conflict, I wish I could either specify a VESA graphics mode for booting or even boot in plain BIOS text mode until the linux kernel takes over. <br>
<br>
Can you please guide me in editing the relevant config files on the USB ? <br>
Unfortunately I have no experience using Syslinux/Grub<span style="font-size: 85%; line-height: normal">2</span><br>
<br>
<span style="font-size: 85%; line-height: normal">This machine has an older AMD Athlon-XP class CPU (no SSE2, no 64-bit stuff) but I'm sure it's not an issue per se (and actually AntiX does boot and run the desktop and apps as expected, on this CPU in a VMware virtual machine, the hang is only when booting on"the bare metal" - </span>so I'm reasonably affirmative the problem is with the integrated video and/or video BIOS. unfortunately I don't have a spare PCI or AGP video adapter that I could fit in here that might solve the issue magically... or not...)</div>
</div>
</div>

</div>
</div>
<div id="p_48814" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48814">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48814">

<time datetime="2016-10-28T18:27">posted: 2016-10-28 &nbsp; 18:27</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48814" title="permalink">#2</a></span>

<div class="content"><blockquote><div><cite>Ninho wrote:</cite>To try and resolve the conflict, I wish I could either specify a VESA graphics mode for booting or even boot in plain BIOS text mode until the linux kernel takes over. </div></blockquote>
Mount the live-usb. Rename the file /boot/syslinux/gfx-cpio to /boot/syslinux/gfx-cpio.xxx.<br>
<br>
When you boot the live-usb, follow the instructions on the screen.<br>
<br>
<strong>Edit:</strong> this recipe gives you a simple text menu showing you the available boot options.</div>
</div>
</div>

</div>
</div>
<div id="p_48815" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48815">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48815">

<time datetime="2016-10-28T19:14">posted: 2016-10-28 &nbsp; 19:14</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48815" title="permalink">#3</a></span>

<div class="content">Hello BitJam !<blockquote><div><cite>BitJam wrote:</cite>
Mount the live-usb. Rename the file /boot/syslinux/gfx-cpio to /boot/syslinux/gfx-cpio.xxx.<br>
When you boot the live-usb, follow the instructions on the screen.<br>
This recipe gives you a simple text menu showing you the available boot options.</div></blockquote>
Excellent ! I'll do that for a try! Meanwhile, I've burnt the ISO to a CD - something I haven't done for eons - and, lo and behold, it boots and works fine ! <br>
<br>
This confirms that the hang was caused by Syslinux 6 (at least as configured by Rufus) since it is the part that is only on the USB, not the CD. <br>
<br>
I'm going to install AntiX to a HD partition as a modern replacement for very old Linuces I had, which are no longer supported nor updatable, at least not easily, repositories long gone... If I like it and can find/ maintain the software long term (on the old hardware), I might abandon Winbeast for real, this time.</div>
</div>
</div>

</div>
</div>
<div id="p_48816" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48816">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48816">

<time datetime="2016-10-28 &nbsp; 20:53">posted: 2016-10-28 &nbsp; 20:53</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48816" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>Ninho wrote:</cite>This confirms that the hang was caused by Syslinux 6 (at least as configured by Rufus) since it is the part that is only on the USB, not the CD.</div></blockquote>
I'm delighted you got it to work! <br>
<br>
We use the syslinux bootloader to boot live-cds as well as live-usbs. It's called isolinux for live-cds but it is the same software from the same source. Other than a few minor tweaks that don't affect the booting we just rename a few files to create the /boot/syslinux/ directory from the /boot/isolinux directory. IMO a working live-cd exonerates the syslinux and gfxboot software.<br>
<br>
The important thing is you were able to boot.</div>
</div>
</div>

</div>
</div>
<div id="p_48825" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48825">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48825">

<time datetime="2016-10-29T16:51">posted: 2016-10-29 &nbsp; 16:51</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48825" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>BitJam wrote:</cite> <br>
The important thing is you were able to boot.</div></blockquote>
Sure ! Still curious... The live-CD is perfectly OK as was noted yesterday. <br>
<br>
The live-USB OTOH : after deleting gfx-cpio per your advice, now boots but, so-so. Yes, I'm running from it at the moment, typing this in Dillo :=) <br>
By so-so, I mean I had to make detours to boot the stick (use grub4dos and/or plop), for it would _not_ start directly from my BIOS's built-in boot-from-USB menu (then Syslinux hangs, after printing"Syslinux 1.03" on screen top). In addition to going thru grub or plop , I had to select"safe" from the Syslinux menu in order to boot succesfully, <br>
<br>
Again it's not important, and I'm ready to leave the matter as is, I am just reporting my observations in case it may serve. Boot media made using the latest"Rufus" seem to be very picky. Do you think it would be useful and approrpiate to ping Pete B. (the devoelpper of Rufus) about the subject ?</div>
</div>
</div>

</div>
</div>
<div id="p_48827" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48827">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48827">

<time datetime="2016-10-30T00:57">posted: 2016-10-30 &nbsp; 00:57</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48827" title="permalink">#6</a></span>

<div class="content">Sure, ask Pete B. if you want, maybe he's had similar experiences. I designed our live system so it probably comes down to me. I don't chase down strange errors like this on old hardware like I used to because the answer is always that it is a wacky hardware problem. You could try looking for clues in the output of the"dmesg" command but since the problem starts in the bootloader it is almost certainly hardware related. Booting from usb was not well supported on a lot of older hardware. Perhaps the best scenario is if you find some BIOS option that makes the problems go away. There are no boot options that have any affect on the bootloader. It is possible that you would have better luck with a different usb stick but I don't think it is real likely.<br>
<br>
If you are frustrated with how slow the live-cd is and you have a spare gig or so on a partition on your hard drive then I suggest you try doing a frugal install via the"F5 Persist" menu. When you select frugal again on your next boot then most of the boot will be from the hard drive and should be much faster. Only the kernel and the initrd (and bootloader, of course) will be used from the live-cd.</div>
</div>
</div>

</div>
</div>
<div id="p_48829" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48829">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48829">

<time datetime="2016-10-30T06:29">posted: 2016-10-30 &nbsp; 06:29</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48829" title="permalink">#7</a></span>

<div class="content"><blockquote class="uncited"><div>Sure ! Still curious... The live-CD is perfectly OK</div></blockquote>
There's"extlinux" and"isolinux" packaged within syslinux.<br>
When you boot from CD, isolinux is invoked.<br>
When you boot from live-USB device, extlinux is invoked. 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.syslinux.org/wiki/index.php?title=EXTLINUX"<br>linktext was:"http://www.syslinux.org/wiki/index.php?title=EXTLINUX"<br>====================================<br>
<br>
The extlinux version bundled inside within rufus 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://rufus.akeo.ie/"<br>linktext was:"http://rufus.akeo.ie/"<br>====================================<br>
 is older and is incompatible with the newer version used by antiX.<br>
Same (newer) extlinux is used by most distros, and rufus-created liveUSB will be incompatible with any of those.<br>
<br>
Thing is, in my usage, rufus checks (online), realizes your local syslinux lib files are outdated, and ask permission to d/l the newer syslinux lib files.<br>
Did you not have an internet connection at the time you ran rufus? If not, or if you disallowed the file download, that explains what led to your quandry.<br>
If you allow the download, rufus will indeed create a liveUSB compatible with antiX16 (and recently-released isos of many other distros).</div>
</div>
</div>

</div>
</div>
 <div id="p_48830" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48830">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48830">

<time datetime="2016-10-30T11:42">posted: 2016-10-30 &nbsp; 11:42</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48830" title="permalink">#8</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>
The extlinux version bundled inside within rufus 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://rufus.akeo.ie/"<br>linktext was:"http://rufus.akeo.ie/"<br>====================================<br>
 is older and is incompatible with the newer version used by antiX.[....]<br>
Thing is, in my usage, rufus checks (online), realizes your local syslinux lib files are outdated, and ask permission to d/l the newer syslinux lib files [...]<br>
If you allow the download, rufus will indeed create a liveUSB compatible with antiX16 (and recently-released isos of many other distros).</div></blockquote>
I gave it permission, and it downloaded and used the newer syslinux indeed. This yielded the problematic stick in question :=) There are definitely more delicate details in the way !<br>
<br>
If I really really wanted to spend more time, there would be a couple things I might think of trying like : redoing the stick using the"alternate" style of burning"hybrid" ISOs which the latest rufuses offer, also, try unetbootin (spell?)...<br>
<br>
I'd rather mark this problem as"solved" for all practical purposes. Going to install AntiX to hard disk now, anyway...<br>
<br>
Thank you all for your friendly yet very professional help ! I'm sure to have to come back with more newbie's questions in the near future...;=)</div>
</div>
</div>

</div>
</div>
<div id="p_48834" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48834">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48834">

<time datetime="2016-10-30T14:10">posted: 2016-10-30 &nbsp; 14:10</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48834" title="permalink">#9</a></span>

<div class="content">Just done installing AntiX to HD successfully. Had to make partitions from another OS and tool though, for some reason GParted on yhe AntiX CD would not chain extended partitions properly on this multi-bootingdisk with a dozen preexisting parts. So I had to make a main (ext3) and swap patition using another tool. All is well now as you can see, postion from the installed AntiX system !<br>
<br>
Just not sure the installer has"taken" the swap partition. How do I check if it's using it, and if not, how do I install a swap, please ?<br>
_____________________________________________________________________________________________<br>
System: Host: antix Kernel: 4.4.10-antix.1-486-smp i686 (32 bit gcc: 4.9.3) Desktop: IceWM 1.3.8<br>
Distro: antiX-16_386-full Berta Cáceres 26 June 2016<br>
Machine: System: American Megatrends product: K7S41 v: 1.0<br>
Mobo: N/A model: K7S41 v: 1.0 Bios: American Megatrends v: P2.80 date: 10/18/2006<br>
CPU: Single core AMD Sempron 2400+ (-UP-) cache: 256 KB<br>
flags: (pae sse) bmips: 3359 speed: 1679 MHz (max)<br>
Graphics: Card: Silicon Integrated Systems [SiS] 661/741/760 PCI/AGP or 662/761Gx PCIE VGA Display Adapter<br>
bus-ID: 01:00.0<br>
Display Server: X.Org 1.16.4 driver: N/A Resolution: 1280x1024@60.00hz<br>
GLX Renderer: Gallium 0.4 on llvmpipe (LLVM 3.5, 128 bits)<br>
GLX Version: 3.0 Mesa 10.3.2 Direct Rendering: Yes<br>
Audio: Card Silicon Integrated Systems [SiS] SiS7012 AC'97 Sound Controller<br>
driver: snd_intel8x0 ports: dc00 d800 bus-ID: 00:02.7<br>
Sound: Advanced Linux Sound Architecture v: k4.4.10-antix.1-486-smp<br>
Network: Card: Silicon Integrated Systems [SiS] SiS900 PCI Fast Ethernet<br>
driver: sis900 port: d400 bus-ID: 00:04.0<br>
IF: eth0 state: up speed: 100 Mbps duplex: full mac: &lt;filter&gt;<br>
Drives: HDD Total Size: 162.0GB (1.6% used) ID-1: /dev/sda model: MAXTOR_STM380215 size: 80.0GB<br>
ID-2: /dev/sdb model: Maxtor_6L080L0 size: 82.0GB<br>
Partition: ID-1: / size: 9.1G used: 2.5G (29%) fs: ext3 dev: /dev/sda6<br>
Sensors: None detected - is lm-sensors installed and configured?<br>
Info: Processes: 124 Uptime: 28 min Memory: 123.2/971.5MB Init: SysVinit runlevel: 5 Gcc sys: 4.9.2<br>
Client: Shell wrapper inxi: 2.3.0<br>
____________________________________________________________________________________________</div>
</div>
</div>

</div>
</div>
<div id="p_48840" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48840">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content48840">

<time datetime="2016-10-30T16:52">posted: 2016-10-30 &nbsp; 16:52</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48840" title="permalink">#10</a></span>

<div class="content"><blockquote class="uncited"><div>How do I check if it's using it</div></blockquote>
To check swap status: at a terminal prompt, type <span style="color: green">swapon -s</span></div>
</div>
</div>

</div>
</div>
<div id="p_48844" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48844">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 69</span></div>

</div>
</div>
<span class="username">Ninho</span>
</dt>
<dd class="profile-joined">Joined: 28 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48844">

<time datetime="2016-10-30T17:46">posted: 2016-10-30 &nbsp; 17:46</time>
<span class="permalink"><a href="./live-usb-no-load-hangs-before-done-drawing-graphic-t6655.html#p48844" title="permalink">#11</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>To check swap status: at a terminal prompt, type <span style="color: green">swapon -s</span></div></blockquote>
Thank you, Skidoo. turns outl the installer failed to set a swap up for some mysterious reason : I've put the question as a new thread.<br>
<br>
-- <br>
Ninho</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
11 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
