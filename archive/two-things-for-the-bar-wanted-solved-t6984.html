<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Two things for the bar wanted (SOLVED) - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./two-things-for-the-bar-wanted-solved-t6984.html">Two things for the bar wanted (SOLVED)</a></div>
<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="viewtopic_wrapper">
<div id="p_51380" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile51380">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 75</span></div>

</div>
</div>
<span class="username">M_Mynaardt</span>
</dt>
<dd class="profile-joined">Joined: 11 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content51380">
<time datetime="2017-05-12T04:21">posted: 2017-05-12 &nbsp; 04:21</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51380" title="permalink">#1</a></span>

<div class="content">Hi, All.<br>
<br>
Just wondering if there are two things available for the antiX task bar over all the DEs:<br>
1. a graphic battery monitor to give you some idea of how much charge is left<br>
(mostly because Conky only shows on desktop one with IceWM)<br>
2. a keyboard changer (I like using the Spanish or Polytonic Greek keyboard sometimes)<br>
<br>
Thanks in advance!</div>
<div class="notice">
Last edited by <b>M_Mynaardt</b> on 14 May 2017, 15:00, edited 1 time in total.
</div>
 </div>
</div>

</div>
</div>
<div id="p_51381" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile51381">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content51381">

<time datetime="2017-05-12T04:55">posted: 2017-05-12 &nbsp; 04:55</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51381" title="permalink">#2</a></span>

<div class="content">for info on battery monitor in tray apps, read these:<br>
batti-gtk-solved-t4662-15.html<br>
image-level-battery-t6615.html<br>
(I've never tested whether each given app works in"all" icwm/JWM/fluxbox)<br>
<br>
a keyboard changer:<br>
<span style="color: green">~/.desktop-session/startup</span><br>
Preinstalled in your antiX session startup file, you should have lines which read:<br>
<em>#Puts a flag on the taskbar to show which keyboard is being used<br>
#fbxkb</em><br>
^--- remove the hash symbol &amp; save the edited file. Now each time you start a new desktop session, fbxkb should autostart &amp; show up in the tray</div>
</div>
</div>

</div>
</div>
<div id="p_51384" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile51384">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 75</span></div>

</div>
</div>
<span class="username">M_Mynaardt</span>
</dt>
<dd class="profile-joined">Joined: 11 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content51384">

<time datetime="2017-05-12T21:29">posted: 2017-05-12 &nbsp; 21:29</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51384" title="permalink">#3</a></span>

<div class="content"><span style="color: #004080"><strong>Hello, again, skidoo!</strong></span><br>
<span style="text-decoration: underline">Most</span> of the way there, with just a couple of minor aesthetic problems. <br>
<br>
For the battery monitor bit, I couldn't quite figure out how to make sense of those examples.<br>
But they did make me think to look in Synaptic (which I should've tried before).<br>
I found one that works: <strong>fdpowermon</strong>.<br>
It's very simple, but shows up nicely in the IceWM, Fluxbox and JWM task bars.<br>
<br>
So far so good.<br>
<br>
I mostly got the keyboard switcher working too.<br>
I made the recommended change in <span style="color: #008000">~/.desktop-session/startup</span><br>
But I had to dig a bit via google to find out how to set fbxkb for multiple keyboards.<br>
Took a while, but I finally figured out that if you want variant keyboards (like I do), you need to put all the keyboard codes in single quotes.<br>
I finally got it right using this:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>setxkbmap -option grp:switch,grp:shifts_toggle,grp_led:scroll 'ca(eng),es,epo,gr(polytonic)'</code></pre></div>
There are only two minor (aesthetic) problems, though:<br>
1. If I switch to either Fluxbox or JWM, the keyboard icon shows up twice on the task bar. It doesn't do this in IceWM, though.<br>
2. that <strong>setxkbmap</strong> command is supposed to allow you to toggle through keyboards using both shift keys. <br>
But that doesn't happen. A left-click from the mouse still works.<br>
<br>
Anyway, I have got most of what I was looking for.<br>
<br>
But if I can fix the <strong>fbxkb</strong> double icons in Fluxbox and JWM, as well as the double shift-key thing, that would be icing on the cake!<br>
<br>
Thanks again!</div>
</div>
</div>

</div>
</div>
<div id="p_51386" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile51386">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content51386">

<time datetime="2017-05-13T06:10">posted: 2017-05-13 &nbsp; 06:10</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51386" title="permalink">#4</a></span>

<div class="content">The"multiple instances" probably can be resolved by adding 2 lines<br>
<span style="color: green">killall fbxkb &amp;<br>
sleep 2 &amp;</span><br>
immediately before the newly-added <span style="color: green">fbxkb &amp;</span> line in the startup file.<br>
<br>
Hopefully someone else reading this can provide insight regarding the unexpected <strong>setxkbmap</strong> behavior.</div>
</div>
</div>

</div>
</div>
<div id="p_51390" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile51390">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 75</span></div>

</div>
</div>
<span class="username">M_Mynaardt</span>
</dt>
<dd class="profile-joined">Joined: 11 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content51390">

<time datetime="2017-05-14T14:59">posted: 2017-05-14 &nbsp; 14:59</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51390" title="permalink">#5</a></span>

<div class="content"><span style="color: #0000FF">Hello yet again, Skidoo:</span><br>
<br>
I did try what you suggested in <span style="color: #00BF00">~/.desktop-session/startup</span> to have this code (without comments):
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>killall fbxkb &amp;
sleep 2 &amp;
fbxkb &amp;
setxkbmap -option grp:switch,grp:shifts_toggle,grp_led:scroll 'ca(eng),es,epo,gr(polytonic)' &amp;</code></pre></div>
Unfortunately, that didn't work. The fbxkb icon showed up in IceWM, but not in either Fluxbox nor JWM.<br>
<br>
<strong><span style="color: #FF0080">However</span></strong>, I had a thought! <span class="emoticon"> __{{emoticon}}__ </span> <br>
… <em><span style="color: #000040">when I regained consciousness</span></em> … <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
Seriously, though, it occurred to me that maybe I should put the <span style="color: #008000">setxkbmap</span> command <span style="text-decoration: underline">before</span> the <span style="color: #008000">fbxkb</span> command.<br>
So, I tried that, without the <span style="color: #008000">killall</span> and <span style="color: #008000">sleep</span> commands above.<br>
<br>
And … <em><strong>voilà!</strong></em> … it worked! <span class="emoticon"> __{{emoticon}}__ </span> <br>
No more duplicates of the keyboard icon. <span class="emoticon"> __{{emoticon}}__ </span> <br>
<br>
Of course, I don't know <em>why</em> the order makes a difference.<br>
But it did occur to me that the sequence of commands often does make a difference in computers.<br>
<br>
Anyway, I changed the keyboard commands in <span style="color: #00BF00">~/.desktop-session/startup</span> to this (including comments this time):
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Sets the keyboard convfiguration to what I like:
# Canada (English), Spanish, Esperanto and Polytonic Greek
setxkbmap -option grp:switch,grp:shifts_toggle,grp_led:scroll 'ca(eng),es,epo,gr(polytonic)' &amp;

# Puts a flag on the taskbar to show which keyboard is being used.
fbxkb &amp;

# NOTE:  Put setxkbmap before fbxkb
# otherwise, there are multiples of the keyboard icon in both Fluxbox and JWM</code></pre></div>
Anyway, thanks for the responses.<br>
I probably wouldn't have thought to try what I did to make it work.<br>
<br>
And I thought I'd just post it here, in case someone else wants multiple keyboards on their own task bars.<br>
<br>
Thanks again!</div>
<div class="notice">
Last edited by <b>M_Mynaardt</b> on 14 May 2017, 17:27, edited 1 time in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_51391" class="post has-profile bg1">
<div class="inner">
 <dl class="postprofile" id="profile51391">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content51391">

<time datetime="2017-05-14T17:07">posted: 2017-05-14 &nbsp; 17:07</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51391" title="permalink">#6</a></span>

<div class="content">Thanks for reporting the solution. The info will be helpful for anyone else searching the forum.</div>
</div>
</div>

</div>
</div>
<div id="p_51392" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile51392">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 75</span></div>

</div>
</div>
<span class="username">M_Mynaardt</span>
</dt>
<dd class="profile-joined">Joined: 11 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content51392">

<time datetime="2017-05-14T17:28">posted: 2017-05-14 &nbsp; 17:28</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51392" title="permalink">#7</a></span>

<div class="content">No problem.<br>
Always glad to do my bit.</div>
</div>
</div>

</div>
</div>
<div id="p_51434" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile51434">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 16</span></div>

</div>
</div>
<span class="username">gelosoil</span>
</dt>
<dd class="profile-joined">Joined: 19 Feb 2017</dd>
</dl>
<div class="postbody">
<div id="post_content51434">

<time datetime="2017-05-22T13:29">posted: 2017-05-22 &nbsp; 13:29</time>
<span class="permalink"><a href="./two-things-for-the-bar-wanted-solved-t6984.html#p51434" title="permalink">#8</a></span>

<div class="content">Fantastic job!!I ve been looking for a solution sometime now!<br>
I couldnt get the language switching working ,and this solved it!..(I could only change input language through the CC-Session-Keyboard option ,which was really inconvenient..<span class="emoticon"> __{{emoticon}}__ </span>:)Thank you !!</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
8 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
