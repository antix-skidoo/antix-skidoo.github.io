<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>re-installing grub - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-16-berta-caceres-f58/index.html"><span>antiX-16 Berta CÃ¡ceres</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./re-installing-grub-t6563.html">re-installing grub</a></div>
<div class="pagination">
17 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./re-installing-grub-t6563-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./re-installing-grub-t6563-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_47963" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47963">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 903</span></div>

</div>
</div>
<span class="username">plvera</span>
</dt>
<dd class="profile-joined">Joined: 11 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content47963">
<time datetime="2016-08-25T13:18">posted: 2016-08-25 &nbsp; 13:18</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47963" title="permalink">#1</a></span>

<div class="content">Hello,<br>
Battery power in my laptop reached zero and turned off.<br>
It seems to have messed up Grub, windows 10 boot is still ok..<br>
I have tried updating grub and install-grub and get a message about not liking blocklists and won't reinstall so I'm using a grub2 boot disk to boot manually.<br>
Any suggestions on how to reinstall grub? Again it's a dual sytem boot with Antix and windows 10.<br>
<br>
thanks.</div>
</div>
</div>

</div>
</div>
<div id="p_47965" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47965">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">

<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content47965">

<time datetime="2016-08-25T15:38">posted: 2016-08-25 &nbsp; 15:38</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47965" title="permalink">#2</a></span>

<div class="content">With weird Windows barriers on certain laptops.<br>
<br>
I have had good luckk with the live cd I made of<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://sourceforge.net/projects/boot-repair-cd/"<br>linktext was:"https://sourceforge.net/projects/boot-repair-cd/"<br>====================================<br>
<br>
<br>
You might get other suggestions using a MX cd maybe also.</div>
</div>
</div>

</div>
</div>
<div id="p_47969" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47969">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 903</span></div>

</div>
</div>
<span class="username">plvera</span>
</dt>
<dd class="profile-joined">Joined: 11 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content47969">

<time datetime="2016-08-25T17:49">posted: 2016-08-25 &nbsp; 17:49</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47969" title="permalink">#3</a></span>

<div class="content">Roky,<br>
thanks for suggestion. I'll give it a try.<br>
<br>
P.S. The boot-repair-disk did not like that I was running legacy, wanted me to switch to EFI. When I do that. I can't see the cd drive to boot the disk.<br>
So, I"m still still stuck. <br>
I had to fix this once but I forgot how, something about set root(hd0,gpt5) and then reinstall grub<br>
Been trying to find the right instructions with no luck</div>
</div>
</div>

</div>
</div>
<div id="p_47978" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47978">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,139</span></div>

</div>
</div>
<span class="username">masinick</span>
</dt>
<dd class="profile-joined">Joined: 26 Apr 2008</dd>
</dl>
<div class="postbody">
<div id="post_content47978">

<time datetime="2016-08-26T18:26">posted: 2016-08-26 &nbsp; 18:26</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47978" title="permalink">#4</a></span>

<div class="content"><blockquote><div><cite>plvera wrote:</cite>Roky,<br>
thanks for suggestion. I'll give it a try.<br>
<br>
P.S. The boot-repair-disk did not like that I was running legacy, wanted me to switch to EFI. When I do that. I can't see the cd drive to boot the disk.<br>
So, I"m still still stuck. <br>
I had to fix this once but I forgot how, something about set root(hd0,gpt5) and then reinstall grub<br>
Been trying to find the right instructions with no luck</div></blockquote>
<br>
A few sites to consider as resources:<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://wiki.archlinux.org/index.php/Master_Boot_Record"<br>linktext was:"https://wiki.archlinux.org/index.php/Master_Boot_Record"<br>====================================<br>
 <br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.linuxjournal.com/magazine/hack-and-when-disaster-strikes-restoring-master-boot-record"<br>linktext was:"http://www.linuxjournal.com/magazine/ha ... oot-record"<br>====================================<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.sorgonet.com/linux/grubrestore/"<br>linktext was:"http://www.sorgonet.com/linux/grubrestore/"<br>====================================<br>
</div>
</div>
</div>

</div>
</div>
<div id="p_47988" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47988">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,445</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content47988">

<time datetime="2016-08-27T16:22">posted: 2016-08-27 &nbsp; 16:22</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47988" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>plvera wrote:</cite>I had to fix this once but I forgot how, something about set root(hd0,gpt5) and then reinstall grub</div></blockquote>
Yep, this is perfect example of why it's important for folks to followup by posting a solution they've found<br>
testers-with-windows-os-needed-t4406-15.html?hilit=grub<br>
<br>
howabout<blockquote><div><cite>plvera wrote:</cite><strong>
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"antix.freeforu ms.org/post30250.html?hilit=boot#p30250"<br>linktext was:"antix.freeforu ms.org/post30250.h ... oot#p30250"<br>====================================<br>
</strong><br>
Hello everyone:<br>
<br>
I have a new HP envy 17 laptop that came with windows 8. I tried booting up antix 13 and was unable. The disk boots fine in other laptops.<br>
Grub did not come up. I set the bios settings to disable secure boot; enable legacy and nothing seems to work so far.<br>
<br>
Any suggestions?<br>
<br>
thanks.<br>
<br>
Pedro<br>
<br>
<span style="color: blue"><strong>EDIT: Figured it out! I had to press escape key (even after I had changed device boot order) in order to pick cd/dvd so that it would not go straight to win8. Now antix13 (64 edition) booted up; ceni picked up wireless and everything is running great!</strong></span></div></blockquote></div>
</div>
</div>

</div>
</div>
<div id="p_47991" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile47991">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 903</span></div>

</div>
</div>
<span class="username">plvera</span>
</dt>
<dd class="profile-joined">Joined: 11 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content47991">

<time datetime="2016-08-28T12:14">posted: 2016-08-28 &nbsp; 12:14</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47991" title="permalink">#6</a></span>

<div class="content">@skidoo<br>
<br>
Thanks for pointing that out yet it's a different problem. The legacy boot is ok and the dvd drive is picked up that's how I'm using a grub restore disk to bring up the grub boot options.<br>
<br>
Restoring that grub menu to come up is what I'm struggling with.<br>
<br>
@massinick:<br>
<br>
Thanks for links. I'll follow up and see if I can fix this.</div>
</div>
</div>

</div>
</div>
<div id="p_47992" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile47992">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 903</span></div>

</div>
</div>
<span class="username">plvera</span>
</dt>
<dd class="profile-joined">Joined: 11 Oct 2008</dd>
</dl>
<div class="postbody">
<div id="post_content47992">

<time datetime="2016-08-28T12:37">posted: 2016-08-28 &nbsp; 12:37</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p47992" title="permalink">#7</a></span>

<div class="content">The solution was easier than I thought.<br>
<br>
grub-install /dev/sda <br>
<br>
was giving me the warning about blocklists not being recommended and not installling.<br>
<br>
grub-install --force /dev/sda<br>
<br>
did the trick.<br>
<br>
Thanks for the suggestions.</div>
</div>
</div>

</div>
</div>
<div id="p_48935" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48935">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 6</span></div>

</div>
</div>
<span class="username">sxe</span>
</dt>
<dd class="profile-joined">Joined: 19 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48935">

<time datetime="2016-11-04T19:05">posted: 2016-11-04 &nbsp; 19:05</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p48935" title="permalink">#8</a></span>


<div class="content"><blockquote><div><cite>plvera wrote:</cite>
grub-install --force /dev/sda
</div></blockquote>
my pc says command not found</div>
</div>
</div>

</div>
</div>
<div id="p_48936" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48936">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content48936">

<time datetime="2016-11-04T19:06">posted: 2016-11-04 &nbsp; 19:06</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p48936" title="permalink">#9</a></span>

<div class="content">Do it as root</div>
</div>
</div>

</div>
</div>
<div id="p_48942" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48942">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 6</span></div>

</div>
</div>
<span class="username">sxe</span>
</dt>
<dd class="profile-joined">Joined: 19 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48942">

<time datetime="2016-11-04T20:13">posted: 2016-11-04 &nbsp; 20:13</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p48942" title="permalink">#10</a></span>

<div class="content">now at reboot.<br>
"minimal bash-like line editing is supported. for the first word, tab lists possible command completions. anywhere else tab lists possible device or file completions.<br>
grub&gt;"</div>
</div>
</div>

</div>
</div>
<div id="p_48946" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48946">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 45</span></div>

</div>
</div>
<span class="username">hobbyist7890</span>
</dt>
<dd class="profile-joined">Joined: 24 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48946">

<time datetime="2016-11-04T23:42">posted: 2016-11-04 &nbsp; 23:42</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p48946" title="permalink">#11</a></span>

<div class="content">Try <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>update-grub</code></pre></div> so you will get a new /boot/grub/grub.cfg if you can boot your antix first.<br>
That should remake your grub menu and reinstall to your sda.<br>
<br>
.</div>
</div>
</div>

</div>
</div>
<div id="p_48954" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile48954">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 6</span></div>

</div>
</div>
<span class="username">sxe</span>
</dt>
<dd class="profile-joined">Joined: 19 Oct 2016</dd>
</dl>
<div class="postbody">
<div id="post_content48954">

<time datetime="2016-11-05T11:19">posted: 2016-11-05 &nbsp; 11:19</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p48954" title="permalink">#12</a></span>

<div class="content">Ok... <br>
But now in the grub i have only windows... Where is antix?</div>
</div>
</div>

</div>
</div>
<div id="p_48956" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile48956">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content48956">

<time datetime="2016-11-05T11:49">posted: 2016-11-05 &nbsp; 11:49</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p48956" title="permalink">#13</a></span>

<div class="content"><blockquote><div><cite>sxe wrote:</cite>Ok... <br>
But now in the grub i have only windows... Where is antix?</div></blockquote>
<span class="emoticon"> __{{emoticon}}__ </span> Boot a live session and find out. `<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo fdisk -l</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_49010" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile49010">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,139</span></div>

</div>
</div>
<span class="username">masinick</span>
</dt>
<dd class="profile-joined">Joined: 26 Apr 2008</dd>
</dl>
<div class="postbody">
<div id="post_content49010">

<time datetime="2016-11-07T17:17">posted: 2016-11-07 &nbsp; 17:17</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p49010" title="permalink">#14</a></span>

<div class="content"><blockquote><div><cite>hobbyist7890 wrote:</cite>Try <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>update-grub</code></pre></div> so you will get a new /boot/grub/grub.cfg if you can boot your antix first.<br>
That should remake your grub menu and reinstall to your sda.<br>
<br>
.</div></blockquote>
update-grub will indeed perform the steps necessary to update the grub configuration file grub.cfg mentioned above. What<br>
update-grub does not do is update the Master Boot Record (MBR). That task falls to other things.<br>
<br>
The Debian Wiki at 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://wiki.debian.org/Grub"<br>linktext was:"https://wiki.debian.org/Grub"<br>====================================<br>
 describes what GRUB does and also provides some history between the previous version of GRUB, known as GRUB 1, also known as GRUB Legacy.<br>
<br>
Wikipedia ( 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://en.wikipedia.org/wiki/GNU_GRUB"<br>linktext was:"https://en.wikipedia.org/wiki/GNU_GRUB"<br>====================================<br>
 ) gives a different perspective and implies that you will get the boot record updated. That may be true in many cases, but not in all cases, based on my experience. When UEFI is involved, whatever system is managing the boot block will handle it. If antiX or MX is handling it, then yes, it will continue to do so, but if not, the system controlling the Master Boot Record must be the system to update it.<br>
<br>
The script grub-install, followed by the location of the MBR, such as grub-install /dev/sda will sometimes work, if your system manages the MBR, but even this doesn't work in all cases with UEFI.<br>
<br>
If you are affected by this, let me know; I have a library of articles that I've read as I was dealing with this myself. If you're fortunate, update-grub will be all that you need (and this is nothing but extra noise and details for complex implementations). <span class="emoticon"> __{{emoticon}}__ </span></div>
</div>
</div>

</div>
</div>
<div id="p_49013" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile49013">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 45</span></div>

</div>
</div>
<span class="username">hobbyist7890</span>
</dt>
<dd class="profile-joined">Joined: 24 Apr 2016</dd>
</dl>
<div class="postbody">
<div id="post_content49013">

<time datetime="2016-11-07T23:54">posted: 2016-11-07 &nbsp; 23:54</time>
<span class="permalink"><a href="./re-installing-grub-t6563.html#p49013" title="permalink">#15</a></span>

<div class="content"><blockquote><div><cite>masinick wrote:</cite>
The script grub-install, followed by the location of the MBR, such as grub-install /dev/sda will sometimes work, if your system manages the MBR, but even this doesn't work in all cases with UEFI.
</div></blockquote>
The first question to ask is whether this is a UEFI install with GPT or a Legacy install with GPT or MBR. This thread has two problems to choose from so there is some confusion about the real answer.<br>
<br>
I have several systems both UEFI and MBR and each has several partitions for various OS installs. My Legacy boot has one OS controlling the MBR GRUB with the rest of the OS installs having boot / partition installs although they don't really do anything. The lead OS looks in every partition for an OS and creates the grub.cfg and updates the MBR GRUB when I enter 'update-grub'. The 'update-grub' in any of the other partitions just stays in the partition so doesn't change anything. I think some installations do not reinstall the GRUB to the MBR automatically so I am lucky there.<br>
<br>
My UEFI system creates a separate bootloader for each OS and they are all available to the UEFI. I can choose any of the bootloaders and each bootloader contains all of the OS choices on the disk just in a different order. So the 'update-grub' on the UEFI just creates the grub.cfg for that partition and then I still need to install the grub into the ESP partition. I think some installations will reinstall the bootloader into the ESP automatically unlike my setup so I do this for antix:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=antix</code></pre></div>
Only a Legacy installation puts the GRUB in the /dev/sda MBR so anybody with questions should first explain if they have a UEFI or Legacy install or risk getting two answers to the question.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
17 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./re-installing-grub-t6563-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./re-installing-grub-t6563-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
