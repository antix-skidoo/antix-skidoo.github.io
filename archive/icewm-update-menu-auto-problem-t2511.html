<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>IceWM Update Menu (Auto) problem - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./releases-old-f44/index.html"><span>Releases (Old)</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-m8-5-marek-edelman-f40/index.html"><span>antiX-M8.5 Marek Edelman</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./icewm-update-menu-auto-problem-t2511.html">IceWM Update Menu (Auto) problem</a></div>
<div class="pagination">
18 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./icewm-update-menu-auto-problem-t2511-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./icewm-update-menu-auto-problem-t2511-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_16212" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16212">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16212">
<time datetime="2010-06-19T09:06">posted: 2010-06-19 &nbsp; 09:06</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16212" title="permalink">#1</a></span>


<div class="content">Please help me to solve this:<br>
the applications submenu becomes empty when I install a new application or click on auto update.<br>
From terminal I got this:<br>
<br>
***@antiX2:~$ icewm_menu2.sh <br>
Traceback (most recent call last):<br>
File"/home/***/.icewm/icemenuyap2.py", line 30, in &lt;module&gt;<br>
import gconf,os,sys,random,mimetypes,glob<br>
ImportError: /usr/lib/pymodules/python2.5/gtk-2.0/gconf.so: undefined symbol: gconf_unset_flags_get_type<br>
<br>
I don't dare to reinstall gconf2, because it would pull so many important things with itself.<br>
<br>
Thanks in advance.</div>
</div>
</div>

</div>
</div>
<div id="p_16213" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16213">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16213">

<time datetime="2010-06-19T11:47">posted: 2010-06-19 &nbsp; 11:47</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16213" title="permalink">#2</a></span>

<div class="content">This can be due to Python 2.5 being replaced by Python 2.6 in Sid (Debian unstable). If so, not only this but all things python related may not work properly.<br>
Have you the Sid repos enabled? If you did, the best way to update the system is with smxi because it warns about these things and also put the 'problematic' packages on hold.<br>
You could maybe run smxi and see the alert message about that, then note the affected packages, purge them and then install the testing versions for them. As an example, if the affected package is python-2.6, then you would do<br>
apt-get purge python-2.6<br>
apt-get install -t testing python-2.6<br>
<br>
If instead you have just normal Debian testing repos enabled then it can be something else.</div>
 </div>
</div>

</div>
</div>
<div id="p_16216" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16216">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16216">

<time datetime="2010-06-19T13:25">posted: 2010-06-19 &nbsp; 13:25</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16216" title="permalink">#3</a></span>

<div class="content">Thanks secipolla,<br>
unfortunally It's something else, I've never used unstable repos...<br>
But both python2.5 and 2.6 are installed (there is an /usr/lib/python2.6 folder), I purged 2.6 and tried menu update, unsuccessfully.<br>
Then<br>
apt-get install -t testing python-2.6<br>
<br>
No change, menu update still doesn't work.<br>
<br>
(dist-upgrade with smxi didn't give alerts or errors (except a wicd related one, this is another problem))</div>
</div>
</div>

</div>
</div>
<div id="p_16218" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16218">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16218">

<time datetime="2010-06-19T13:54">posted: 2010-06-19 &nbsp; 13:54</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16218" title="permalink">#4</a></span>

<div class="content">Just to make sure your ~/.icewm/icemenuyap2.py is correct, you may compare it with the one in /etc/skel/.icewm.<br>
Otherwise you may re-install python-gconf<br>
apt-get purge python-gconf<br>
apt-get install python-gconf<br>
But do this outside icewm so the current running system doesn't affect things. Reboot to level 3 or from the slim login screen enter <em>exit</em> in the username field. Then after you finish,to log to icewm, run<br>
/etc/init.d/slim start<br>
<br>
smxi didn't give any alert because you're using just testing repos.</div>
</div>
</div>

</div>
</div>
<div id="p_16220" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16220">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16220">

<time datetime="2010-06-19T14:57">posted: 2010-06-19 &nbsp; 14:57</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16220" title="permalink">#5</a></span>

<div class="content">Still broken.<br>
<br>
As a temporary workaround I can change the ~/.icewm/application owner to root, so it can't be overwriten with an empty file.</div>
</div>
</div>

</div>
</div>
<div id="p_16221" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16221">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16221">

<time datetime="2010-06-19T16:06">posted: 2010-06-19 &nbsp; 16:06</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16221" title="permalink">#6</a></span>

<div class="content">If it's something gconf related maybe another try would be to delete ~/.gconf/%gconf.xml and ~/.gconfd (but then logout and login for it to have any effect).</div>
</div>
</div>

</div>
</div>
<div id="p_16222" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16222">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content16222">

<time datetime="2010-06-19T16:09">posted: 2010-06-19 &nbsp; 16:09</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16222" title="permalink">#7</a></span>

<div class="content">benji, which version of antiX are you using?<br>
<br>
inxi -F</div>
</div>
</div>

</div>
</div>
<div id="p_16223" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16223">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16223">

<time datetime="2010-06-19T16:36">posted: 2010-06-19 &nbsp; 16:36</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16223" title="permalink">#8</a></span>

<div class="content">@secipolla: there are no ~/.gconf/%gconf.xml and ~/.gconfd,<br>
only ~/.gconf/apps/%gconf.xml and ~/.gconf/desktop/%gconf.xml, maybe this is the problem?<br>
<br>
@anti: Kernel 2.6.32-1-mepis-smp i686 (32 bit) Distro antiX-M8.5 Marek Edelman 11 April 2010<br>
CPU: Single core Intel Pentium M (UP) cache 1024 KB flags (sse sse2) bmips 2798.99 clocked at 1400.00 MHz <br>
Graphics: Card ATI Radeon Mobility M7 LW [Radeon Mobility 7500] X.Org 1.7.7 Res: 1024x768@60.0hz<br>
<br>
It's a compaq evo n620c laptop.<br>
<br>
And thank you for your efforts.</div>
</div>
</div>

</div>
</div>
<div id="p_16224" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16224">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content16224">

<time datetime="2010-06-19T17:29">posted: 2010-06-19 &nbsp; 17:29</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16224" title="permalink">#9</a></span>

<div class="content">I have seen this before.<br>
<br>
Does auto update work in fluxbox?<br>
<br>
If it does, then delete the application file and the icemenuyap2.py file from ~/.icewm then<br>
<br>
cp /usr/share/antiX/localisation/en/icewm/icemenuyap2.py /home/yourusername/.icewm<br>
<br>
Logout and login and see if the applications section has regenerated a new menu.</div>
 </div>
</div>

</div>
</div>
<div id="p_16232" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16232">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16232">

<time datetime="2010-06-19T18:01">posted: 2010-06-19 &nbsp; 18:01</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16232" title="permalink">#10</a></span>

<div class="content">Failed in fluxbox, too.</div>
</div>
</div>

</div>
</div>
<div id="p_16234" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16234">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content16234">

<time datetime="2010-06-19T18:17">posted: 2010-06-19 &nbsp; 18:17</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16234" title="permalink">#11</a></span>

<div class="content">Try the above in both fluxbox and icewm.</div>
</div>
</div>

</div>
</div>
<div id="p_16237" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16237">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16237">

<time datetime="2010-06-19T18:42">posted: 2010-06-19 &nbsp; 18:42</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16237" title="permalink">#12</a></span>

<div class="content">I tried, deleted the application file, the icemenuyap2.py (or applications and gnome2fluxmenu4.py in fluxbox) copied them back from /usr/share/antiX/localisation/en/... logout login to the other wm,<br>
new application files were generated, but they are empty in both cases.</div>
</div>
</div>

</div>
</div>
<div id="p_16241" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16241">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16241">

<time datetime="2010-06-19T21:21">posted: 2010-06-19 &nbsp; 21:21</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16241" title="permalink">#13</a></span>

<div class="content">The file /usr/lib/pymodules/python2.5/gtk-2.0/gconf.so is a link to a file from python-gconf. Since you already re-installed it then maybe your home configuration can be remembering the error. You could examine the ~/.gconf and ~/.gconfd directories and delete the general configuration file(s) keeping of course the application specific files so you don't lose their setup. Then logout-login (sometimes logout-login isn't enough to 'reset' some things so maybe has to reboot).<br>
This is just an hypotheses,though.</div>
</div>
</div>

</div>
</div>
<div id="p_16252" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile16252">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 27</span></div>

</div>
</div>
<span class="username">benji</span>
</dt>
<dd class="profile-joined">Joined: 10 Nov 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16252">

<time datetime="2010-06-20T09:59">posted: 2010-06-20 &nbsp; 09:59</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16252" title="permalink">#14</a></span>

<div class="content">Well, thanks secipolla, but it didn't work either.<br>
I even created a new user, but the Applications submenu is broken, and now I remember that it was broken when I installed AntiX 8.5 a few months ago, too. I had to copy the application file from my other pc and give the owner rights to root.<br>
This misterious problem seems pretty unique and unreproducable, leastways I didn't find anything useful on the internet. Maybe somthings wrong with this hardware.<br>
Not a big deal, I will edit the menu manually.<br>
<br>
Have a nice day!</div>
</div>
</div>

</div>
</div>
<div id="p_16257" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile16257">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,228</span></div>

</div>
</div>
<span class="username">secipolla</span>
</dt>
<dd class="profile-joined">Joined: 15 Jun 2008</dd>
</dl>
<div class="postbody">
<div id="post_content16257">

<time datetime="2010-06-20T10:58">posted: 2010-06-20 &nbsp; 10:58</time>
<span class="permalink"><a href="./icewm-update-menu-auto-problem-t2511.html#p16257" title="permalink">#15</a></span>

<div class="content">Just saying, but since it was broken when you installed antiX then almost for sure you have a corrupt installation. Like you could check that easily by running a (md5sum verified) live-cd.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
18 posts
<ul>
<li class="active"><span>1</span></li>
<li><a class="button" href="./icewm-update-menu-auto-problem-t2511-s15.html" role="button">2</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./icewm-update-menu-auto-problem-t2511-s15.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
