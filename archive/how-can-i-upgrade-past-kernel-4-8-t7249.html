<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>How can I upgrade past kernel 4.8? - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-16-berta-caceres-f58/index.html"><span>antiX-16 Berta Cáceres</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html">How can I upgrade past kernel 4.8?</a></div>
<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_53870" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile53870">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">kingneutron</span>
</dt>
<dd class="profile-joined">Joined: 02 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content53870">
<time datetime="2017-10-22T20:11">posted: 2017-10-22 &nbsp; 20:11</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53870" title="permalink">#1</a></span>

<div class="content">This idi0tic forum bl0ckzored my first attempt at posting (and deleted it) so here goes try #2:<br>
<br>
Currently I'm on kernel 4.8 and use Virtualbox and ZFS from repos.  Every time I try to upgrade to an LTS kernel I get errors:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># apt-cache search 4.9.0-0.bpo.3-amd64 |awk '{print $1}'
linux-headers-4.9.0-0.bpo.3-amd64
linux-image-4.9.0-0.bpo.3-amd64
linux-image-4.9.0-0.bpo.3-amd64-dbg
linux-image-amd64

# apt-get install linux-headers-4.9.0-0.bpo.3-amd64 linux-image-4.9.0-0.bpo.3-amd64
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 linux-image-4.9.0-0.bpo.3-amd64 : Depends: linux-base (&gt;= 4.3~) but 3.5 is to be installed
E: Unable to correct problems, you have held broken packages.
</code></pre></div>
I'd like to try and stay with Stable/Jessie if possible and avoid compiling a kernel from scratch (repos are preferred.)<br>
Any advice is appreciated, TIA -- would also consider downgrading to kernel 4.4 if necessary.</div>
</div>
</div>

</div>
</div>
<div id="p_53871" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile53871">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">kingneutron</span>
</dt>
<dd class="profile-joined">Joined: 02 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content53871">

<time datetime="2017-10-22T20:12">posted: 2017-10-22 &nbsp; 20:12</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53871" title="permalink">#2</a></span>

<div class="content">Supplemental /etc/apt files attached... TIA</div>
</div>
</div>

</div>
</div>
<div id="p_53873" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile53873">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content53873">

<time datetime="2017-10-22T21:19">posted: 2017-10-22 &nbsp; 21:19</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53873" title="permalink">#3</a></span>

<div class="content">
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was"bye-bye-tapatalk-new-antix-forum-t7245.html"<br>linktext was:"bye-bye-tapatalk-new-antix-forum-t7245.html"<br>====================================<br>
<br>
<br>
Plus, to answer your question, why not install 4.10 antiX kernels:<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://antix.daveserver.info/jessie/pool/main/l/"<br>linktext was:"http://antix.daveserver.info/jessie/pool/main/l/"<br>====================================<br>
</div>
</div>
</div>

</div>
</div>
<div id="p_53874" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile53874">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">kingneutron</span>
</dt>
<dd class="profile-joined">Joined: 02 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content53874">

<time datetime="2017-10-22T21:22">posted: 2017-10-22 &nbsp; 21:22</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53874" title="permalink">#4</a></span>

<div class="content">Update: I found this post:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./solved-need-new-antix-kernel-t6985.html#p51385</code></pre></div>
(In a Virtualbox P2V VM of my Antix host) + Edited <strong>sources.list.d/various.list</strong> and enabled the"<strong>liquorix kernels</strong>" repo, did apt-get update/upgrade, and ran into these errors:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>FAIL + upgrade kernel from 4.8 to 4.13.0-7.2-liquorix-amd64
[[
# apt-cache search 4.13.0-7.2-liquorix-amd64 |awk '{print $1}'
linux-headers-4.13.0-7.2-liquorix-amd64
linux-image-4.13.0-7.2-liquorix-amd64  

# apt-get install linux-headers-4.13.0-7.2-liquorix-amd64 linux-image-4.13.0-7.2-liquorix-amd64
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 linux-headers-4.13.0-7.2-liquorix-amd64 : Depends: gcc-7 but it is not installable
E: Unable to correct problems, you have held broken packages.
]]
  
---
FAIL + upgrade kernel from 4.8 to 4.9.0-49.1 (LTS)
[[
# apt-cache search 4.9.0-49.1-liquorix-amd64 |awk '{print $1}'
linux-headers-4.9.0-49.1-liquorix-amd64
linux-image-4.9.0-49.1-liquorix-amd64  

# apt-get install linux-headers-4.9.0-49.1-liquorix-amd64 linux-image-4.9.0-49.1-liquorix-amd64
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 linux-headers-4.9.0-49.1-liquorix-amd64 : Depends: gcc-6 but it is not installable
E: Unable to correct problems, you have held broken packages.
]]
</code></pre></div>
--Honestly Antix is one of the best non-systemd distros I've seen, can't we get proper updated kernels without jumping through hoops?</div>
</div>
</div>

</div>
</div>
<div id="p_53876" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile53876">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">kingneutron</span>
</dt>
<dd class="profile-joined">Joined: 02 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content53876">

<time datetime="2017-10-22T21:53">posted: 2017-10-22 &nbsp; 21:53</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53876" title="permalink">#5</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was"bye-bye-tapatalk-new-antix-forum-t7245.html"<br>linktext was:"bye-bye-tapatalk-new-antix-forum-t7245.html"<br>====================================<br>
<br>
<br>
Plus, to answer your question, why not install 4.10 antiX kernels:<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://antix.daveserver.info/jessie/pool/main/l/"<br>linktext was:"http://antix.daveserver.info/jessie/pool/main/l/"<br>====================================<br>

</div></blockquote>
I appreciate the response, but looking for more of a step-by-step rather than shorthand.  No offense, but what exactly would I have to add to my existing repos to satisfy *all* dependencies and get to a more modern kernel than 4.8? TIA</div>
</div>
</div>

</div>
</div>
<div id="p_53880" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile53880">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>
 
</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content53880">

<time datetime="2017-10-23T12:13">posted: 2017-10-23 &nbsp; 12:13</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53880" title="permalink">#6</a></span>

<div class="content">Use the metapackage installer in the control centre. Under kernel, you should see one later than 4.8. Just check the one you want to try and it will install the headers and image and also update grub (assuming your boot grub is your installed antiX one)</div>
</div>
</div>

</div>
</div>
<div id="p_53883" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile53883">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">kingneutron</span>
</dt>
<dd class="profile-joined">Joined: 02 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content53883">

<time datetime="2017-10-23T17:48">posted: 2017-10-23 &nbsp; 17:48</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53883" title="permalink">#7</a></span>

<div class="content">Thank you - I tried what you recommended in my VM and got an error:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>using" sudo /usr/local/bin/antixcc.sh" control center metapackage installer to upgrade kernel:

FAIL attempted upgrade kernel from 4.8 to 4.10.1
The following packages were automatically installed and are no longer required:
  libnvpair1linux libqt5opengl5 libqt5printsupport5 libqt5x11extras5
  libuutil1linux libzpool2linux
Use 'apt-get autoremove' to remove them.
Suggested packages:
  linux-firmware-image-4.10.1-antix.1-amd64-smp
The following NEW packages will be installed:
  linux-headers-4.10.1-antix.1-amd64-smp linux-image-4.10.1-antix.1-amd64-smp
0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.
Need to get 43.0 MB of archives.
After this operation, 220 MB of additional disk space will be used.

update-initramfs: Generating /boot/initrd.img-4.10.1-antix.1-amd64-smp
Error: /sbin/zdb is not executable.  
Error: /sbin/zpool is not executable.
Error: /sbin/zfs is not executable.
E: /usr/share/initramfs-tools/hooks/zfs failed with return 2.
update-initramfs: failed for /boot/initrd.img-4.10.1-antix.1-amd64-smp with 2.
run-parts: /etc/kernel/postinst.d/initramfs-tools exited with return code 2
Generating grub configuration file ...
Found background: /usr/share/wallpaper/back.jpg
Found background image: /usr/share/wallpaper/back.jpg
Found linux image: /boot/vmlinuz-4.10.1-antix.1-amd64-smp
Found linux image: /boot/vmlinuz-4.8.10-antix.1-amd64-smp
Found initrd image: /boot/initrd.img-4.8.10-antix.1-amd64-smp
Found linux image: /boot/vmlinuz-4.4.10-antix.1-amd64-smp
Found initrd image: /boot/initrd.img-4.4.10-antix.1-amd64-smp
Found memtest86+ image: /boot/memtest86+.bin
Found memtest86+ multiboot image: /boot/memtest86+_multiboot.bin
done
dpkg: error processing package linux-image-4.10.1-antix.1-amd64-smp (--configure):
 subprocess installed post-installation script returned error exit status 1
Errors were encountered while processing:
 linux-image-4.10.1-antix.1-amd64-smp
E: Sub-process /usr/bin/dpkg returned an error code (1)

search all installed packages who need locale packages, please wait ...
grep-dctrl: /var/lib/apt/lists/repo.antixlinux.com_jessie_dists_jessie_main_binary-amd64_Packages:3262: expected a colon.

</code></pre></div>
I am using ZFS from the existing repos, so not sure why this is failing...</div>
</div>
</div>

</div>
</div>
<div id="p_53886" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile53886">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,139</span></div>

</div>
</div>
<span class="username">masinick</span>
</dt>
<dd class="profile-joined">Joined: 26 Apr 2008</dd>
</dl>
<div class="postbody">
<div id="post_content53886">

<time datetime="2017-10-24T14:39">posted: 2017-10-24 &nbsp; 14:39</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53886" title="permalink">#8</a></span>

<div class="content">From what I can see it looks as though there are some packages that will need to be removed before the correct packages can be added.<br>
<br>
When I get into this kind of situation, the first thing I try to do (all running either logged in as root or using sudo to access root; sometimes I spawn another command shell by using sudo su and providing my password) is to attempt to clean out packages that have been identified in the messages.<br>
<br>
First try, I'll use apt-get -f install to see if the -f force is able to get rid of the mess.<br>
<br>
If not, I try apt-get remove, providing the name of each package.  If I created a big mess, sometimes it'll take a few iterations, removing each set of applications that is missing, replaced, or otherwise incorrect.<br>
<br>
When I'm done with this exercise, at that point I can run apt-get dist-upgrade or apt-get install listing the packages I want to add.<br>
<br>
Try this and see if you are able to get rid of these messages and successfully install the intended software.  Remember of course the need to run as a privileged user, either root or using su or sudo (or both) to effectively gain root privileges; otherwise you can query the repository, but you won't be able to successfully install anything.<br>
<br>
Let us know if any of this helps, and if not, record as much of your system and your session as possible since we've not reached a workable solution to your problem.</div>
</div>
</div>

</div>
</div>
<div id="p_53891" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile53891">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content53891">

<time datetime="2017-10-24T17:13">posted: 2017-10-24 &nbsp; 17:13</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53891" title="permalink">#9</a></span>

<div class="content">inxi -r to show us your repos.</div>

</div>
</div>

</div>
</div>
<div id="p_53921" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile53921">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 10</span></div>

</div>
</div>
<span class="username">kingneutron</span>
</dt>
<dd class="profile-joined">Joined: 02 Jul 2011</dd>
</dl>
<div class="postbody">
<div id="post_content53921">

<time datetime="2017-10-28T20:14">posted: 2017-10-28 &nbsp; 20:14</time>
<span class="permalink"><a href="./how-can-i-upgrade-past-kernel-4-8-t7249.html#p53921" title="permalink">#10</a></span>

<div class="content">All, thanks for the help but I just found out Antix 17 was released(!)  Will give things a try there on a laptop and see if things work OK. Preciated!!</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
10 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
