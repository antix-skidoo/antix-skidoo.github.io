<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>grub help - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./official-releases-f42/index.html"><span>Official releases</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./antix-15-killah-p-f53/index.html"><span>antiX-15 Killah P</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./grub-help-t6102.html">grub help</a></div>
<div class="pagination">
6 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_44388" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44388">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 73</span></div>

</div>
</div>
<span class="username">zpimp</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2014</dd>
</dl>
<div class="postbody">
<div id="post_content44388">
<time datetime="2015-12-24T17:45">posted: 2015-12-24 &nbsp; 17:45</time>
<span class="permalink"><a href="./grub-help-t6102.html#p44388" title="permalink">#1</a></span>

<div class="content">so i wanted to clone antix partition to another hdd <br>
after my tests (partclone,fsarchiver), fastest way would be to rsync files WHILE THE SYSTEM IS RUNNING installed on hdd, and thats what i did<br>
i followed 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://wiki.archlinux.org/index.php/Full_system_backup_with_rsync"<br>linktext was:"https://wiki.archlinux.org/index.php/Fu ... with_rsync"<br>====================================<br>
<br>
i just use the rsync command after mounting sdb1 all was fine<br>
didnt change fstab and grub menu cause i wont be running both hdd at the same time, basically want to use the 2nd hdd in another pc<br>
<br>
1).now the tricky part wich i dont understand, although i have read alot, how to install grub from the running system (installed to 1st hdd)<br>
i understand i need to grub-install to second hdd cause rsync moves the grub stage2 and so just dd the mbr is not enough<br>
i followed this 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://ubuntuforums.org/showthread.php?t=1692144"<br>linktext was:"http://ubuntuforums.org/showthread.php?t=1692144"<br>====================================<br>
<br>
<br>
2).after this didnt work i tried to do it from grub prompt but it seems i cant find it<br>
what is the path of the grub console program<br>
<br>
i just want to understand, im reading for 2 days now <span class="emoticon"> __{{emoticon}}__ </span><br>
i like it cause im learning, but now im stuck <span class="emoticon"> __{{emoticon}}__ </span><br>
<br>
edit:<br>
after following this 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://crunchbang.org/forums/viewtopic.php?id=15351"<br>linktext was:"http://crunchbang.org/forums/viewtopic.php?id=15351"<br>====================================<br>
<br>
it got to the grub menu but didnt work searching btfrs filesystem or something<br>
i only did grub-install cause i read grub-update overwrites the config file</div>
</div>
</div>

</div>
</div>
<div id="p_44419" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44419">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 73</span></div>

</div>
</div>
<span class="username">zpimp</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2014</dd>
</dl>
<div class="postbody">
<div id="post_content44419">

<time datetime="2015-12-26T23:48">posted: 2015-12-26 &nbsp; 23:48</time>
<span class="permalink"><a href="./grub-help-t6102.html#p44419" title="permalink">#2</a></span>

<div class="content">this seems to get over my head<br>
when i boot antix the menu says grub2<br>
but grub-repair says grub-legacy, so wich grub is antix using? grub2 or grub legacy<br>
<br>
tried a couple more times copying rsync<br>
from live cd, imounted sda1,sdb1,rsync, mounted proc dev sys, chroot, grub install , grub update, i get grub-rescue <br>
if i use grub repair with both hdd, i can repair 1st<br>
but second hdd (connected alone, says cant find uuid, isnt uuid software-type id??)<br>
<br>
i have a feeling is something simple that anyone knows, but me <span class="emoticon"> __{{emoticon}}__ </span><br>
anyway will keep asking in other places too<br>
also what does grub-repair gui do ? i assum it executes some commands</div>

</div>
</div>

</div>
</div>
<div id="p_44420" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44420">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 8</span></div>

</div>
</div>
<span class="username">paraquat</span>
</dt>
<dd class="profile-joined">Joined: 13 Sep 2011</dd>
</dl>
<div class="postbody">
<div id="post_content44420">

<time datetime="2015-12-27T00:18">posted: 2015-12-27 &nbsp; 00:18</time>
<span class="permalink"><a href="./grub-help-t6102.html#p44420" title="permalink">#3</a></span>

<div class="content">Hi zpimp,<br>
<br>
&gt; this seems to get over my head<br>
&gt; when i boot antix the menu says grub2<br>
&gt; but grub-repair says grub-legacy, so wich grub is antix using? grub2 or grub legacy<br>
<br>
I'm not an expert, but I do know that antix 15 uses grub2...something I hate. It was so much easier to recover back in the days of grub-legacy. In fact, my"solution" to these types of problems is to have a small partition where I install Puppy Linux (which uses grub-legacy) installed, even though I don't use Puppy as my main workhorse distro. About 99% of what I do is with antix, so I keep the Puppy CD handy for when I have an issue with grub - I boot it and reinstall, and let it setup grub-legacy in the mbr, and everything seems to work.<br>
<br>
Not sure if that's the solution you want to hear though.<br>
<br>
Another interesting option for grub2 haters would be syslinux:<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.syslinux.org/wiki/index.php/SYSLINUX"<br>linktext was:"http://www.syslinux.org/wiki/index.php/SYSLINUX"<br>====================================<br>
<br>
<br>
I wish that was an option on antix at install time.</div>
</div>
</div>

</div>
</div>
<div id="p_44421" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44421">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 4,164</span></div>

</div>
</div>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content44421">

<time datetime="2015-12-27 &nbsp; 01:37">posted: 2015-12-27 &nbsp; 01:37</time>
<span class="permalink"><a href="./grub-help-t6102.html#p44421" title="permalink">#4</a></span>

<div class="content">I keep a live iso which has bailed me out on grub2 mbr installs that I personally borked on my own.<br>
It has not failed me yet. Even with dual booters like Windows 8 and such.<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://sourceforge.net/projects/boot-repair-cd/"<br>linktext was:"http://sourceforge.net/projects/boot-repair-cd/"<br>====================================<br>
<br>
<br>
It is a permanent cd now in the cd rack along side<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.supergrubdisk.org/rescatux/"<br>linktext was:"http://www.supergrubdisk.org/rescatux/"<br>====================================<br>
<br>
<br>
and<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.hirensbootcd.org/"<br>linktext was:"http://www.hirensbootcd.org/"<br>====================================<br>
<br>
<br>
The 1st link I posted is a no brainer to run to repair a grub install on a mbr.</div>
</div>
</div>

</div>
</div>
<div id="p_44435" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44435">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 73</span></div>

</div>
</div>
<span class="username">zpimp</span>
</dt>
<dd class="profile-joined">Joined: 20 Jan 2014</dd>
</dl>
<div class="postbody">
<div id="post_content44435">

<time datetime="2015-12-27T21:15">posted: 2015-12-27 &nbsp; 21:15</time>
<span class="permalink"><a href="./grub-help-t6102.html#p44435" title="permalink">#5</a></span>

<div class="content">i have finally nailed it<br>
all tutorials i found were right, i was wrong at grub-install <br>
everywhere it said grub-install /dev/sda<br>
<br>
and i thought when chroot-ed /dev/sdb becomes /dev/sda<br>
it seems grub-install to second hdd is still /dev/sdb even if you are chrooted <br>
so if i understand this, correct me if im wrong grub-install /dev/sdb can be run outside chroot cause it deals with mbr of devices not filesystem<br>
only update-grub needs to be run in chroot cause it deals with /boot/grub/grub.cfg and other setting wich reside on the filesystem<br>
<br>
so after mounting &amp; rsync, mount dev/proc/sys, chroot, grub-install /dev/sdb, update-grub, umount /dev/proc/sys,<br>
and finally after copy hdd partition uuid from /media/sdb1/boot/grub/grub.cfg and replace in your /media/sdb1 / e t c / f s t a b<br>
<br>
i managed to copy ~4gb in &lt;2min <br>
best part, it works from installed system too, no need for livecd<br>
<br>
as a side note, i f*cked up a little and installed grub to sda1 too <span class="emoticon"> __{{emoticon}}__ </span> if anyone has any idea how to remove ...<br>
<br>
is amazing to me how configurable and modular linux is</div>
</div>
</div>

</div>
</div>
<div id="p_44561" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44561">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 11</span></div>

</div>
</div>
<span class="username">Stripey</span>
</dt>
<dd class="profile-joined">Joined: 31 Dec 2015</dd>
</dl>
<div class="postbody">
<div id="post_content44561">

<time datetime="2016-01-04T15:03">posted: 2016-01-04 &nbsp; 15:03</time>
<span class="permalink"><a href="./grub-help-t6102.html#p44561" title="permalink">#6</a></span>

<div class="content">Hi zpimp!<br>
<br>
There are many options to do what you ask. <br>
<br>
The best advice is to relax and enjoy yourself. This can be fun. Overcome that sinking feeling. You can make that go away.<br>
<br>
Tip: your question is not clear enough or specific enough to get a simple"do this" answer, besides there are many answers <span class="emoticon"> __{{emoticon}}__ </span> <br>
I'll try to give a few simple routes.<br>
<br>
<br>
1. You might try adding an entry to boot to the new (cloned) hdd from existing drive (ie edit entry to tempoarily give you access to new device). <br>
Press"c" at the gub menu then issue grub commands... select the new disc and away you go.<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://members.iinet.net/~herman546/p20/GRUB2%20How%20To%20Boot%20From%20CLI%20Mode.html"<br>linktext was:"http://members.iinet.net/~herman546/p20 ... 0Mode.html"<br>====================================<br>
<br>
<br>
Once booted to that OS redo grub-install or maybe do grub-update. That should let you fix the new disc.<br>
<br>
<br>
2. You can also boot the new hdd in the new system (computer) from a boot disc or usb thumbdrive. <br>
Once into new/cloned OS proceed to install grub2.<br>
<br>
System rescue cd can boot to new system: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.sysresccd.org/Download"<br>linktext was:"http://www.sysresccd.org/Download"<br>====================================<br>
<br>
<br>
Use the option to boot hdd, not to load resue OS on iso. Press F1, F2, etc... to see options.<br>
(Maybe different -- haven't used it in years.)<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.sysresccd.org/Online-Manual-EN"<br>linktext was:"http://www.sysresccd.org/Online-Manual-EN"<br>====================================<br>
<br>
<br>
... or try one of these: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://lifehacker.com/5984707/five-best-system-rescue-discs"<br>linktext was:"http://lifehacker.com/5984707/five-best ... scue-discs"<br>====================================<br>
<br>
See the knoppix screenshot shows such an option.<br>
<br>
<br>
3. You can also boot from the antiX iso on usb (or installed with antiX2grub) or cd and install/fix grub2 this way.<br>
<br>
The best way for you depends on you preference and toolset.<br>
<br>
Happy hacking! You are soon an expert.<br>
<br>
<br>
More reading for you: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://ixquick.com/do/search?q=cloned%20hd+install%20grub2"<br>linktext was:"https://ixquick.com/do/search?q=cloned% ... ll%20grub2"<br>====================================<br>
<br>
Maybe this helps, too?</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
6 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
