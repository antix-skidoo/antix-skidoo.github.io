<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>How to generate new initrd.gz - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-f22/index.html"><span>New Users</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./new-users-general-questions-f16/index.html"><span>New Users &amp; General Questions</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./how-to-generate-new-initrd-gz-t6981.html">How to generate new initrd.gz</a></div>
<div class="pagination">
3 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_51364" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile51364">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2</span></div>

</div>
</div>
<span class="username">JBo</span>
</dt>
<dd class="profile-joined">Joined: 10 May 2017</dd>
</dl>
<div class="postbody">
<div id="post_content51364">
<time datetime="2017-05-10T21:30">posted: 2017-05-10 &nbsp; 21:30</time>
<span class="permalink"><a href="./how-to-generate-new-initrd-gz-t6981.html#p51364" title="permalink">#1</a></span>

<div class="content">Well, antiX run off a USB stick works well for me. I especially like the way I can use persistence and then remaster when the rootfs starts getting big and slow to make and load.<br>
<br>
Anyway I like to keep my network facing apps and the kernel updated. So I updated to the latest kernel in the Debian repository. A huge initrd loaded with truckloads of modules was generated. Of course it didn't work, because it didn't have any of the antiX special sauce in it. The original initrd still worked, but any modules loaded from it would be outdated modules.<br>
<br>
Here's what I did. I copied the original initrd, opened it up, made a list of the modules and then deleted them. I added the list to / etc/initramfs-tools/modules, and generated a new initrd with just those modules. I opened it, copied the new modules into the copy of the original initrd and wrapped it up with a pretty little bow. It seems to work fine.<br>
<br>
Does this make sense? How do you folks do tit?</div>
</div>
</div>

</div>
</div>
<div id="p_51365" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile51365">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content51365">

<time datetime="2017-05-10T21:41">posted: 2017-05-10 &nbsp; 21:41</time>
<span class="permalink"><a href="./how-to-generate-new-initrd-gz-t6981.html#p51365" title="permalink">#2</a></span>

<div class="content">Have you tried using live-kernel-updater? It 'automates' (basically) your manual steps.<br>
<br>
Once new kernel is installed, and a remaster made, then try running live-kernel-updater.</div>
</div>
</div>

</div>
</div>
<div id="p_51366" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile51366">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2</span></div>

</div>
</div>
<span class="username">JBo</span>
</dt>
<dd class="profile-joined">Joined: 10 May 2017</dd>
</dl>
<div class="postbody">
<div id="post_content51366">

<time datetime="2017-05-10T21:51">posted: 2017-05-10 &nbsp; 21:51</time>
<span class="permalink"><a href="./how-to-generate-new-initrd-gz-t6981.html#p51366" title="permalink">#3</a></span>

<div class="content">I knew there had to be a simpler way, but my search skills failed me this time. I'll give it a shot the next time I put in a new kernel. Thanks.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
3 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
