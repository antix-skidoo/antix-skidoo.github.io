<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>antiX-17-b3-full, base, net, core-libre for testing - Page 2 - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./news-f23/index.html"><span>News</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./announcements-f15/index.html"><span>Announcements</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html">antiX-17-b3-full, base, net, core-libre for testing</a></div>
<div class="pagination">
117 posts
<ul>

<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138.html" role="button">1</a></li>
<li class="active"><span>2</span></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s30.html" role="button">3</a></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s45.html" role="button">4</a></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s60.html" role="button">5</a></li>
<li class="ellipsis" role="separator"><span>…</span></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s105.html" role="button">8</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s30.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>


<div class="viewtopic_wrapper">
<div id="p_52642" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52642">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52642">
<time datetime="2017-08-20T22:43">posted: 2017-08-20 &nbsp; 22:43</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52642" title="permalink">#16</a></span>

<div class="content"><strong>@eugen-b</strong> re: openchrome. I think you're saying that the openchrome video driver worked with kernel 4.9.6-antix-sid.1-486-smp in antiX-17.a3 but fails with the newer kernel found in antiX-17.b3 (32-bit? 64-bit?). It wasn't clear to me if the vesa driver worked or not. It sounds like this is a regression in the beta openchrome video driver (see bug list 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://bugs.freedesktop.org/buglist.cgi?component=Driver%2Fopenchrome&amp;product=xorg&amp;resolution=---"<br>linktext was:"here"<br>====================================<br>
). I don't think there is anything the antiX devs can do about this except make the older kernels available to you and try to make it easy to get X working at all OOTB on the live system. Video drivers can be difficult to write, especially if you have to reverse-engineer proprietary hardware. I've also noticed that legacy hardware tends to get short shrift.<br>
<br>
In antiX-17.b3_x64-full version 0.5.0 of openchrome is used. According to the bug list a 0.6 version is available. If you want to muck about with the latest versions you could trying installing them using the direction here: 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://www.freedesktop.org/wiki/Openchrome/Installation/"<br>linktext was:"Openchrome installation"<br>====================================<br>
.</div>
</div>
</div>

</div>
</div>
<div id="p_52643" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52643">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<section class="desktop-hide">

<a href="#" class="username">eugen-b</a> </section>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content52643">

<time datetime="2017-08-20T23:17">posted: 2017-08-20 &nbsp; 23:17</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52643" title="permalink">#17</a></span>

<div class="content">@BitJam, thanks for the infos! It is already kind of good news that people are working on a new version of the openchrome driver at all. I have a 32bit system, vesa driver works. I looked and on antiX-17-b3 openchrome 0.5.0-3 is installed. I could install 0.6 from experimental 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"https://packages.debian.org/experimental/xserver-xorg-video-openchrome"<br>linktext was:"https://packages.debian.org/experimenta ... openchrome"<br>====================================<br>
<br>
However, I will check first on my working antiX-17-a2 install on the VIA machine which kernel (or Xorg) version starts to fail.<br>
<br>
Remaster on the live USB doesn't work, not enough space. Will try some time later.</div>
</div>
</div>

</div>
</div>
<div id="p_52644" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52644">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<span class="username">eugen-b</span>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content52644">

<time datetime="2017-08-20T23:56">posted: 2017-08-20 &nbsp; 23:56</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52644" title="permalink">#18</a></span>

<div class="content"><blockquote><div><cite>BitJam wrote:</cite><strong>Thanks d_o!</strong><br>
<strong>1)</strong> After running one of the versions that fails, what is the output of this command:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo wipefs -n /dev/sdb2</code></pre></div>
</div></blockquote>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>=&gt; makefs-uefi
Error: Could not mount /dev/sdd2 at /run/live-usb-maker.v12/uefi

live-usb-maker.v12 took 29 seconds.
eugen@antx:~/Downloads/live-usb-maker-v12-v13
$ sudo wipefs -n /dev/sdd2
offset               type
----------------------------------------------------------------
0x31ff006            nilfs2   [filesystem]
                     LABEL: neju
                     UUID:  37edf735-1929-4657-8135-f5c21615930e

0x36                 vfat   [filesystem]
                     LABEL: antiX-uefi
                     UUID:  FFA2-E78A
</code></pre></div>
<blockquote class="uncited"><div>
<strong>2)</strong> Also after a failure, please take a look at the output of"dmesg" command or upload it so I can take a look. Here is how I like to view the output:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>dmesg --color=always | less -R</code></pre></div>You can also get to this via the antiX-cli-cc command --&gt;"System Information" --&gt;"dmesg". You can save the output to a file (with colored text) using:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>dmesg --color=always &gt; dmesg.out</code></pre></div>This is a longshot but it might provide a hint as to why most people aren't running into this problem.
</div></blockquote>
See dmesg output attached.
<blockquote class="uncited"><div>
<strong>3)</strong> Finally, please try version 14 that I've attached and see if that works. In it I call wipefs after manually clearing each file system.</div></blockquote>
In a moment. Edit: No it fails again.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>=&gt; partition-clear                                                                      
=&gt; partition-make
Using msdos partitioning
=&gt; makefs-bios
=&gt; makefs-uefi
Error: Could not mount /dev/sdd2 at /run/live-usb-maker.v14/uefi

live-usb-maker.v14 took 27 seconds.
eugen@antx:~/Downloads/live-usb-maker-v14
$ sudo wipefs -n /dev/sdd2
offset               type
----------------------------------------------------------------
0x31ff006            nilfs2   [filesystem]
                     LABEL: neju
                     UUID:  37edf735-1929-4657-8135-f5c21615930e

0x36                 vfat   [filesystem]
                     LABEL: antiX-uefi
                     UUID:  2272-42DA
</code></pre></div>
I'm attaching the corresponding dmesg output.</div>
</div>
</div>

</div>
</div>
<div id="p_52645" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52645">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52645">

<time datetime="2017-08-21T01:00">posted: 2017-08-21 &nbsp; 01:00</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52645" title="permalink">#19</a></span>

<div class="content"><strong>Thanks eugen-b!</strong><br>
The dmesg output says gtkam is reporting a segfault in libglib right after several read errors on the usb device. I'm not certain the segfault is related to the usb problems but I think the usb problems reported by dmesg are why no one else sees the error you are getting in live-usb-maker. It's possible the segfault is triggered by the hardware problem. Do you use gtkam. Was it running? If you do have gtkam running then you could try turning it off and see if the problem goes away. My guess is a hardware problem is triggering both the live-usb-maker error and the gtkam segfault so turning off gtkam won't help.<br>
<br>
The output of wipefs shows that it is indeed seeing two file systems. The nilfs file system is reported to have an offset of exactly 50 Meg which is the exact size of the fat32 partition. This means it is in an area of the usb-stick that is past the end of the fat32 partition. That area should not be accessible via the /dev/sdd2 partition. <br>
<br>
My preliminary conclusion is that this problem was caused by a combination of a hardware bug and a software bug. We can work around it by specifying the file system type when we mount. There is no need to increase the size of the area we clear because it appears we would have to clear past the end of the partition to fix this. Also, IMO wipefs is buggy and shouldn't be used since we don't want to clear out a file system that is in the area of the next partition on the disk although it might be aided and abetted by a hardware problem.<br>
<br>
Have you been using the nilfs file system? Can you think of any reason why it would have existed on the last 1 Meg of your usb-sticks? It is possible there is a wacky hardware error that by some miracle is reporting the signature of the nilfs file system in that last 1 Meg regardless of what is actually on the stick. But I have no idea why that area of the usb-stick can even by accessed via the /dev/sdd2 device.<br>
<br>
Please try adjusting the size of the area used by live-usb-maker which you can do by choosing"Make a customized live-usb (includes encryption option)" at the first menu. This was one of my first suggestions to try to rule out a hardware problem. Swapping sticks won't rule out a hardware problem in the controller. I hope this will be the final test I ask you to do. I greatly appreciate all of your help. Thank you!</div>
</div>
</div>

</div>
</div>
<div id="p_52646" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52646">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<span class="username">eugen-b</span>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content52646">

<time datetime="2017-08-21T01:08">posted: 2017-08-21 &nbsp; 01:08</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52646" title="permalink">#20</a></span>

<div class="content"><blockquote><div><cite>BitJam wrote:</cite><strong>Thanks eugen-b!</strong><br>
The dmesg output says gtkam is reporting a segfault in libglib right after several read errors on the usb device. I'm not certain the segfault is related to the usb problems but I think the usb problems reported by dmesg are why no one else sees the error you are getting in live-usb-maker. It's possible the segfault is triggered by the hardware problem. Do you use gtkam. Was it running? If you do have gtkam running then you could try turning it off and see if the problem goes away. My guess is a hardware problem is triggering both the live-usb-maker error and the gtkam segfault so turning off gtkam won't help.
</div></blockquote>
I used gtkam to upload the photo of the broken X. It took a bit to figure out how it works. But the error occured before and after the usage of gtkam.<br>
<blockquote class="uncited"><div>
Have you been using the nilfs file system? Can you think of any reason why it would have existed on the last 1 Meg of your usb-sticks? It is possible there is a wacky hardware error that by some miracle is reporting the signature of the nilfs file system in that last 1 Meg regardless of what is actually on the stick. But I have no idea why that area of the usb-stick can even by accessed via the /dev/sdd2 device.
</div></blockquote>
I used to format the USB sticks sometimes nilfs or f2fs before writing an ISO to them. But It would be a coincidence if both USB sticks had nilfs on them before and failed for that reason.
<blockquote class="uncited"><div>
Please try adjusting the size of the area used by live-usb-maker which you can do by choosing"Make a customized live-usb (includes encryption option)" at the first menu. This was one of my first suggestions to try to rule out a hardware problem. Swapping sticks won't rule out a hardware problem in the controller. I hope this will be the final test I ask you to do. I greatly appreciate all of your help. Thank you!</div></blockquote>
Ok, will try.<br>
Update: It worked!
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>eugen@antx:~/Downloads/live-usb-maker-v14
$ sudo ./live-usb-maker.v14
[sudo] password for eugen: 
===============================================================================
Starting live-usb-maker.v14
===============================================================================
Only one target usb device was found sdd  3.8G Generic Flash Disk
Will use target device sdd
                                                                                        
Please select what action to perform                                                    
&gt; Make a full-featured live-usb                                                         
&gt; Make an encrypted full-featured live-usb                                              
= Make a customized live-usb (includes encryption option)                               
&gt; Update UUIDs on an existing live-usb                                                  
&gt; Update boot parameters on an existing live-usb                                        
&gt; Reinstall legacy bootloader on an existing live-usb                                   
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
                                                                                        
Create an encrypted live-usb?                                                           
&gt; yes                                                                                   
= no                                                                                    
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
                                                                                        
Please select the source for the new live-usb                                           
= Copy from an ISO file                                                                 
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
Please enter the filename                                                               
(tab completion is enabled)
/media/ISO/antiX-17.b3_386-base.iso
You entered: /media/ISO/antiX-17.b3_386-base.iso                                                                                                                                  
Is this correct?                                                                        
= yes                                                                                   
&gt; no                                                                                    
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
Will use source file /media/ISO/antiX-17.b3_386-base.iso                                
Distro: antiX-17.b3_386-base Heather Heyer 18 August 2017
                                                                                        
Customize language and timezone?                                                        
&gt; yes                                                                                   
= no                                                                                    
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
                                                                                        
                 Total   Used  Extra
   entire drive  3,900  3,899      1  MiB
 main partition  3,849    618  3,231  MiB
 uefi partition     50     11     39  MiB
                                                                                        
Do you want to change how much of the device is used?                                   
= yes                                                                                   
&gt; no                                                                                    
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
                                                                                        
Please select how much space to use for the live-usb partitions                         
&gt;  100% 3,900 MiB                                                                       
=   95% 3,705 MiB                                                                       
&gt;   90% 3,510 MiB                                                                       
&gt;   85% 3,315 MiB                                                                       
&gt;   80% 3,120 MiB                                                                       
&gt;   75% 2,925 MiB                                                                       
&gt;   70% 2,730 MiB                                                                       
&gt;   65% 2,535 MiB                                                                       
&gt;   60% 2,340 MiB                                                                       
&gt;   55% 2,145 MiB                                                                       
&gt;   50% 1,950 MiB                                                                       
&gt;   45% 1,755 MiB                                                                       
&gt;   40% 1,560 MiB                                                                       
&gt;   35% 1,365 MiB                                                                       
&gt;   30% 1,170 MiB                                                                       
&gt;   25%   975 MiB                                                                       
&gt;   20%   780 MiB                                                                       
&gt;   18%   702 MiB                                                                       
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
Have set size to 95% (3,704 MiB)                                                        

                 Total   Used  Extra
   entire drive  3,900  3,704    196  MiB
 main partition  3,654    617  3,037  MiB
 uefi partition     50     11     39  MiB

-------------------------------------------------------------------------------
Ready to make live-usb on device sdd
... by copying file /media/ISO/antiX-17.b3_386-base.iso
-------------------------------------------------------------------------------
                                                                                        
Shall we begin?                                                                         
= yes                                                                                   
&gt; no                                                                                    
&gt; pretend mode                                                                          
Press &lt;Enter&gt; to select the highlighted entry                                           
Use 'r' to redraw, 'q' to quit                                                          
=&gt; partition-clear                                                                      
=&gt; partition-make
Using msdos partitioning
=&gt; makefs-bios
=&gt; makefs-uefi

Filesystem     Type  Size  Used Avail Use% Mounted on
/dev/sdd1      ext4  3.6G  7.2M  3.6G   1% main
/dev/sdd2      vfat   50M     0   50M   0% uefi

=&gt; copy-uefi
copy from iso to uefi partition
files: [Ee][Ff][Ii] boot/{grub,uefi-mt} version
Fix uefi memtestbug
=&gt; copy-main
copy from iso to main partition
files: *
|===================================================================================&gt;100%
=&gt; uuids
=&gt; install
extlinux version 6.03

Filesystem     Type  Size  Used Avail Use% Mounted on
/dev/sdd1      ext4  3.6G  618M  3.0G  18% main
/dev/sdd2      vfat   50M   12M   39M  24% uefi

=&gt; done

live-usb-maker.v14 took 2 minutes and 46 seconds.
</code></pre></div></div>
<div class="notice">
Last edited by <b>eugen-b</b> on 21 Aug 2017, 02:25, edited 2 times in total.
</div>
</div>
</div>

</div>
</div>
<div id="p_52647" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52647">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<span class="username">eugen-b</span>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content52647">

<time datetime="2017-08-21T01:20">posted: 2017-08-21 &nbsp; 01:20</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52647" title="permalink">#21</a></span>

<div class="content">Ok, I got the VIA machine booting with the latest kernel installed on antiX-17-a2
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>eugen@antix ~&gt; inxi -Fxxxz
System:    Host: antix Kernel: 4.10.5-antix.1-486-smp i686 (32 bit gcc: 6.3.0)
           Desktop: LXDE (Openbox 3.6.1) info: lxpanel dm: lightdm
           Distro: antiX-17.a2_386-net keerfa 9 February 2017
Machine:   Device: desktop Mobo: VIA model: VX800 v: 1.0
           BIOS: Phoenix v: 6.00 PG date: 09/15/2010
CPU:       Single core VIA Eden (-UP-) cache: 128 KB
           flags: (nx pae sse sse2 sse3) bmips: 1994 speed/min/max: 1000/400/1000 MHz
Graphics:  Card: VIA VX800/VX820 Chrome 9 HC3 Integrated Graphics
           bus-ID: 00:01.0 chip-ID: 1106:1122
           Display Server: X.Org 1.19.2 driver: openchrome
           Resolution: 1366x768@59.79hz
           GLX Renderer: Gallium 0.4 on llvmpipe (LLVM 3.9, 128 bits)
           GLX Version: 3.0 Mesa 13.0.6 Direct Rendering: Yes
Audio:     Card VIA VT8237A/VT8251 HDA Controller
           driver: snd_hda_intel bus-ID: 00:14.0 chip-ID: 1106:3288
           Sound: ALSA v: k4.10.5-antix.1-486-smp
Network:   Card-1: Ralink RT2790 Wireless 802.11n 1T/2R PCIe
           driver: rt2800pci v: 2.3.0 bus-ID: 02:00.0 chip-ID: 1814:0781
           IF: wlan0 state: down mac: &lt;filter&gt;
           Card-2: Realtek RTL-8110SC/8169SC Gigabit Ethernet
           driver: r8169 v: 2.3LK-NAPI port: bc00
           bus-ID: 04:06.0 chip-ID: 10ec:8167
           IF: eth0 state: up speed: 100 Mbps duplex: full mac: &lt;filter&gt;
Drives:    HDD Total Size: 4.0GB (66.8% used)
           ID-1: /dev/sda model: SanDisk_SDCFH size: 4.0GB
           serial: DBZ120210112144
Partition: ID-1: / size: 3.8G used: 2.5G (98%) fs: btrfs dev: /dev/sda1
Sensors:   System Temperatures: cpu: 45.0C mobo: N/A
           Fan Speeds (in rpm): cpu: N/A
Info:      Processes: 122 Uptime: 2 min Memory: 158.8/2776.4MB
           Init: SysVinit v: N/A runlevel: 5 default: 5 Gcc sys: N/A
           Client: Shell (fish running in terminator) inxi: 2.3.5
</code></pre></div>
Then I suppose it must be the /etc/X11/xorg.conf which makes the difference
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>eugen@antix ~&gt; cat /etc/X11/xorg.conf
##
## Generated by mhwd - Manjaro Hardware Detection
##
Section"Screen"
    Identifier"Screen0"
    Device      "Card0"
EndSection
Section"Device"
    Identifier "Device0"
    Driver     "openchrome"
    Option     "DRI3"  "0"
    Option     "DRI"   "2"
EndSection

 
Section"DRI"
        Group "video"
        Mode   0666
EndSection

 
Section"Extensions"
    Option"Composite""Enable"
    Option"RENDER"   "Enable"
EndSection

 
Section"InputClass"
    Identifier         "Keyboard Defaults"
    MatchIsKeyboard       "yes"
    Option             "XkbLayout""de,ru"
    Option             "XkbModel""pc104"
    Option             "XkbVariant"",phonetic"
    Option             "XkbOptions""grp:alt_shift_toggle"
EndSection
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_52651" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52651">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52651">

<time datetime="2017-08-21T03:00">posted: 2017-08-21 &nbsp; 03:00</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52651" title="permalink">#22</a></span>

<div class="content"><blockquote><div><cite>eugen-b wrote:</cite>Ok, I got the VIA machine booting with the latest kernel installed on antiX-17-a2<br>
[...]<br>
Then I suppose it must be the /etc/X11/xorg.conf which makes the difference</div></blockquote>
I agree. Where did that xorg.conf come from? Did you copy it from another system? Did you run mhwd? I was assuming you were using a stock antiX system. I am almost forced to make that assumption unless you tell me you've made changes such as adding this xorg.conf file. Did you edit the file or was all of it generated by mhwd? I've found mhwd code that generates most of what is in it but the two DRI lines in the"Device" section look customized. <br>
<br>
It is not clear to me if we should bother detecting your hardware and then autogenerate the parts of that xorg.conf that are needed to get openchrome working on your system. If the settings were needed on all openchrome hardware then I'd imagine they would be the defaults and thus not needed. <br>
<br>
We should be able to add the composite section fairly easily if one of the xorg=... arguments is"composite". I don't know how many people would find this useful.<br>
<br>
For automatic detection of your hardware I would need to see the output of"lspci -nn" but I'm not sure if I am going to follow through and add it. It is usually a bit of a puzzle connecting PCI bus ids with what xorg.conf options are needed. Sometimes it depends on the kernel version. We've tried to handle all the wacky Intel problems. If I had solid information linking PCI bus ids with xorg.conf options then I would probably automate it but in the past with Intel I had to figure out the connections myself (with help from d_o and others) and sometimes guess.</div>
</div>
</div>

</div>
</div>
<div id="p_52653" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52653">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52653">

<time datetime="2017-08-21T03:44">posted: 2017-08-21 &nbsp; 03:44</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52653" title="permalink">#23</a></span>

<div class="content"><blockquote><div><cite>dolphin_oracle wrote:</cite>*edit* update - clone mode in VB only works for me on a 64 bit VB session.</div></blockquote>
Clone mode with antiX-17.b3_386-full worked here. Whether you are cloning or copying from an iso file the mount error can still be an issue (perhaps sporadic). The wait_for_file() fix should work. Do you have any other issues with live-usb-maker? I really appreciate your feedback.</div>
</div>
</div>

</div>
</div>
<div id="p_52655" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52655">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52655">

<time datetime="2017-08-21T04:07">posted: 2017-08-21 &nbsp; 04:07</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52655" title="permalink">#24</a></span>

 <div class="content"><blockquote><div><cite>eugen-b wrote:</cite>I used gtkam to upload the photo of the broken X. It took a bit to figure out how it works. But the error occured before and after the usage of gtkam.</div></blockquote>Okay. It is probably an unrelated bug, perhaps triggered by the same hardware problem.<br>
<blockquote class="uncited"><div>I used to format the USB sticks sometimes nilfs or f2fs before writing an ISO to them. But It would be a coincidence if both USB sticks had nilfs on them before and failed for that reason.</div></blockquote>I think the failure is a hardware problem of some sort. It makes more sense to me that nilfs was found by wipefs if it might have existed on one or both sticks. The problem seems much less miraculous now. You did nothing wrong. I think I have an easy way to make this rare problem even less likely to happen. Is it possible that an nilfs partition existed on the usb stick right before you ran live-usb-maker? I can clear out all of the existing file systems before I clear out the partition table. If the hardware is working correctly then this is probably not needed but it is easy to do so why not?<br>
<blockquote class="uncited"><div><strong>BJ:</strong> Please try adjusting the size of the area used by live-usb-maker [...]<br>
<strong>e-b:</strong> It worked!</div></blockquote>Great! This confirms (in my mind) that it is a wacky hardware issue. I still plan to implement the fix of specifying the file system types because that makes the code more robust. I'm glad we went through this and got an improvement to the code. When the hardware is flaky then all bets are off but if we can get the code to work anyway, that's a good thing.</div>
</div>
</div>

</div>
</div>
<div id="p_52656" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52656">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 604</span></div>

</div>
</div>
<span class="username">thriftee</span>
</dt>
<dd class="profile-joined">Joined: 27 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52656">

<time datetime="2017-08-21T06:08">posted: 2017-08-21 &nbsp; 06:08</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52656" title="permalink">#25</a></span>

<div class="content">I installed the 64 bit version to my Dell I7 - 7559 laptop which has EFI and Grub wouldn't install to EFP, same as with antiX-17-b2-full<br>
<br>
the error again...<br>
<br>
minstall<br>
<br>
Sorry, installing GRUB failed. This may be due to a change in the disk formatting. You can uncheck GRUB and finish installing antiX Linux then reboot to the CD and repair the installation with the reinstall GRUB function.<br>
<br>
This time the machine won't boot to the antiX on the EFI boot list, so I can't use the Debian Wiki instructions to rescue it.</div>
</div>
</div>

</div>
</div>
<div id="p_52657" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52657">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,308</span></div>

</div>
</div>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content52657">

<time datetime="2017-08-21T09:21">posted: 2017-08-21 &nbsp; 09:21</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52657" title="permalink">#26</a></span>

<div class="content"><strong>@thriftee,</strong> I don't mean to ignore you but I'm not working on the installer so I can't help. Sorry. I realize that breakage in the installer is serious.<br>
<br>
<strong>@d_o, @eugen-b,</strong> I've pushed the fixes to my live-usb-maker and cli-shell-utils github repos. It was cleaner to move some of the Virtual Box fix into the library. Unfortunately, this means that I cannot just send you a copy of live-usb-maker for testing. If you are really itching to test then I suggest cloning those two repos and running from there. I can provide instructions. Otherwise you will need to wait for new packages. I will test the Virtual Box fix here and I'm pretty confident the fix for eugen-b's machine is working. It didn't require any changes to the lib.<br>
<br>
<strong>Edit:</strong> <strong>@eugen-b,</strong> if you get a chance, I'd like to see the output of"lspci -nn" from your VIA machine. I'd also like to know if you edited that xorg.conf file that fixed your problems with openchrome (if you remember).</div>
</div>
</div>

</div>
</div>
<div id="p_52666" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52666">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 16</span></div>

</div>
</div>
<span class="username">gelosoil</span>
</dt>
<dd class="profile-joined">Joined: 19 Feb 2017</dd>
</dl>
<div class="postbody">
<div id="post_content52666">

<time datetime="2017-08-21T17:34">posted: 2017-08-21 &nbsp; 17:34</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52666" title="permalink">#27</a></span>

<div class="content">I got the full ,managed finally to create a bootable 16GB scandisk usb ,using the Universal USB creator,(all other tries failed miserably) and i love it!!<br>
Only complaint from me is missing the old (antix 16)wireless connection program(dont recall the name now),but ceni did its job fine.<br>
Also i wonder why dont you instead of firefox use slimjet.I find it really enough for all my needs and it is light.<br>
In all,i cant waitfor the final..<span class="emoticon"> __{{emoticon}}__ </span><br>
Best regards<br>
GS<br>
<br>
Architecture: i686<br>
CPU op-mode(s): 32-bit<br>
Byte Order: Little Endian<br>
CPU(s): 1<br>
On-line CPU(s) list: 0<br>
Thread(s) per core: 1<br>
Core(s) per socket: 1<br>
Socket(s): 1<br>
Vendor ID: GenuineIntel<br>
CPU family: 6<br>
Model: 13<br>
Model name: Intel(R) Pentium(R) M processor 1.60GHz<br>
Stepping: 6<br>
CPU MHz: 1600.000<br>
CPU max MHz: 1600.0000<br>
CPU min MHz: 600.0000<br>
BogoMIPS: 3200.10<br>
Flags: fpu vme de pse tsc msr mce cx8 apic sep mtrr pge mca cmov clflush dts acpi mmx fxsr sse sse2 ss tm pbe bts est tm2</div>
</div>
</div>

</div>
</div>
<div id="p_52668" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52668">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 307</span></div>

</div>
</div>
<span class="username">eugen-b</span>
</dt>
<dd class="profile-joined">Joined: 23 Aug 2015</dd>
</dl>
<div class="postbody">
<div id="post_content52668">

<time datetime="2017-08-21T19:11">posted: 2017-08-21 &nbsp; 19:11</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52668" title="permalink">#28</a></span>

<div class="content"><blockquote><div><cite>BitJam wrote:</cite>
<strong>Edit:</strong> <strong>@eugen-b,</strong> if you get a chance, I'd like to see the output of"lspci -nn" from your VIA machine. I'd also like to know if you edited that xorg.conf file that fixed your problems with openchrome (if you remember).</div></blockquote>
Yeah, I edited xorg.conf on my installed system. I tried to edit it on the live system persistently, but it looks like it gets recreated on every boot. Here is the output you wanted
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>eugen@antix ~&gt; lspci -nn
00:00.0 Host bridge [0600]: VIA Technologies, Inc. VX800 Host Bridge [1106:0353] (rev 14)
00:00.1 Host bridge [0600]: VIA Technologies, Inc. VX800/VX820 Error Reporting [1106:1353]
00:00.2 Host bridge [0600]: VIA Technologies, Inc. VX800/VX820 Host Bus Control [1106:2353]
00:00.3 Host bridge [0600]: VIA Technologies, Inc. VX800 PCI to PCI Bridge [1106:3353]
00:00.4 Host bridge [0600]: VIA Technologies, Inc. VX800/VX820 Power Management Control [1106:4353]
00:00.5 PIC [0800]: VIA Technologies, Inc. VX800/VX820 APIC and Central Traffic Control [1106:5353]
00:00.6 Host bridge [0600]: VIA Technologies, Inc. VX800/VX820 Scratch Registers [1106:6353]
00:00.7 Host bridge [0600]: VIA Technologies, Inc. VX800/VX820 North-South Module Interface Control [1106:7353]
00:01.0 VGA compatible controller [0300]: VIA Technologies, Inc. VX800/VX820 Chrome 9 HC3 Integrated Graphics [1106:1122] (rev 11)
00:02.0 PCI bridge [0604]: VIA Technologies, Inc. VX800/VX820 PCI Express Root Port [1106:c353]
00:03.0 PCI bridge [0604]: VIA Technologies, Inc. VX800/VX820 PCI Express Root Port [1106:e353]
00:03.1 PCI bridge [0604]: VIA Technologies, Inc. VX800/VX820 PCI Express Root Port [1106:f353]
00:0f.0 IDE interface [0101]: VIA Technologies, Inc. VX800 Serial ATA and EIDE Controller [1106:5324]
00:10.0 USB controller [0c03]: VIA Technologies, Inc. VT82xx/62xx UHCI USB 1.1 Controller [1106:3038] (rev a0)
00:10.1 USB controller [0c03]: VIA Technologies, Inc. VT82xx/62xx UHCI USB 1.1 Controller [1106:3038] (rev a0)
00:10.2 USB controller [0c03]: VIA Technologies, Inc. VT82xx/62xx UHCI USB 1.1 Controller [1106:3038] (rev a0)
00:10.4 USB controller [0c03]: VIA Technologies, Inc. USB 2.0 [1106:3104] (rev 90)
00:11.0 ISA bridge [0601]: VIA Technologies, Inc. VX800/VX820 Bus Control and Power Management [1106:8353]
00:11.7 Host bridge [0600]: VIA Technologies, Inc. VX8xx South-North Module Interface Control [1106:a353]
00:13.0 PCI bridge [0604]: VIA Technologies, Inc. VX855/VX875/VX900 PCI to PCI Bridge [1106:b353]
00:14.0 Audio device [0403]: VIA Technologies, Inc. VT8237A/VT8251 HDA Controller [1106:3288] (rev 20)
02:00.0 Network controller [0280]: Ralink corp. RT2790 Wireless 802.11n 1T/2R PCIe [1814:0781]
04:06.0 Ethernet controller [0200]: Realtek Semiconductor Co., Ltd. RTL-8110SC/8169SC Gigabit Ethernet [10ec:8167] (rev 10)
</code></pre></div></div>
</div>
</div>

</div>
</div>
<div id="p_52669" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile52669">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,444</span></div>

</div>
</div>
<span class="username">skidoo</span>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content52669">

<time datetime="2017-08-21T19:53">posted: 2017-08-21 &nbsp; 19:53</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52669" title="permalink">#29</a></span>

<div class="content">Testing live 64-bit b3 full. It seems solid. Following my usual testing regimen, I've found <strong>zero</strong> functional bugs.<br>
<br>
One cosmetic issue I screencapped ~~ odd wordwrap due to a too-small dialogbox:<br>
<img src="https://i.imgbox.com/BJ9ENRRN.jpg" class="postimage" alt="Image"><br>
<br>
FWIW, I still haven't been able to reproduce the"icewm conky blur"</div>
</div>
</div>

</div>
</div>
<div id="p_52670" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile52670">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
 <div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content52670">

<time datetime="2017-08-21T19:55">posted: 2017-08-21 &nbsp; 19:55</time>
<span class="permalink"><a href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s15.html#p52670" title="permalink">#30</a></span>

<div class="content"><blockquote><div><cite>skidoo wrote:</cite>Testing live 64-bit b3 full. It seems solid. Following my usual testing regimen, I've found <strong>zero</strong> functional bugs.<br>
<br>
One cosmetic issue I screencapped ~~ odd wordwrap due to a too-small dialogbox:<br>
<img src="https://i.imgbox.com/BJ9ENRRN.jpg" class="postimage" alt="Image"><br>
<br>
FWIW, I still haven't been able to reproduce the"icewm conky blur"</div></blockquote>
<br>
I'll echo skiddoo's comments on the conky blur. I haven't seen it in a while either. And I've been changing a lot of themes and desktops.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
117 posts
<ul>

<li class="arrow previous"><span class="jumptopagez">jump to page: </span><a class="button button-icon-only" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138.html" rel="prev" role="button"><span class="sr-only">Previous</span></a></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138.html" role="button">1</a></li>
<li class="active"><span>2</span></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s30.html" role="button">3</a></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s45.html" role="button">4</a></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s60.html" role="button">5</a></li>
<li class="ellipsis" role="separator"><span>…</span></li>
<li><a class="button" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s105.html" role="button">8</a></li>
<li class="arrow next"><a class="button button-icon-only" href="./antix-17-b3-full-base-net-core-libre-for-testing-t7138-s30.html" rel="next" role="button"><span class="sr-only">Next</span></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
