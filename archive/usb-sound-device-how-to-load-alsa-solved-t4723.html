<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>USB Sound Device -- how to load ALSA? [solved] - antiX oldforums archive</title>
     

<link rel="stylesheet" href="../aaa_style.css">
</head>
<body>

<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">

<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX oldforumums archive</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./general-f21/index.html"><span>General</span></a>
 &raquo; &raquo; 
</span>
<span class="crumb"><a href="./hardware-f13/index.html"><span>Hardware</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<h2 class="topic-title" style="display: inline-block;"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html">USB Sound Device -- how to load ALSA? [solved]</a></h2>
<div class="pagination">
12 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_32141" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32141">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32141">

<time datetime="2013-12-03T03:02">posted: 2013-12-03  &nbsp; 03:02</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32141" title="permalink">#1</a></span>

<div class="content">I just received a USB sound unit which has a C-Media CM108 audio controller along with an input device I didn't note down. It shows up in PC Information and says it uses the ALSA driver; in System Information the input and ouput devices show in the Summary (but not under USB Devices), but the mixer won't load (either automatically during start, as it does with the on-board sound in my Athlon XP 2000+ desktop system, or by manually starting the mixer from Control Centre) and Sound Test opens a terminal that closes before I can see anything in it. Needless to say, it's not playing sound (haven't even plugged in a microphone yet). I plugged the device in before starting antiX, so it should have been detected during startup, right?<br>
<br>
How can I get ALSA to load, so as to be able to open the mixer and set volume, to be followed by playing actual media files? I tried <strong>service alsa start</strong> and was informed ALSA wasn't a known service. Does it have another name to the service start/stop command?</div>

<div class="notice">
Last edited by <b>Silent Observer</b> on 15 Dec 2013, 17:41, edited 1 time in total.
</div>

</div>
</div>

</div>
</div>
<div id="p_32143" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32143">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 4,164</dd>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content32143">

<time datetime="2013-12-03T05:19">posted: 2013-12-03  &nbsp; 05:19</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32143" title="permalink">#2</a></span>

<div class="content">Errrr, has on board sound chip been disabled in bios?</div>

</div>
</div>

</div>
</div>
<div id="p_32146" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32146">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32146">

<time datetime="2013-12-03T11:50">posted: 2013-12-03  &nbsp; 11:50</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32146" title="permalink">#3</a></span>

<div class="content">I bought the USB device because Linux doesn't even <em>detect</em> the on-board sound (NeoMagic Magicwave 128X; as far as I can determine, there's never been a driver for that sound hardware for any Linux distro). Further, the on-board sound is what I use in Windows when the computer is acting as a bedside stereo (Win98 isn't safe on the internet, even just to try to find and download a driver for the USB sound, assuming there even is such a thing for Win98), so if I have to disable the on-board sound hardware to use the USB sound, I'll have to toggle it every time I switch between Windows and antiX (though once I have sound in antiX, I won't need to switch to Windows with any frequency). I'll give it a try next time I have time to test (that'll be this evening).</div>

</div>
</div>

</div>
</div>
<div id="p_32147" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32147">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 4,164</dd>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content32147">

<time datetime="2013-12-03T11:56">posted: 2013-12-03  &nbsp; 11:56</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32147" title="permalink">#4</a></span>

<div class="content">Way back when. Early in AntiX. I had 2 sound chips. one was onboard. One was a pci card. This was a Desktop.<br>
<br>
A conflict of both fighting for the operating system ensued because of that. I had to unplug disable one of them. <br>
I pulled the card and used the on board motherboard sound chip instead.<br>
That is why I mentioned that.</div>

</div>
</div>

</div>
</div>
<div id="p_32148" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32148">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32148">

<time datetime="2013-12-03T12:03">posted: 2013-12-03  &nbsp; 12:03</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32148" title="permalink">#5</a></span>

<div class="content">Hmmm. I've seen inxi dumps from folks who had multiple sound systems; it didn't occur to me that Linux would fail to resolve such a conflict. I can see potential for IRQ clashes that the OS can't resolve (some hardware doen't allow reconfiguring IRQ), but that should affect USB devices, since they're using the USB IRQs. Further, the OS is detecting the USB, but completely (as far as I've been able to determine) fails to detect the on-board. Still worth a try to toggle off the on-board next time I restart and see if that changes anything.</div>

</div>
</div>

</div>
</div>
<div id="p_32150" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32150">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 4,164</dd>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content32150">

<time datetime="2013-12-03T12:31">posted: 2013-12-03  &nbsp; 12:31</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32150" title="permalink">#6</a></span>

<div class="content">Older gear is quirkier sometimes than newer gear when it comes to <br>
<blockquote class="uncited"><div>Hmmm. I've seen inxi dumps from folks who had multiple sound systems; it didn't occur to me that Linux would fail to resolve such a conflict. </div></blockquote>
at least that has been my experience.</div>

</div>
</div>

</div>
</div>
<div id="p_32152" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32152">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<table>
<tr>
<td valign="top" class="detail-title"><a><span>Posts</span></a></td>
<td valign="top" class="detail-value"><a href="#"><span>850</span></a></td>
</tr>
</table>

 </div>
</div>
<span class="username">fatmac</span>
</dt>
<dd class="profile-joined">Joined: 26 Jul 2012</dd>
</dl>
<div class="postbody">
<div id="post_content32152">

<time datetime="2013-12-03T16:21">posted: 2013-12-03  &nbsp; 16:21</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32152" title="permalink">#7</a></span>

<div class="content">
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://www.cmedia.com.tw/ProductsDetail/page-p/C1Serno-25/C2Serno-26/PSerno-7.html"<br>linktext was:"http://www.cmedia.com.tw/ProductsDetail ... rno-7.html"<br>====================================<br>

<blockquote class="uncited"><div>Compatible with Win 2K / Win XP / Vista / 7, Linux, and Mac OS X without Additional Driver (WinCE / Win Mobile supported with C-Mediaâ€™s own Driver)</div></blockquote>
Try and find out what the sound chip is, then check to see if you have the required module. <br>
If you don't have a module you will likely need to compile the alsa sound drivers on your machine to get it working.<br>
(I had to do this on my HP-G62 when I first got it, until distros had updated drivers in them.)</div>

</div>
</div>

</div>
</div>
<div id="p_32160" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32160">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32160">

<time datetime="2013-12-04T01:04">posted: 2013-12-04  &nbsp; 01:04</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32160" title="permalink">#8</a></span>

<div class="content">It's a CM108AH chip, apparently; it's consistently reported as CM108 in everything that detects it (including on my desktop antiX system). This sound chip is reportedly fully supported by Linux. I don't get sound from the USB unit on my desktop antiX system, either, but I suspect that's because ALSA is using only the on-board hardware. I don't know how to check if I have the correct module for the CM108 on either system.<br>
<br>
FWIW, the USB sound doesn't play back on my MEPIS 11 primary system, either, but that's not really significant at this point; the system where it matter has, as far as Linux seems able to detect, no sound system other than the CM108, but won't play through it.<br>
<br>
Edit: Okay, here's the information I've (quickly) been able to figure out how to get; this is from the laptop, with the USB sound unit plugged in:<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>user@Little-Luddite:~
$ aplay -l
**** List of PLAYBACK Hardware Devices ****
card 1: Device [USB PnP Sound Device], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
user@Little-Luddite:~
$ lsmod | grep snd
snd_usb_audio          73509  0 
snd_usbmidi_lib        12785  1 snd_usb_audio
snd_hwdep               4064  1 snd_usb_audio
snd_seq_midi            3473  0 
snd_seq_midi_event      3645  1 snd_seq_midi
snd_rawmidi            12723  2 snd_usbmidi_lib,snd_seq_midi
snd_pcm                50454  1 snd_usb_audio
snd_page_alloc          5015  1 snd_pcm
snd_seq                34663  2 snd_seq_midi_event,snd_seq_midi
snd_seq_device          3890  3 snd_seq,snd_rawmidi,snd_seq_midi
snd_timer              12034  2 snd_pcm,snd_seq
snd                    36700  9 snd_usb_audio,snd_hwdep,snd_timer,snd_pcm,snd_seq,snd_rawmidi,snd_usbmidi_lib,snd_seq_device,snd_seq_midi
soundcore               3447  1 snd
user@Little-Luddite:~
$</code></pre></div>
It looks to me as if I have the appropriate modules loaded, but attempting to run alsamixer from a terminal reports"cannot open mixer: No such file or directory". This seems to suggest that the problem lies with having nothing for mixer to work on. Further, if I look at [/]dev/soundstat I find that all the sound related lines are marked as"not enabled in config". I'm starting to think ALSA simply doesn't have permission to talk to my USB device. How would I fix that?</div>

</div>
</div>

</div>
</div>
<div id="p_32161" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32161">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 4,164</dd>
<span class="username">rokytnji</span>
</dt>
<dd class="profile-joined">Joined: 20 Feb 2009</dd>
</dl>
<div class="postbody">
<div id="post_content32161">

<time datetime="2013-12-04T02:46">posted: 2013-12-04  &nbsp; 02:46</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32161" title="permalink">#9</a></span>

<div class="content"><blockquote class="uncited"><div>but attempting to run alsamixer from a terminal reports"cannot open mixer: No such file or directory".</div></blockquote>
Run it as root instead of user. This is beginning to sound like another tripping point point I ran into on my AntiX 11 install.<br>
<br>
post31277.html<br>
<br>
I got a feeling running alsa mixer as root is gonna suprise you. Then use F key in alsa mixer to enable the usb.<br>
<br>
Edit: by the way. I can't remember sh__ half the time because I have broke and fixed AntiX as a tester many many<br>
times over the years and some of my fixes are lost with dead brain cells.Just look at my post count. It would take me a week<br>
to glean over what fixes I have posted and forgot about.</div>

</div>
</div>

</div>
</div>
<div id="p_32163" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32163">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 1,308</dd>
<span class="username">BitJam</span>
</dt>
<dd class="profile-joined">Joined: 31 Aug 2009</dd>
</dl>
<div class="postbody">
<div id="post_content32163">

<time datetime="2013-12-04T03:11">posted: 2013-12-04  &nbsp; 03:11</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32163" title="permalink">#10</a></span>

<div class="content">Try running:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>sudo modprobe snd-pcm-oss</code></pre></div>This should also load the snd-mixer-oss module. It should also create the device nodes like /dev/mixer, /dev/mixer1 and /dev/dsp, /dev/audio, and /dev/adsp (these are the ones created on my system running 3.7.10antix.4 kernel). That could be enough to fix the problem.<br>
<br>
If this works then add"snd-pcm-oss" on its own line in the / etc/modules file and the modules should get loaded automatically at boot time.</div>

</div>
</div>

</div>
</div>
<div id="p_32164" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile32164">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32164">

<time datetime="2013-12-04T04:08">posted: 2013-12-04  &nbsp; 04:08</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32164" title="permalink">#11</a></span>

<div class="content">Aha!! <br>
<br>
Based on the clue about"not enabled in config" I did a file search for *.conf and found [/]etc/modprobe.d/alsa-base.conf -- which contains a line that prevents a USB sound card from loading in the first position. With no other cards to load ahead of the USB, that was preventing the USB from loading at all; commenting out that line and restarting brought up the speaker icon when fluxbox loaded, allowed me to adjust volume control, allowed me to load a music file into Gnome Mplayer, and hear the resulting output (right down to the pops and such from the original vinyl I recorded from). IOW, I was correct in thinking ALSA didn't have permission to talk to my USB sound device. Now it does...</div>

</div>
</div>

</div>
</div>
<div id="p_32355" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile32355">
<dt class="no-profile-rank has-avatar avatar-username">
<dd class="detail-title-numposts">Posts: 347</dd>
<span class="username">Silent Observer</span>
</dt>
<dd class="profile-joined">Joined: 08 Aug 2013</dd>
</dl>
<div class="postbody">
<div id="post_content32355">

<time datetime="2013-12-15T17:40">posted: 2013-12-15  &nbsp; 17:40</time>
<span class="permalink"><a href="./usb-sound-device-how-to-load-alsa-solved-t4723.html#p32355" title="permalink">#12</a></span>

<div class="content">This issue followed along to 
<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://antix.freeforu ms.org/viewtopic.php?f=13&amp;t=4734"<br>linktext was:"this thread"<br>====================================<br>
, but it's fully fixed now. I'm marking this one solved.</div>

</div>
</div>

</div>
</div>

</div>
<div class="action-bar bar-bottom">
<div class="pagination">
12 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>

<div class="scrollToTopText"><a href="#top">Back to top</a></div> </div>
</div>

</div>
</body></html>
