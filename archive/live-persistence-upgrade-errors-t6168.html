<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>live persistence upgrade errors - antiX oldforums archive</title>
   
<link rel="stylesheet" href="../aaa_style.css">
<script type="text/javascript" src ="../aaa_oldforums.js"></script>
</head>
<body>
<div id="wrap" class="wrap">
<a id="top" class="top-anchor" accesskey="t"></a>

<div id="inner-wrap">
<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks clear-after" role="menubar">
<li class="scroll-breadcrumbs breadcrumbs">
<span class="crumb"><a href="./index.html" accesskey="h" data-navbar-reference="index"><span>antiX - oldforums archive</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./orphaned-posts-f27/index.html"><span>Orphaned Posts</span></a> &raquo;&raquo; </span>

<span class="crumb"><a href="./announcements-and-news-old-f38/index.html"><span>Announcements and News (Old)</span></a></span>
</li>
</ul>

<div id="page-body" class="page-body" role="main">
<div class="postprofile_container postprofile_Left">
<div>
<div class="topictitleheader"><span class="statictopictitle">topic title: </span><span class="topic-titleb"><a href="./live-persistence-upgrade-errors-t6168.html">live persistence upgrade errors</a></div>
<div class="pagination">
9 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>

<div class="action-bar bar-top">
</div>
<div class="viewtopic_wrapper">
<div id="p_44890" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44890">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44890">
<time datetime="2016-01-20T09:42">posted: 2016-01-20 &nbsp; 09:42</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44890" title="permalink">#1</a></span>

<div class="content">If you are seeing errors when upgrading live (frugal/persistence) like this<br>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Preconfiguring packages ...
(Reading database ... 165369 files and directories currently installed.)
Preparing to unpack .../perl_5.20.2-3+deb8u2_i386.deb ...
Unpacking perl (5.20.2-3+deb8u2) over (5.20.2-3+deb8u1) ...
dpkg: error processing archive /var/cache/apt/archives/perl_5.20.2-3+deb8u2_i386.deb (--unpack):
 unable to make backup link of `./usr/bin/pstruct' before installing new version: No such file or directory
Preparing to unpack .../libperl5.20_5.20.2-3+deb8u2_i386.deb ...
Unpacking libperl5.20 (5.20.2-3+deb8u2) over (5.20.2-3+deb8u1) ...
Preparing to unpack .../perl-base_5.20.2-3+deb8u2_i386.deb ...
Unpacking perl-base (5.20.2-3+deb8u2) over (5.20.2-3+deb8u1) ...
dpkg: error processing archive /var/cache/apt/archives/perl-base_5.20.2-3+deb8u2_i386.deb (--unpack):
 unable to make backup link of `./usr/bin/perl' before installing new version: No such file or directory
Processing triggers for man-db (2.7.0.2-5) ...
Errors were encountered while processing:
 /var/cache/apt/archives/perl_5.20.2-3+deb8u2_i386.deb
 /var/cache/apt/archives/perl-base_5.20.2-3+deb8u2_i386.deb
E: Sub-process /usr/bin/dpkg returned an error code (1)</code></pre></div>
Next boot live with cheat <strong>plink</strong> and at desktop<br>
<br>
apt-get -f install<br>
<br>
From now on antiX will have plink enabled by default (to avoid such problems). If user wants to disable it, then a noplink cheat can be used.</div>
</div>
</div>

</div>
</div>
<div id="p_44895" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44895">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content44895">

<time datetime="2016-01-20T14:38">posted: 2016-01-20 &nbsp; 14:38</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44895" title="permalink">#2</a></span>

<div class="content"><blockquote><div><cite>anticapitalista wrote:</cite>If you are seeing errors when upgrading live (frugal/persistence)...</div></blockquote>Does this only affect those systems running antiX live or is it also relevant to systems using a conventional hard disk installation?<br>
<blockquote><div><cite>anticapitalista wrote:</cite>From now on antiX will have plink enabled by default (to avoid such problems). If user wants to disable it, then a noplink cheat can be used.</div></blockquote>To help make a balanced decision on whether to enable or disable plink it will be useful to know something about the purpose plink serves in a default antiX, perhaps the use case description.</div>

</div>
</div>

</div>
</div>
<div id="p_44896" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44896">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44896">

<time datetime="2016-01-20T15:11">posted: 2016-01-20 &nbsp; 15:11</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44896" title="permalink">#3</a></span>

<div class="content"><blockquote><div><cite>SamK wrote:</cite><blockquote><div><cite>anticapitalista wrote:</cite>If you are seeing errors when upgrading live (frugal/persistence)...</div></blockquote>Does this only affect those systems running antiX live or is it also relevant to systems using a conventional hard disk installation?<br>
<blockquote><div><cite>anticapitalista wrote:</cite>From now on antiX will have plink enabled by default (to avoid such problems). If user wants to disable it, then a noplink cheat can be used.</div></blockquote>To help make a balanced decision on whether to enable or disable plink it will be useful to know something about the purpose plink serves in a default antiX, perhaps the use case description.</div></blockquote>
This only applies to live/frugal. plink is an option of the aufs file system. it has something to do with the way the the filesystem handles links.</div>
</div>
</div>

</div>
</div>
<div id="p_44897" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44897">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44897">

<time datetime="2016-01-20T15:17">posted: 2016-01-20 &nbsp; 15:17</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44897" title="permalink">#4</a></span>

<div class="content">Only affects running live, not installed.<br>
<br>
plink is connected to aufs (which is used to allow users to install apps when running during the live session). It stans for pseudo-link. Tech details here.<br>
<br>

<br>========= SCRAPER REMOVED AN EMBEDDED LINK HERE ===========<br>url was:"http://aufs.sourceforge.net/aufs.html"<br>linktext was:"http://aufs.sourceforge.net/aufs.html"<br>====================================<br>
<br>
<br>
Anyhow, skidoo had requested we default with noplink to save space and RAM usage when running/installing live.<br>
There didn't appear to be any problems, until we noticed this bug. Not pleasant. Not using noplink does not make sense (now that we know) as a default choice.</div>
</div>
</div>

</div>
</div>
<div id="p_44899" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44899">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content44899">

<time datetime="2016-01-20T16:40">posted: 2016-01-20 &nbsp; 16:40</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44899" title="permalink">#5</a></span>

<div class="content">Thanks both.<br>
<br>
Because it affects only live running, will plink default to enabled only when running live and default to disabled when conventionally installed to disk?<br>
<br>
If it is enabled for both live and installed, is there any downside or penalty to it being enabled on disk installations?</div>
</div>
</div>

</div>
</div>
<div id="p_44900" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44900">
<dt class="has-profile-rank has-avatar avatar-username">
<span class="username">anticapitalista</span>
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 5,955</span></div>

</div>
</div>
</dt>
<dd class="profile-rank">Site Admin</dd>
<dd class="profile-joined">Joined: 11 Sep 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44900">

<time datetime="2016-01-20T16:52">posted: 2016-01-20 &nbsp; 16:52</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44900" title="permalink">#6</a></span>

<div class="content"><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>If it is enabled for both live and installed, is there any downside or penalty to it being enabled on disk installations?</code></pre></div>
None that we are aware of</div>
</div>
</div>

</div>
</div>
<div id="p_44901" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44901">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 2,238</span></div>

</div>
</div>
<span class="username">dolphin_oracle</span>
</dt>
<dd class="profile-joined">Joined: 16 Dec 2007</dd>
</dl>
<div class="postbody">
<div id="post_content44901">

<time datetime="2016-01-20T16:53">posted: 2016-01-20 &nbsp; 16:53</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44901" title="permalink">#7</a></span>

<div class="content"><blockquote><div><cite>SamK wrote:</cite>Thanks both.<br>
<br>
Because it affects only live running, will plink default to enabled only when running live and default to disabled when conventionally installed to disk?<br>
<br>
If it is enabled for both live and installed, is there any downside or penalty to it being enabled on disk installations?</div></blockquote>
<br>
Since installed does not use aufs, there is no effect either way.</div>
</div>
</div>

</div>
</div>
<div id="p_44902" class="post has-profile bg1">
<div class="inner">
<dl class="postprofile" id="profile44902">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,028</span></div>

</div>
</div>
<span class="username">SamK</span>
</dt>
<dd class="profile-joined">Joined: 21 Aug 2011</dd>
</dl>
<div class="postbody">
<div id="post_content44902">

<time datetime="2016-01-20T16:54">posted: 2016-01-20 &nbsp; 16:54</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44902" title="permalink">#8</a></span>

<div class="content">Thanks again.</div>
</div>
</div>

</div>
</div>
<div id="p_44907" class="post has-profile bg2">
<div class="inner">
<dl class="postprofile" id="profile44907">
<dt class="no-profile-rank has-avatar avatar-username">
<div class="avatar-username-inner">
<div class="thread-user-detail">
<div class="detail-title-numposts"><span class="detail-title-numposts">Posts: 1,444</span></div>

</div>
</div>
<section class="desktop-hide">
<a href="#" class="username">skidoo</a>  </section>
</dt>
<dd class="profile-joined">Joined: 09 Feb 2012</dd>
</dl>
<div class="postbody">
<div id="post_content44907">

<time datetime="2016-01-20T17:53">posted: 2016-01-20 &nbsp; 17:53</time>
<span class="permalink"><a href="./live-persistence-upgrade-errors-t6168.html#p44907" title="permalink">#9</a></span>

<div class="content">Thanks for preserving the option to choose aufs noplink via cheatcode. At this point though, overlayfs seems completely stable<br>
and it supports multiple writable branches, so I'm migrating away from aufs.</div>
</div>
</div>

</div>
</div>
</div>
<div class="action-bar bar-bottom">

<div class="pagination">
9 posts
&bull; Page <strong>1</strong> of <strong>1</strong>
</div>
</div>
</div>
</div>
</div>
<div class="scrollToTopText"><a href="#top">goto top of page</a></div>

</div>
</body></html>
